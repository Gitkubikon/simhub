import{aA as t,aB as e,aC as n,aD as r,n as o}from"./index-DSIPxOWi.js";const i=()=>o.getLogger("esri.intl.substitute");function s(o,l,m={}){const{format:d={}}=m;return t(o,(t=>function u(t,o,l){let m,d;const p=t.indexOf(":");if(-1===p?m=t.trim():(m=t.slice(0,p).trim(),d=t.slice(p+1).trim()),!m)return"";const b=e(m,o);if(null==b)return"";const g=(d?null==l?void 0:l[d]:null)??(null==l?void 0:l[m]);return g?function c(t,e){switch(e.type){case"date":return r(t,e.intlOptions);case"number":return n(t,e.intlOptions);default:return i().warn("missing format descriptor for key {key}"),f(t)}}(b,g):d?function a(t,e){switch(e.toLowerCase()){case"dateformat":return r(t);case"numberformat":return n(t);default:return i().warn(`inline format is unsupported since 4.12: ${e}`),/^(dateformat|datestring)/i.test(e)?r(t):/^numberformat/i.test(e)?n(t):f(t)}}(b,d):f(b)}(t,l,d)))}function f(t){switch(typeof t){case"string":return t;case"number":return n(t);case"boolean":return""+t;default:return t instanceof Date?r(t):""}}export{s};
