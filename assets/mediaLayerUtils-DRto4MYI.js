import{$ as e,j as r}from"./utils-CNFe6p3t.js";import{h4 as t,eP as a,eI as s,eJ as n,eL as i}from"./index-DSIPxOWi.js";const o="Media Layer",u=["media-layer:unsupported-source"];function m(e){return{isValid:"media"===e.type,errorMessage:"Layer.type should be 'media'"}}function c(e){return a(e,"portal-item",!0)}function y(e){return e.layerJSON}async function f(e,r){r.extent=e.fullExtent?await s(e.fullExtent):null}async function d(e,r){r.title||(r.title=e.title),await f(e,r),n(r,i.METADATA)}async function x(r,a){return e({layer:r,itemType:o,validateLayer:m,createJSONContext:e=>c(e),createItemData:y,errorNamePrefix:"media-layer-save",supplementalUnsupportedErrors:u,setItemProperties:f,saveResources:(e,a)=>t(r.resourceReferences,a)},a)}async function v(e,a,s){return r({layer:e,itemType:o,validateLayer:m,createJSONContext:e=>c(e),createItemData:y,errorNamePrefix:"media-layer-save-as",supplementalUnsupportedErrors:u,newItem:a,setItemProperties:d,saveResources:(r,a)=>t(e.resourceReferences,a)},s)}export{x as save,v as saveAs};
