import{e,y as t,a as r,ac as i,ad as s,b as o,ae as a,J as p}from"./index-DSIPxOWi.js";import{g as l}from"./FeatureLayerViewBase3D-BxcSlUqN.js";import"./HeatmapDensity.glsl-jGaN0eX9.js";import"./timeSupport-CU-EQyfu.js";import"./projectExtentUtils-KG39_WUt.js";import"./dehydratedFeatureComparison-dI04k89u.js";import"./queryForSymbologySnapping-CEKgwdf_.js";import"./hash-BjBdcEEU.js";import"./Graphics3DObjectStates-B77mD6jz.js";import"./optimizedFeatureQueryEngineAdapter--U1rvwBV.js";import"./PooledRBush-DOZnXWx2.js";import"./quickselect-D9ta8ndX.js";import"./floorFilterUtils-2NbRkqHK.js";import"./QueryEngine-DAD9skS_.js";import"./normalizeUtils-BrH-PrZy.js";import"./normalizeUtilsCommon-BU8xfl77.js";import"./WhereClause-DYd7Xwn9.js";import"./TimeOnly-C5lZbbIX.js";import"./json-omtrO2vq.js";import"./QueryEngineCapabilities-CTDe3LlQ.js";import"./utils-B-uQJqPz.js";import"./utils-DEUXBrCj.js";import"./utils-1_4Re7um.js";import"./ClassBreaksDefinition-Dt1HCCB7.js";import"./FeatureStore-Dpo5Syxq.js";import"./BoundsStore-BQ0MOdb7.js";import"./LayerView3D-ApO6iJqK.js";import"./query-C2USZ63O.js";import"./pbfQueryUtils-DUjEbwA9.js";import"./pbf-B53Txr8m.js";import"./WorkerHandle-Bq2affGI.js";import"./EventedSet-D3TBRYG7.js";import"./LayerView-DMoB2q_T.js";import"./RefreshableLayerView-MYyyoaX8.js";let n=class extends l{constructor(){super(...arguments),this.type="feature-3d",this.direct3DObjectFeatureLayerDisplayEnabled=i()}initialize(){var e;const{layer:t,view:r}=this;(null==(e=s(t))?void 0:e.operations.supportsQuery)||this.addResolvingPromise(Promise.reject(new o("featurelayerview:query-not-supported","layer view requires a layer with query capability",{layer:t}))),null!=t.infoFor3D&&(this.direct3DObjectFeatureLayerDisplayEnabled?this.addResolvingPromise((async()=>{const e=await a((()=>this.graphicsPipeline));this.destroyed||e.destroyed||(e.suspendResumeExtentMode="computed")})()):this.addResolvingPromise(Promise.reject(new o("featurelayerview3d:unsupported-geometry-type",`Unsupported geometry type ${t.geometryType}`)))),"mesh"!==t.geometryType||p(t.spatialReference,r.spatialReference)||this.addResolvingPromise(Promise.reject(new o("layerview:spatial-reference-incompatible","The spatial references of the feature layer is incompatible with the spatial reference of the view")))}get featureSpatialReference(){var e,t;return null==(t=null==(e=this.view.featureTiles)?void 0:e.tilingScheme)?void 0:t.spatialReference}};e([t({constructOnly:!0})],n.prototype,"direct3DObjectFeatureLayerDisplayEnabled",void 0),e([t()],n.prototype,"layer",void 0),n=e([r("esri.views.3d.layers.FeatureLayerView3D")],n);const m=n;export{m as default};
