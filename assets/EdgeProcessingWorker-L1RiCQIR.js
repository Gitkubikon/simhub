import{u as e}from"./workerHelper-CgQLvwGd.js";import{f4 as t,f5 as n,f6 as s,f7 as i,f8 as r,f9 as a}from"./index-DSIPxOWi.js";class o{async extract(e){const n=c(e),s=t(n),i=[n.data.buffer];return{result:u(s,i),transferList:i}}async extractComponentsEdgeLocations(t){const i=c(t),r=n(i.data,i.skipDeduplicate,i.indices,i.indicesLength),a=s(r,p),f=[];return{result:e(a.regular.instancesData,f),transferList:f}}async extractEdgeLocations(t){const i=c(t),r=n(i.data,i.skipDeduplicate,i.indices,i.indicesLength),a=s(r,f),p=[];return{result:e(a.regular.instancesData,p),transferList:p}}}function c(e){return{data:i.createView(e.dataBuffer),indices:"Uint32Array"===e.indicesType?new Uint32Array(e.indices):"Uint16Array"===e.indicesType?new Uint16Array(e.indices):e.indices,indicesLength:e.indicesLength,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}}function u(t,n){return n.push(t.regular.lodInfo.lengths.buffer),n.push(t.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:e(t.regular.instancesData,n),lodInfo:{lengths:t.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:e(t.silhouette.instancesData,n),lodInfo:{lengths:t.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:t.averageEdgeLength}}const f=new class l{allocate(e){return r.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1)}},p=new class d{allocate(e){return a.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex)}};export{o as default};
