import{a as e,n as t,m as a}from"./TimeOnly-C5lZbbIX.js";import{aA as u,l8 as l,lU as c,lT as I,oo as M,op as L,f3 as V,m as et,l9 as tt}from"./index-DSIPxOWi.js";var rt,nt;(nt=rt||(rt={})).InvalidFunctionParameters="InvalidFunctionParameters",nt.InvalidValueForAggregateFunction="InvalidValueForAggregateFunction",nt.UnsupportedSqlFunction="UnsupportedSqlFunction",nt.UnsupportedOperator="UnsupportedOperator",nt.UnsupportedSyntax="UnsupportedSyntax",nt.UnsupportedIsRhs="UnsupportedIsRhs",nt.UnsupportedIsLhs="UnsupportedIsLhs",nt.InvalidDataType="InvalidDataType",nt.CannotCastValue="CannotCastValue",nt.FunctionNotRecognized="FunctionNotRecognized",nt.InvalidTime="InvalidTime",nt.InvalidParameterCount="InvalidParameterCount",nt.InvalidTimeStamp="InvalidTimeStamp",nt.InvalidDate="InvalidDate",nt.InvalidOperator="InvalidOperator",nt.IllegalInterval="IllegalInterval",nt.YearMonthIntervals="YearMonthIntervals",nt.PrimarySecondaryQualifiers="PrimarySecondaryQualifiers",nt.MissingStatisticParameters="MissingStatisticParameters";const at={[rt.InvalidValueForAggregateFunction]:"Invalid value used in aggregate function",[rt.MissingStatisticParameters]:"Statistic does not have 1 or 0 Parameters",[rt.InvalidFunctionParameters]:"Invalid parameters for call to {function}",[rt.UnsupportedIsLhs]:"Unsupported left hand expression in is statement",[rt.UnsupportedIsRhs]:"Unsupported right hand expression in is statement",[rt.UnsupportedOperator]:"Unsupported operator - {operator}",[rt.UnsupportedSyntax]:"Unsupported syntax - {node}",[rt.UnsupportedSqlFunction]:"Sql function not found = {function}",[rt.InvalidDataType]:"Invalid sql data type",[rt.InvalidDate]:"Invalid date encountered",[rt.InvalidOperator]:"Invalid operator encountered",[rt.InvalidTime]:"Invalid time encountered",[rt.IllegalInterval]:"Illegal interval",[rt.FunctionNotRecognized]:"Function not recognized",[rt.InvalidTimeStamp]:"Invalid timestamp encountered",[rt.InvalidParameterCount]:"Invalid parameter count for call to {name}",[rt.PrimarySecondaryQualifiers]:"Primary and Secondary SqlInterval qualifiers not supported",[rt.YearMonthIntervals]:"Year-Month Intervals not supported",[rt.CannotCastValue]:"Cannot cast value to the required data type"};let it=class n extends Error{constructor(e,t){super(u(at[e],t)),this.declaredRootClass="esri.arcade.featureset.support.sqlerror",Error.captureStackTrace&&Error.captureStackTrace(this,n)}};var ot;!function(e){e.NeverReach="NeverReach",e.NotImplemented="NotImplemented",e.Cancelled="Cancelled",e.InvalidStatResponse="InvalidStatResponse",e.InvalidRequest="InvalidRequest",e.RequestFailed="RequestFailed",e.MissingFeatures="MissingFeatures",e.AggregationFieldNotFound="AggregationFieldNotFound",e.DataElementsNotFound="DataElementsNotFound"}(ot||(ot={}));const ut={[ot.Cancelled]:"Cancelled",[ot.InvalidStatResponse]:"Invalid statistics response from service",[ot.InvalidRequest]:"Invalid request",[ot.RequestFailed]:"Request failed - {reason}",[ot.MissingFeatures]:"Missing features",[ot.AggregationFieldNotFound]:"Aggregation field not found",[ot.DataElementsNotFound]:"Data elements not found on service",[ot.NeverReach]:"Encountered unreachable logic",[ot.NotImplemented]:"Not implemented"};let st=class s extends Error{constructor(e,t){super(u(ut[e],t)),this.declaredRootClass="esri.arcade.featureset.support.featureseterror",Error.captureStackTrace&&Error.captureStackTrace(this,s)}};function e$1(e){return Number.isNaN(e)||0===e?e:Math.trunc(e)}class r{constructor(e){this._timeStampOffset=e,this._date=null}toDateTime(){return this._date??(this._date=l.fromISO(this._timeStampOffset,{setZone:!0})),this._date}get isValid(){return this.toDateTime().isValid}get timezoneOffsetHour(){return e$1(this.toDateTime().offset/60)}get timezoneOffsetMinutes(){return e$1(this.toDateTime().offset%60)}toMilliseconds(){return this.toDateTime().toMillis()}get hour(){return this.toDateTime().hour}get minute(){return this.toDateTime().minute}get second(){return this.toDateTime().second}get day(){return this.toDateTime().day}get month(){return this.toDateTime().month}get year(){return this.toDateTime().year}startOfDay(){return r.fromDateTime(this.toDateTime().startOf("day"))}static fromJSDate(e){return new r(l.fromJSDate(e).toISO({includeOffset:!0}))}static fromDateTime(e){return new r(e.toISO({includeOffset:!0}))}static fromParts(e,t,a=0,u=0,l=0,c=0,I=0,M=!1,L=0,V=0){const et=`${e.toString().padStart(4,"0")}-${t.toString().padStart(2,"0")}-${a.toString().padStart(2,"0")}`;let tt="";c<10&&(tt="0");let rt=`${u.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}:${tt+c.toString()}`;0!==I&&(rt+="."+I.toString().padStart(3,"0"));const nt=`${M?"-":"+"}${L.toString().padStart(2,"0")}:${V.toString().padStart(2,"0")}`;return new r(et+"T"+rt+nt)}toStorageFormat(){return this._timeStampOffset}toString(){return this._timeStampOffset}toSQLValue(){let e=this.toDateTime().toSQL({includeOffset:!0,includeOffsetSpace:!0});return e&&(e=e.replace(".000","")),e}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}addMilliseconds(e){const t=this.toDateTime().plus(e);return r.fromDateTime(t)}}function o$1(e,t){const a=lt[e.toLowerCase()];return null!=a&&t>=a.minParams&&t<=a.maxParams}const lt={min:{minParams:1,maxParams:1,evaluate:e=>f$1(e[0],"min")},max:{minParams:1,maxParams:1,evaluate:e=>f$1(e[0],"max")},avg:{minParams:1,maxParams:1,evaluate:e=>i(e[0])},sum:{minParams:1,maxParams:1,evaluate:e=>function c$1(e){if(null===e)return null;let t=0;for(let a=0;a<e.length;a++){const u=e[a];if(null!==u){if(!s$1(u))throw new it(rt.InvalidValueForAggregateFunction);t+=u}}return t}(e[0])},stddev:{minParams:1,maxParams:1,evaluate:e=>function g$2(e){if(null===e)return null;const t=P$2(e);return null===t?null:Math.sqrt(t)}(e[0])},count:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:e[0].length},var:{minParams:1,maxParams:1,evaluate:e=>P$2(e[0])}};function i(e){if(null===e)return null;let t=0,a=0;for(let u=0;u<e.length;u++){const l=e[u];if(null!==l){if(!s$1(l))throw new it(rt.InvalidValueForAggregateFunction);a++,t+=l}}return 0===a?null:t/e.length}function s$1(e){return"number"==typeof e}function f$1(a,u){if(null===a)return null;let c=null,I=null;for(const M of a){let a=M;a=M instanceof e||M instanceof t?M.toNumber():M instanceof l?M.toMillis():M instanceof r?M.toMilliseconds():M,(null===c||"max"===u&&null!==I&&null!==a&&I<=a||"min"===u&&null!==I&&null!==a&&I>=a)&&(c=M,I=a)}return c}function P$2(e){if(null===e)return null;if(0===(e=e.filter((e=>null!==e))).length)return null;const t=i(e);if(null===t)return null;let a=0;for(const u of e){if(!s$1(u))throw new it(rt.InvalidValueForAggregateFunction);a+=(t-u)**2}return a/(e.length-1)}class s2{constructor(){this.op="+",this.day=0,this.second=0,this.hour=0,this.month=0,this.year=0,this.minute=0,this.millis=0}static _fixDefaults(e){if(null!==e.precision||null!==e.secondary)throw new it(rt.PrimarySecondaryQualifiers)}static _parseSecondsComponent(e,t){if(t.includes(".")){const a=t.split(".");e.second=parseFloat(a[0]),e.millis=parseInt(a[1],10)}else e.second=parseFloat(t)}static createFromMilliseconds(e){const t=new s2;return t.second=e/1e3,t}static createFromValueAndQualifier(e,t,a){let u=null;const l=new s2;if(l.op="-"===a?"-":"+","interval-period"===t.type){s2._fixDefaults(t);const a=new RegExp("^[0-9]{1,}$");if("year"===t.period||"month"===t.period)throw new it(rt.YearMonthIntervals);if("second"===t.period){if(!/^[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/.test(e))throw new it(rt.IllegalInterval);s2._parseSecondsComponent(l,e)}else{if(!a.test(e))throw new it(rt.IllegalInterval);l[t.period]=parseFloat(e)}}else{if(s2._fixDefaults(t.start),s2._fixDefaults(t.end),"year"===t.start.period||"month"===t.start.period||"year"===t.end.period||"month"===t.end.period)throw new it(rt.YearMonthIntervals);switch(t.start.period){case"day":switch(t.end.period){case"hour":if(u=new RegExp("^[0-9]{1,} [0-9]{1,}$"),!u.test(e))throw new it(rt.IllegalInterval);l[t.start.period]=parseFloat(e.split(" ")[0]),l[t.end.period]=parseFloat(e.split(" ")[1]);break;case"minute":if(u=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$"),!u.test(e))throw new it(rt.IllegalInterval);{l[t.start.period]=parseFloat(e.split(" ")[0]);const a=e.split(" ")[1].split(":");l.hour=parseFloat(a[0]),l.minute=parseFloat(a[1])}break;case"second":if(u=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!u.test(e))throw new it(rt.IllegalInterval);{l[t.start.period]=parseFloat(e.split(" ")[0]);const a=e.split(" ")[1].split(":");l.hour=parseFloat(a[0]),l.minute=parseFloat(a[1]),s2._parseSecondsComponent(l,a[2])}break;default:throw new it(rt.IllegalInterval)}break;case"hour":switch(t.end.period){case"minute":if(u=new RegExp("^[0-9]{1,}:[0-9]{1,}$"),!u.test(e))throw new it(rt.IllegalInterval);l.hour=parseFloat(e.split(":")[0]),l.minute=parseFloat(e.split(":")[1]);break;case"second":if(u=new RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!u.test(e))throw new it(rt.IllegalInterval);{const t=e.split(":");l.hour=parseFloat(t[0]),l.minute=parseFloat(t[1]),s2._parseSecondsComponent(l,t[2])}break;default:throw new it(rt.IllegalInterval)}break;case"minute":if("second"!==t.end.period)throw new it(rt.IllegalInterval);if(u=new RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!u.test(e))throw new it(rt.IllegalInterval);{const t=e.split(":");l.minute=parseFloat(t[0]),s2._parseSecondsComponent(l,t[1])}break;default:throw new it(rt.IllegalInterval)}}return l}valueInMilliseconds(){return("-"===this.op?-1:1)*(this.millis+1e3*this.second+60*this.minute*1e3+60*this.hour*60*1e3+24*this.day*60*60*1e3+this.month*(365/12)*24*60*60*1e3+365*this.year*24*60*60*1e3)}}const ct=/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/,ft=/^(\d{1,2}):(\d{1,2})$/,dt=/^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/,pt=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,ht=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$/,vt=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|-)(\d{1,2}):(\d{1,2})$/,mt=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|-)(\d{1,2}):(\d{1,2})$/,wt=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/;function T$3(e,t){if(t instanceof c)return t===I.instance?l.fromMillis(e.getTime(),{zone:I.instance}):l.fromJSDate(e,{zone:t});switch(t){case"system":case"local":case null:return l.fromJSDate(e);default:return"unknown"===(null==t?void 0:t.toLowerCase())?l.fromMillis(e.getTime(),{zone:I.instance}):l.fromJSDate(e,{zone:t})}}function v$3(e){return"number"==typeof e}function y$2(e){return"string"==typeof e||e instanceof String}function S$1(e){return e instanceof s2}function x$4(e){return e instanceof Date}function j$3(e){return e instanceof l}function $$1(t){return t instanceof e}function z$2(e){return e instanceof t}function D$3(e){return e instanceof r}function O$3(e){let a=ct.exec(e);if(null!==a){const[,e,u,l]=a,c=t.fromParts(parseInt(e,10),parseInt(u,10),parseInt(l,10),0);if(null!==c)return c;throw new it(rt.InvalidTime)}if(a=ft.exec(e),null!==a){const[,e,u]=a,l=t.fromParts(parseInt(e,10),parseInt(u,10),0,0);if(null!==l)return l;throw new it(rt.InvalidTime)}if(a=dt.exec(e),null!==a){const[,e,u,l,c]=a,I=t.fromParts(parseInt(e,10),parseInt(u,10),parseInt(l,10),parseInt(c,10));if(null!==I)return I;throw new it(rt.InvalidTime)}throw new it(rt.InvalidTime)}function P$1(e,t,a=!1){let u=ht.exec(e);if(null!==u){const[,e,a,c,I,L,V,et]=u,tt=l.fromObject({year:parseInt(e,10),month:parseInt(a,10),day:parseInt(c,10),hour:parseInt(I,10),minute:parseInt(L,10),second:parseInt(V,10),millisecond:et?parseInt(et.replace(".",""),10):0},{zone:M(t)});if(!1===tt.isValid)throw new it(rt.InvalidTimeStamp);return tt}if(u=vt.exec(e),null!==u){const[,e,t,a,l,c,I,M,L,V,et]=u,tt=r.fromParts(parseInt(e,10),parseInt(t,10),parseInt(a,10),parseInt(l,10),parseInt(c,10),parseInt(I,10),M?parseInt(M.replace(".",""),10):0,"-"===L,parseInt(V,10),parseInt(et,10));if(!1===tt.isValid)throw new it(rt.InvalidTimeStamp);return tt}if(u=mt.exec(e),null!==u){const[,e,t,a,l,c,I,M,L]=u,V=r.fromParts(parseInt(e,10),parseInt(t,10),parseInt(a,10),parseInt(l,10),parseInt(c,10),0,0,"-"===I,parseInt(M,10),parseInt(L,10));if(!1===V.isValid)throw new it(rt.InvalidTimeStamp);return V}if(u=wt.exec(e),null!==u){const[,e,a,c,I,L]=u,V=l.fromObject({year:parseInt(e,10),month:parseInt(a,10),day:parseInt(c,10),hour:parseInt(I,10),minute:parseInt(L,10),second:0},{zone:M(t)});if(!1===V.isValid)throw new it(rt.InvalidTimeStamp);return V}if(u=pt.exec(e),null!==u){const[,e,a,c]=u,I=l.fromObject({year:parseInt(e,10),month:parseInt(a,10),day:parseInt(c,10),hour:0,minute:0,second:0},{zone:M(t)});if(!1===I.isValid)throw new it(rt.InvalidTimeStamp);return I}throw new it(rt.InvalidTimeStamp)}function V$2(t,a){const u=pt.exec(t);if(null===u)try{return P$1(t,a)}catch{throw new it(rt.InvalidDate)}const[,l,c,I]=u,M=e.fromParts(parseInt(l,10),parseInt(c,10),parseInt(I,10));if(null===M)throw new it(rt.InvalidDate);return M}const It=321408e5,$t=26784e5,gt=864e5,yt=36e5,Tt=6e4;function h$1(e){return!!j$3(e)||!!D$3(e)}function O$2(e){return!!(j$3(e)||$$1(e)||D$3(e)||z$2(e))}function v$2(e){if(j$3(e))return e.toMillis();if($$1(e))return e.toNumber();if(D$3(e))return e.toMilliseconds();throw new it(rt.InvalidDataType)}function I$2(e,t,a,u){if(null==e||null==t)return null;if(v$3(e)){if(v$3(t))return D$2(e,t,a);if(y$2(t))return function T$2(e,t,a){const u=parseFloat(t);if(!isNaN(u))return D$2(e,u,a);const l=e.toString();switch(a){case"<>":return l!==t;case"=":return l===t;case">":return l>t;case"<":return l<t;case">=":return l>=t;case"<=":return l<=t}}(e,t,a);if(O$2(t))throw new it(rt.InvalidOperator);if($$1(t))throw new it(rt.InvalidOperator)}else if(y$2(e)){if(v$3(t))return function M$3(e,t,a){const u=parseFloat(e);if(!isNaN(u))return D$2(u,t,a);const l=t.toString();switch(a){case"<>":return e!==l;case"=":return e===l;case">":return e>l;case"<":return e<l;case">=":return e>=l;case"<=":return e<=l}}(e,t,a);if(y$2(t))return function z$1(e,t,a){switch(a){case"<>":return e!==t;case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}}(e,t,a);if(j$3(t))throw new it(rt.InvalidOperator);if($$1(t))throw new it(rt.InvalidOperator);if(z$2(t))throw new it(rt.InvalidOperator);if(D$3(t))throw new it(rt.InvalidOperator)}else if(j$3(e)){if(h$1(t)){if(e instanceof l&&L(e.zone)){if(t instanceof l&&!1===L(t.zone))return j$2(e,t,a);if(t instanceof r)return j$2(e,t,a)}else if(t instanceof l&&L(t.zone)){if(e instanceof l&&!1===L(e.zone))return j$2(e,t,a);if(e instanceof r)return j$2(e,t,a)}return D$2(v$2(e),v$2(t),a)}if(y$2(t))throw new it(rt.InvalidOperator);if($$1(t))return function N$1(e,t,a){const u=t.toDateTimeLuxon(e.zone);return D$2((e=e.startOf("day")).toMillis(),u.toMillis(),a)}(e,t,a);if(z$2(t))throw new it(rt.InvalidOperator);if(v$3(t))throw new it(rt.InvalidOperator)}else if($$1(e)){if(D$3(t))return function b$2(e,t,a){const u=e.toDateTimeLuxon(t.toDateTime().zone);return t=t.startOfDay(),D$2(u.toMillis(),t.toMilliseconds(),a)}(e,t,a);if(j$3(t))return function x$3(e,t,a){const u=e.toDateTimeLuxon(t.zone);return t=t.startOf("day"),D$2(u.toMillis(),t.toMillis(),a)}(e,t,a);if(y$2(t))throw new it(rt.InvalidOperator);if($$1(t))return D$2(e.toNumber(),t.toNumber(),a);if(z$2(t))throw new it(rt.InvalidOperator);if(v$3(t))throw new it(rt.InvalidOperator)}else if(z$2(e)){if(z$2(t))return D$2(e.toNumber(),t.toNumber(),a);if(y$2(t))throw new it(rt.InvalidOperator);if(v$3(t))throw new it(rt.InvalidOperator);if($$1(t))throw new it(rt.InvalidOperator);if(h$1(t))throw new it(rt.InvalidOperator)}else if(D$3(e)){if(h$1(t))return t instanceof l&&L(t.zone)?j$2(e,t,a):D$2(v$2(e),v$2(t),a);if(y$2(t))throw new it(rt.InvalidOperator);if($$1(t))return function y$1(e,t,a){const u=t.toDateTimeLuxon(e.toDateTime().zone);return D$2((e=e.startOfDay()).toMilliseconds(),u.toMillis(),a)}(e,t,a);if(z$2(t))throw new it(rt.InvalidOperator);if(v$3(t))throw new it(rt.InvalidOperator)}switch(a){case"<>":return e!==t;case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}}function D$2(e,t,a){switch(a){case"<>":return e!==t;case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}}function j$2(e,t,a){e instanceof r&&(e=e.toDateTime()),t instanceof r&&(t=t.toDateTime());const u=L$2(e),l=L$2(t);switch(a){case"<>":return u!==l;case"=":return u===l;case">":return u>l;case"<":return u<l;case">=":return u>=l;case"<=":return u<=l}}function L$2(e){return e.year*It+e.month*$t+e.day*gt+e.hour*yt+e.minute*Tt+1e3*e.second+e.millisecond}function w$1(e,t,a){const u=Nt[e.toLowerCase()];if(null==u)throw new it(rt.FunctionNotRecognized);if(t.length<u.minParams||t.length>u.maxParams)throw new it(rt.InvalidParameterCount,{name:e.toUpperCase()});return u.evaluate(t,a)}function p$1(e){return"string"==typeof e||e instanceof String}function g$1(e){return!(x$4(e)||$$1(e)||j$3(e)||z$2(e)||D$3(e))}function x$2(e){return $$1(e)||z$2(e)?e.toString():D$3(e)?e.toSQLValue():j$3(e)?0===e.millisecond?e.toFormat("yyyy-LL-dd HH:mm:ss"):e.toSQL({includeOffset:!1}):x$4(e)?x$2(l.fromJSDate(e)):e.toString()}const Nt={extract:{minParams:2,maxParams:2,evaluate:([e,t])=>{if(null==t)return null;if(x$4(t))switch(e.toUpperCase()){case"SECOND":return t.getSeconds();case"MINUTE":return t.getMinutes();case"HOUR":return t.getHours();case"DAY":return t.getDate();case"MONTH":return t.getMonth()+1;case"YEAR":return t.getFullYear();case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":return 0}else if(j$3(t))switch(e.toUpperCase()){case"SECOND":return t.second;case"MINUTE":return t.minute;case"HOUR":return t.hour;case"DAY":return t.day;case"MONTH":return t.month;case"YEAR":return t.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new it(rt.InvalidFunctionParameters,{function:"EXTRACT"})}else if($$1(t))switch(e.toUpperCase()){case"DAY":return t.day;case"MONTH":return t.month;case"YEAR":return t.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new it(rt.InvalidFunctionParameters,{function:"EXTRACT"})}else if(z$2(t))switch(e.toUpperCase()){case"SECOND":return t.second;case"MINUTE":return t.minute;case"HOUR":return t.hour}else if(D$3(t))switch(e.toUpperCase()){case"SECOND":return t.second;case"MINUTE":return t.minute;case"HOUR":return t.hour;case"DAY":return t.day;case"MONTH":return t.month;case"YEAR":return t.year;case"TIMEZONE_HOUR":return t.timezoneOffsetHour;case"TIMEZONE_MINUTE":return t.timezoneOffsetMinutes}throw new it(rt.InvalidFunctionParameters,{function:"EXTRACT"})}},substring:{minParams:2,maxParams:3,evaluate:e=>{if(2===e.length){const[t,a]=e;return null==t||null==a?null:t.toString().substring(a-1)}if(3===e.length){const[t,a,u]=e;return null==t||null==a||null==u?null:u<=0?"":t.toString().substring(a-1,a+u-1)}}},position:{minParams:2,maxParams:2,evaluate:([e,t])=>null==e||null==t?null:t.indexOf(e)+1},trim:{minParams:2,maxParams:3,evaluate:e=>{const t=3===e.length,a=t?e[1]:" ",u=t?e[2]:e[1];if(null==a||null==u)return null;const l=`(${V(a)})`;switch(e[0]){case"BOTH":return u.replaceAll(new RegExp(`^${l}*|${l}*$`,"g"),"");case"LEADING":return u.replaceAll(new RegExp(`^${l}*`,"g"),"");case"TRAILING":return u.replaceAll(new RegExp(`${l}*$`,"g"),"")}throw new it(rt.InvalidFunctionParameters,{function:"TRIM"})}},abs:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.abs(e[0])},ceiling:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.ceil(e[0])},floor:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.floor(e[0])},log:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.log(e[0])},log10:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.log(e[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.sin(e[0])},cos:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.cos(e[0])},tan:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.tan(e[0])},asin:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.asin(e[0])},acos:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.acos(e[0])},atan:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.atan(e[0])},sign:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:e[0]>0?1:e[1]<0?-1:0},power:{minParams:2,maxParams:2,evaluate:e=>null==e[0]||null==e[1]?null:e[0]**e[1]},mod:{minParams:2,maxParams:2,evaluate:e=>null==e[0]||null==e[1]?null:e[0]%e[1]},round:{minParams:1,maxParams:2,evaluate:e=>{const t=e[0],a=2===e.length?10**e[1]:1;return null==t?null:Math.round(t*a)/a}},truncate:{minParams:1,maxParams:2,evaluate:e=>null==e[0]?null:1===e.length?parseInt(e[0].toFixed(0),10):parseFloat(e[0].toFixed(e[1]))},char_length:{minParams:1,maxParams:1,evaluate:e=>p$1(e[0])?e[0].length:0},concat:{minParams:1,maxParams:1/0,evaluate:e=>{let t="";for(let a=0;a<e.length;a++){if(null==e[a])return null;t+=e[a].toString()}return t}},lower:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:e[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:e[0].toString().toUpperCase()},coalesce:{minParams:1,maxParams:1/0,evaluate:e=>{for(const t of e)if(null!==t)return t;return null}},cosh:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.cosh(e[0])},sinh:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.sinh(e[0])},tanh:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.tanh(e[0])},nullif:{minParams:2,maxParams:2,evaluate:(e,t)=>I$2(e[0],e[1],"=")?null:e[0]},cast:{minParams:2,maxParams:2,evaluate:(a,u)=>{const l=a[0],c=a[1];if(null===l)return null;switch(c.type){case"integer":{if(!g$1(l))throw new it(rt.CannotCastValue);const e=parseInt(l,10);if(isNaN(e))throw new it(rt.CannotCastValue);return e}case"smallint":{if(!g$1(l))throw new it(rt.CannotCastValue);const e=parseInt(l,10);if(isNaN(e))throw new it(rt.CannotCastValue);if(e>32767||e<-32767)throw new it(rt.CannotCastValue);return e}case"float":case"real":{if(!g$1(l))throw new it(rt.CannotCastValue);const e=parseFloat(l);if(isNaN(e))throw new it(rt.CannotCastValue);return e}case"time":return function v$1(e){if(x$4(e))return t.fromDateJS(e);if(j$3(e))return t.fromDateTime(e);if($$1(e))throw new it(rt.CannotCastValue);if(z$2(e))return e;if(D$3(e))return t.fromSqlTimeStampOffset(e);if(p$1(e))return O$3(e);throw new it(rt.CannotCastValue)}(l);case"date":return function E$2(t){if(x$4(t))return e.fromDateJS(t);if(j$3(t))return e.fromParts(t.year,t.month,t.day);if($$1(t))return t;if(z$2(t))throw new it(rt.CannotCastValue);if(D$3(t)&&null===e.fromParts(t.year,t.month,t.day))throw new it(rt.CannotCastValue);if(p$1(t)){const a=e.fromReader(t);if(null!==a&&a.isValid)return a}throw new it(rt.CannotCastValue)}(l);case"timestamp":return function M$2(e,t,a){if(x$4(e))return T$3(e,t);if(j$3(e))return e;if($$1(e))return e.toDateTimeLuxon("unknown");if(z$2(e))throw new it(rt.CannotCastValue);if(D$3(e))return e;if(p$1(e))return P$1(e,"unknown",a);throw new it(rt.CannotCastValue)}(l,u,!0===c.withtimezone);case"varchar":{const e=x$2(l);if(e.length>c.size)throw new it(rt.CannotCastValue);return e}default:throw new it(rt.InvalidDataType)}}}};function d(e,t,a,u){if("||"===e)return w$1("concat",[t,a],u);if(null===t||null===a)return null;if(v$3(t)){if(v$3(a))return f(t,a,e);if(S$1(a))return function M$1(e,t,a){switch(a){case"+":return s2.createFromMilliseconds(e+t.valueInMilliseconds());case"-":return s2.createFromMilliseconds(e-t.valueInMilliseconds());case"*":return s2.createFromMilliseconds(e*t.valueInMilliseconds());case"/":return s2.createFromMilliseconds(e/t.valueInMilliseconds())}throw new it(rt.InvalidOperator)}(t,a,e);if(z$2(a))return function U$1(e,t,a){throw new it(rt.InvalidOperator)}();if($$1(a))return function q$1(e,t,a){throw new it(rt.InvalidOperator)}();if(D$3(a))return function N(e,t,a){throw new it(rt.InvalidOperator)}();if(j$3(a))return function z(e,t,a){throw new it(rt.InvalidOperator)}();if(y$2(a))return function C$1(e,t,a){const u=parseFloat(t);if(isNaN(u))throw new it(rt.InvalidOperator);return f(e,u,a)}(t,a,e);throw new it(rt.InvalidOperator)}if($$1(t)){if(v$3(a))return function x$1(e,t,a){const u=1e3*t*24*60*60;switch(a){case"+":return e.plus("milliseconds",u);case"-":return e.plus("milliseconds",-1*u)}throw new it(rt.InvalidOperator)}(t,a,e);if(S$1(a))return function T(e,t,a){switch(a){case"+":return e.plus("milliseconds",t.valueInMilliseconds());case"-":return e.plus("milliseconds",-1*t.valueInMilliseconds())}throw new it(rt.InvalidOperator)}(t,a,e);if(z$2(a))return function E$1(e,t,a){throw new it(rt.InvalidOperator)}();if($$1(a))return function B(e,t,a){if("-"===a)return e.toDateTimeLuxon("UTC").diff(t.toDateTimeLuxon("UTC")).as("days");throw new it(rt.InvalidOperator)}(t,a,e);if(D$3(a))return function A(e,t,a){if("-"===a)return e.toDateTimeLuxon(t.toDateTime().zone).diff(t.toDateTime()).as("days");throw new it(rt.InvalidOperator)}(t,a,e);if(j$3(a))return function k$1(e,t,a){if("-"===a)return e.toDateTimeLuxon(t.zone).diff(t).as("days");throw new it(rt.InvalidOperator)}(t,a,e);if(y$2(a))return function _(e,t,a){throw new it(rt.InvalidOperator)}();throw new it(rt.InvalidOperator)}if(z$2(t)){if(v$3(a))return function L$1(e,t,a){const u=1e3*t*24*60*60;switch(a){case"+":return e.plus("milliseconds",u);case"-":return e.plus("milliseconds",-1*u)}throw new it(rt.InvalidOperator)}(t,a,e);if(S$1(a))return function p(e,t,a){switch(a){case"+":return e.plus("milliseconds",t.valueInMilliseconds());case"-":return e.plus("milliseconds",-1*t.valueInMilliseconds())}throw new it(rt.InvalidOperator)}(t,a,e);if(z$2(a))return function W(e,t,a){throw new it(rt.InvalidOperator)}();if($$1(a))return function R(e,t,a){throw new it(rt.InvalidOperator)}();if(D$3(a))return function V$1(e,t,a){throw new it(rt.InvalidOperator)}();if(j$3(a))return function Q(e,t,a){throw new it(rt.InvalidOperator)}();if(y$2(a))return function nn(e,t,a){throw new it(rt.InvalidOperator)}();throw new it(rt.InvalidOperator)}if(S$1(t)){if(v$3(a))return function m(e,t,a){switch(a){case"+":return s2.createFromMilliseconds(e.valueInMilliseconds()+t);case"-":return s2.createFromMilliseconds(e.valueInMilliseconds()-t);case"*":return s2.createFromMilliseconds(e.valueInMilliseconds()*t);case"/":return s2.createFromMilliseconds(e.valueInMilliseconds()/t)}throw new it(rt.InvalidOperator)}(t,a,e);if(S$1(a))return function O(e,t,a){switch(a){case"+":return s2.createFromMilliseconds(e.valueInMilliseconds()+t.valueInMilliseconds());case"-":return s2.createFromMilliseconds(e.valueInMilliseconds()-t.valueInMilliseconds());case"*":return s2.createFromMilliseconds(e.valueInMilliseconds()*t.valueInMilliseconds());case"/":return s2.createFromMilliseconds(e.valueInMilliseconds()/t.valueInMilliseconds())}throw new it(rt.InvalidOperator)}(t,a,e);if(z$2(a))return function v(e,t,a){if("+"===a)return t.plus("milliseconds",e.valueInMilliseconds());throw new it(rt.InvalidOperator)}(t,a,e);if($$1(a))return function I$1(e,t,a){if("+"===a)return t.plus("milliseconds",e.valueInMilliseconds());throw new it(rt.InvalidOperator)}(t,a,e);if(D$3(a))return function h(e,t,a){if("+"===a)return t.addMilliseconds(e.valueInMilliseconds());throw new it(rt.InvalidOperator)}(t,a,e);if(j$3(a))return function w(e,t,a){switch(a){case"+":return t.plus({milliseconds:e.valueInMilliseconds()});case"-":return e.valueInMilliseconds()-t.toMillis()}throw new it(rt.InvalidOperator)}(t,a,e);if(y$2(a))return function P(e,t,a){throw new it(rt.InvalidOperator)}();throw new it(rt.InvalidOperator)}if(j$3(t)){if(v$3(a))return function y(e,t,a){const u=1e3*t*24*60*60;switch(a){case"+":return e.plus({milliseconds:u});case"-":return e.minus({milliseconds:u})}throw new it(rt.InvalidOperator)}(t,a,e);if(S$1(a))return function D$1(e,t,a){switch(a){case"+":return e.plus({milliseconds:t.valueInMilliseconds()});case"-":return e.minus({milliseconds:t.valueInMilliseconds()})}throw new it(rt.InvalidOperator)}(t,a,e);if(z$2(a))return function $(e,t,a){throw new it(rt.InvalidOperator)}();if($$1(a))return function Y(e,t,a){if("-"===a)return e.diff(t.toDateTimeLuxon(e.zone)).as("days");throw new it(rt.InvalidOperator)}(t,a,e);if(D$3(a))return function Z$1(e,t,a){if("-"===a)return e.diff(t.toDateTime()).as("days");throw new it(rt.InvalidOperator)}(t,a,e);if(j$3(a))return function X(e,t,a){if("-"===a)return e.diff(t).as("days");throw new it(rt.InvalidOperator)}(t,a,e);if(y$2(a))return function rn(e,t,a){throw new it(rt.InvalidOperator)}();throw new it(rt.InvalidOperator)}if(D$3(t)){if(v$3(a))return function j$1(e,t,a){const u=1e3*t*24*60*60;switch(a){case"+":return e.addMilliseconds(u);case"-":return e.addMilliseconds(-1*u)}throw new it(rt.InvalidOperator)}(t,a,e);if(S$1(a))return function F$1(e,t,a){switch(a){case"+":return e.addMilliseconds(t.valueInMilliseconds());case"-":return e.addMilliseconds(-1*t.valueInMilliseconds())}throw new it(rt.InvalidOperator)}(t,a,e);if(z$2(a))return function G(e,t,a){throw new it(rt.InvalidOperator)}();if($$1(a))return function H(e,t,a){if("-"===a)return e.toDateTime().diff(t.toDateTimeLuxon(e.toDateTime().zone)).as("days");throw new it(rt.InvalidOperator)}(t,a,e);if(D$3(a))return function K(e,t,a){if("-"===a)return e.toDateTime().diff(t.toDateTime()).as("days");throw new it(rt.InvalidOperator)}(t,a,e);if(j$3(a))return function J(e,t,a){if("-"===a)return e.toDateTime().diff(t).as("days");throw new it(rt.InvalidOperator)}(t,a,e);if(y$2(a))return function en(e,t,a){throw new it(rt.InvalidOperator)}();throw new it(rt.InvalidOperator)}if(y$2(t)){if(v$3(a))return function S(e,t,a){const u=parseFloat(e);if(isNaN(u))throw new it(rt.InvalidOperator);return f(u,t,a)}(t,a,e);if(S$1(a))return function b$1(e,t,a){throw new it(rt.InvalidOperator)}();if(z$2(a))return function tn(e,t,a){throw new it(rt.InvalidOperator)}();if($$1(a))return function on(e,t,a){throw new it(rt.InvalidOperator)}();if(D$3(a))return function ln(e,t,a){throw new it(rt.InvalidOperator)}();if(j$3(a))return function an(e,t,a){throw new it(rt.InvalidOperator)}();if(y$2(a))return function g(e,t,a){if("+"===a)return e+t;throw new it(rt.InvalidOperator)}(t,a,e);throw new it(rt.InvalidOperator)}throw new it(rt.InvalidOperator)}function f(e,t,a){switch(a){case"+":return e+t;case"-":return e-t;case"*":return e*t;case"/":return e/t}throw new it(rt.InvalidOperator)}var St,Ot,xt={exports:{}};Ot=function(){function t2(e,t,a,u){var l=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(l,t2.prototype),l.expected=t,l.found=a,l.location=u,l.name="SyntaxError",l}function n3(e,t,a){return a=a||" ",e.length>t?e:(t-=e.length,e+(a+=a.repeat(t)).slice(0,t))}return function r2(e,t){function n4(){this.constructor=e}n4.prototype=t.prototype,e.prototype=new n4}(t2,Error),t2.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var a,u=null;for(a=0;a<e.length;a++)if(e[a].source===this.location.source){u=e[a].text.split(/\r\n|\n|\r/g);break}var l=this.location.start,c=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(l):l,I=this.location.source+":"+c.line+":"+c.column;if(u){var M=this.location.end,L=n3("",c.line.toString().length," "),V=u[l.line-1],et=(l.line===M.line?M.column:V.length+1)-l.column||1;t+="\n --\x3e "+I+"\n"+L+" |\n"+c.line+" | "+V+"\n"+L+" | "+n3("",l.column-1," ")+n3("",et,"^")}else t+="\n at "+I}return t},t2.buildMessage=function(e,t){var a={literal:function(e){return'"'+u2(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?o2(e[0])+"-"+o2(e[1]):o2(e)}));return"["+(e.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function e3(e){return e.charCodeAt(0).toString(16).toUpperCase()}function u2(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+e3(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+e3(e)}))}function o2(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+e3(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+e3(e)}))}function i2(e){return a[e.type](e)}return"Expected "+function a2(e){var t,a,u=e.map(i2);if(u.sort(),u.length>0){for(t=1,a=1;t<u.length;t++)u[t-1]!==u[t]&&(u[a]=u[t],a++);u.length=a}switch(u.length){case 1:return u[0];case 2:return u[0]+" or "+u[1];default:return u.slice(0,-1).join(", ")+", or "+u[u.length-1]}}(e)+" but "+function s3(e){return e?'"'+u2(e)+'"':"end of input"}(t)+" found."},{SyntaxError:t2,parse:function e2(e,t){var a,u={},l=(t=void 0!==t?t:{}).grammarSource,c={start:Bu},I=Bu,M="!",L="=",V=">=",et=">",tt="<=",rt="<>",nt="<",at="!=",it="+",ot="-",ut="||",st="*",lt="/",ct="@",ft="'",dt="N'",pt="''",ht=".",vt="null",mt="true",wt="false",It="in",$t="is",gt="like",yt="escape",Tt="not",Nt="and",St="or",Ot="between",xt="from",bt="for",Ct="substring",At="extract",Dt="trim",Et="position",Mt="timestamp",Ft="date",Zt="time",Ut="leading",Pt="trailing",_t="both",Lt="cast",Rt="as",Vt="integer",zt="smallint",Jt="float",kt="real",jt="varchar",qt="to",Ht="interval",Yt="year",Bt="timezone_hour",Qt="timezone_minute",Wt="month",Gt="day",Kt="hour",Xt="minute",er="second",tr="case",rr="end",nr="when",ar="then",ir="else",or=",",ur="(",sr=")",lr="`",cr=/^[A-Za-z_\x80-\uFFFF]/,fr=/^[A-Za-z0-9_]/,dr=/^[A-Za-z0-9_.\x80-\uFFFF]/,pr=/^["]/,hr=/^[^']/,vr=/^[0-9]/,mr=/^[eE]/,wr=/^[+\-]/,Ir=/^[ \t\n\r]/,$r=/^[^`]/,gr=Uu("!",!1),yr=Uu("=",!1),Tr=Uu(">=",!1),Nr=Uu(">",!1),Sr=Uu("<=",!1),Or=Uu("<>",!1),xr=Uu("<",!1),br=Uu("!=",!1),Cr=Uu("+",!1),Ar=Uu("-",!1),Dr=Uu("||",!1),Er=Uu("*",!1),Mr=Uu("/",!1),Fr=$u([["A","Z"],["a","z"],"_",["","￿"]],!1,!1),Zr=$u([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),Ur=$u([["A","Z"],["a","z"],["0","9"],"_",".",["","￿"]],!1,!1),Pr=$u(['"'],!1,!1),_r=Uu("@",!1),Lr=Uu("'",!1),Rr=Uu("N'",!1),Vr=Uu("''",!1),zr=$u(["'"],!0,!1),Jr=Uu(".",!1),kr=$u([["0","9"]],!1,!1),jr=$u(["e","E"],!1,!1),qr=$u(["+","-"],!1,!1),Hr=Uu("NULL",!0),Yr=Uu("TRUE",!0),Br=Uu("FALSE",!0),Qr=Uu("IN",!0),Wr=Uu("IS",!0),Gr=Uu("LIKE",!0),Kr=Uu("ESCAPE",!0),Xr=Uu("NOT",!0),da=Uu("AND",!0),ha=Uu("OR",!0),ma=Uu("BETWEEN",!0),wa=Uu("FROM",!0),Ia=Uu("FOR",!0),$a=Uu("SUBSTRING",!0),ga=Uu("EXTRACT",!0),ya=Uu("TRIM",!0),Ta=Uu("POSITION",!0),Na=Uu("TIMESTAMP",!0),Sa=Uu("DATE",!0),Oa=Uu("TIME",!0),xa=Uu("LEADING",!0),ba=Uu("TRAILING",!0),Ca=Uu("BOTH",!0),Aa=Uu("CAST",!0),Da=Uu("AS",!0),Ea=Uu("INTEGER",!0),Ma=Uu("SMALLINT",!0),Fa=Uu("FLOAT",!0),Za=Uu("REAL",!0),Ua=Uu("VARCHAR",!0),Pa=Uu("TO",!0),_a=Uu("INTERVAL",!0),La=Uu("YEAR",!0),Ra=Uu("TIMEZONE_HOUR",!0),Va=Uu("TIMEZONE_MINUTE",!0),za=Uu("MONTH",!0),Ja=Uu("DAY",!0),ka=Uu("HOUR",!0),ja=Uu("MINUTE",!0),qa=Uu("SECOND",!0),Ha=Uu("CASE",!0),Ya=Uu("END",!0),Ba=Uu("WHEN",!0),Qa=Uu("THEN",!0),Wa=Uu("ELSE",!0),Ga=Uu(",",!1),Ka=Uu("(",!1),Xa=Uu(")",!1),Iu=$u([" ","\t","\n","\r"],!1,!1),Su=Uu("`",!1),Ou=$u(["`"],!0,!1),rn2=function(e){return e},tn2=function(e,t){var a={type:"expression-list"},u=function ca(e,t,a){return function sa(e,t){for(var a=[e],u=0;u<t.length;u++)a.push(t[u][3]);return a}(e,t)}(e,t);return a.value=u,a},nn2=function(e,t){return fa(e,t)},en2=function(e,t){return fa(e,t)},un=function(e){return function ia(e,t){return{type:"unary-expression",operator:e,expr:t}}("NOT",e)},on2=function(e,t){return""==t||null==t||null==t?e:"arithmetic"==t.type?fa(e,t.tail):aa(t.op,e,t.right,t.escape)},an2=function(e){return{type:"arithmetic",tail:e}},sn=function(e,t){return{op:e+"NOT",right:t}},cn=function(e,t){return{op:e,right:t}},fn=function(e,t,a){return{op:"NOT"+e,right:{type:"expression-list",value:[t,a]}}},ln2=function(e,t,a){return{op:e,right:{type:"expression-list",value:[t,a]}}},vn=function(e){return e[0]+" "+e[2]},pn=function(e){return e[0]+" "+e[2]},dn=function(e,t,a){return{op:e,right:t,escape:a.value}},hn=function(e,t){return{op:e,right:t,escape:""}},yn=function(e,t){return{op:e,right:t}},bn=function(e){return{op:e,right:{type:"expression-list",value:[]}}},An=function(e,t){return{op:e,right:t}},Cn=function(e,t){return fa(e,t)},gn=function(e,t){return fa(e,t)},mn=function(e){return e.paren=!0,e},En=function(e){return/^CURRENT_DATE$/i.test(e)?{type:"current-time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(e)?{type:"current-time",mode:"timestamp"}:{type:"column-reference",table:"",column:e}},Ln=function(e){return{type:"column-reference",table:"",column:e,delimited:!0}},Tn=function(e){return e},wn=function(e,t){return e+t.join("")},xn=function(e,t){return e+t.join("")},Nn=function(e){return e},In=function(e){return e.join("")},On=function(){return'"'},Rn=function(e){return{type:"parameter",value:e[1]}},Sn=function(e,t){return{type:"function",name:"extract",args:{type:"expression-list",value:[{type:"string",value:e},t]}}},Fn=function(e,t,a){return{type:"function",name:"substring",args:{type:"expression-list",value:a?[e,t,a[2]]:[e,t]}}},Mn=function(e,t){return{type:"function",name:"cast",args:{type:"expression-list",value:[e,t]}}},Hn=function(){return{type:"data-type",value:{type:"integer"}}},Un=function(){return{type:"data-type",value:{type:"smallint"}}},$n=function(){return{type:"data-type",value:{type:"float"}}},_n=function(){return{type:"data-type",value:{type:"real"}}},Dn=function(){return{type:"data-type",value:{type:"date"}}},jn=function(){return{type:"data-type",value:{type:"timestamp"}}},Zn=function(){return{type:"data-type",value:{type:"time"}}},zn=function(e){return{type:"data-type",value:{type:"varchar",size:parseInt(e)}}},Pn=function(e,t,a){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:e??"BOTH"},t,a]}}},Bn=function(e,t){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:e??"BOTH"},t]}}},Gn=function(e,t){return{type:"function",name:"position",args:{type:"expression-list",value:[e,t]}}},Vn=function(e,t){return{type:"function",name:e,args:t||{type:"expression-list",value:[]}}},Wn=function(e){return"string"===e.type&&function la(e){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(e)&&Hu("Timestamp literal is invalid")}(e.value),{type:"timestamp",value:e.value}},Yn=function(e){return"string"===e.type&&function va(e){!0!==/^(\d{1,2}):(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/.test(e)&&Hu("Time literal is invalid")}(e.value),{type:"time",value:e.value}},kn=function(e,t,a){return{type:"interval",value:t,qualifier:a,op:e}},qn=function(e,t){return{type:"interval",value:e,qualifier:t,op:""}},Kn=function(e,t){return{type:"interval-qualifier",start:e,end:t}},Xn=function(e,t){return{type:"interval-period",period:e.value,precision:t,secondary:null}},Jn=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}},Qn=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}},re=function(e,t){return{type:"interval-period",period:"second",precision:e,secondary:t}},te=function(e){return{type:"interval-period",period:"second",precision:e,secondary:null}},ne=function(){return{type:"interval-period",period:"second",precision:null,secondary:null}},ee=function(e,t){return{type:"interval-period",period:e.value,precision:t,secondary:null}},ue=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}},oe=function(e,t){return{type:"interval-period",period:"second",precision:e,secondary:t}},ie=function(e){return{type:"interval-period",period:"second",precision:e,secondary:null}},ae=function(){return{type:"interval-period",period:"second",precision:null,secondary:null}},se=function(){return{type:"string",value:"day"}},ce=function(){return{type:"string",value:"hour"}},fe=function(){return{type:"string",value:"minute"}},le=function(){return{type:"string",value:"month"}},ve=function(){return{type:"string",value:"year"}},pe=function(e){return parseFloat(e)},de=function(e){return parseFloat(e)},he=function(e){return"string"===e.type&&function pa(e){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(e)&&Hu("Date literal is invalid")}(e.value),{type:"date",value:e.value}},ye=function(){return{type:"null",value:null}},be=function(){return{type:"boolean",value:!0}},Ae=function(){return{type:"boolean",value:!1}},Ce=function(){return"'"},ge=function(e){return{type:"string",value:e.join("")}},me=function(e,t){return{type:"case-expression",format:"simple",operand:e,clauses:t,else:null}},Ee=function(e,t,a){return{type:"case-expression",format:"simple",operand:e,clauses:t,else:a.value}},Le=function(e){return{type:"case-expression",format:"searched",clauses:e,else:null}},Te=function(e,t){return{type:"case-expression",format:"searched",clauses:e,else:t.value}},we=function(e,t){return{type:"when-clause",operand:e,value:t}},xe=function(e,t){return{type:"when-clause",operand:e,value:t}},Ne=function(e){return{type:"else-clause",value:e}},Ie=function(e){return{type:"number",value:e}},Oe=function(e,t,a){return parseFloat(e+t+a)},Re=function(e,t){return parseFloat(e+t)},Se=function(e,t){return parseFloat(e+t)},Fe=function(e){return parseFloat(e)},Me=function(e,t){return e[0]+t},He=function(e){return"."+(null!=e?e:"")},Ue=function(e,t){return e+t},$e=function(e){return e.join("")},_e=function(e,t){return"e"+(null===t?"":t)},De=function(){return"IN"},je=function(){return"IS"},Ze=function(){return"LIKE"},ze=function(){return"ESCAPE"},Pe=function(){return"NOT"},Be=function(){return"AND"},Ge=function(){return"OR"},Ve=function(){return"BETWEEN"},We=function(){return"FROM"},Ye=function(){return"FOR"},ke=function(){return"SUBSTRING"},qe=function(){return"EXTRACT"},Ke=function(){return"TRIM"},Xe=function(){return"POSITION"},Je=function(){return"TIMESTAMP"},Qe=function(){return"DATE"},ru=function(){return"TIME"},tu=function(){return"LEADING"},nu=function(){return"TRAILING"},eu=function(){return"BOTH"},uu=function(){return"CAST"},ou=function(){return"AS"},iu=function(){return"INTEGER"},au=function(){return"SMALLINT"},su=function(){return"FLOAT"},cu=function(){return"REAL"},fu=function(){return"VARCHAR"},lu=function(){return"TO"},vu=function(){return"INTERVAL"},pu=function(){return"YEAR"},du=function(){return"TIMEZONE_HOUR"},hu=function(){return"TIMEZONE_MINUTE"},yu=function(){return"MONTH"},bu=function(){return"DAY"},Au=function(){return"HOUR"},Cu=function(){return"MINUTE"},gu=function(){return"SECOND"},mu=function(){return"CASE"},Eu=function(){return"END"},Lu=function(){return"WHEN"},Tu=function(){return"THEN"},wu=function(){return"ELSE"},xu=function(e){return e},Nu=function(e){return e.join("")},Mu=0,Fu=0,_u=[{line:1,column:1}],Ru=0,es=[],ts=0;if("startRule"in t){if(!(t.startRule in c))throw new Error("Can't start parsing from rule \""+t.startRule+'".');I=c[t.startRule]}function Hu(e,t){throw function zu(e,t){return new t2(e,null,null,t)}(e,t=void 0!==t?t:ju(Fu,Mu))}function Uu(e,t){return{type:"literal",text:e,ignoreCase:t}}function $u(e,t,a){return{type:"class",parts:e,inverted:t,ignoreCase:a}}function Du(t){var a,u=_u[t];if(u)return u;for(a=t-1;!_u[a];)a--;for(u={line:(u=_u[a]).line,column:u.column};a<t;)10===e.charCodeAt(a)?(u.line++,u.column=1):u.column++,a++;return _u[t]=u,u}function ju(e,t,a){var u=Du(e),c=Du(t);return{source:l,start:{offset:e,line:u.line,column:u.column},end:{offset:t,line:c.line,column:c.column}}}function Zu(e){Mu<Ru||(Mu>Ru&&(Ru=Mu,es=[]),es.push(e))}function Bu(){var e,t;return e=Mu,ea(),(t=Vu())!==u?(ea(),Fu=e,e=rn2(t)):(Mu=e,e=u),e}function Gu(){var e,t,a,l,c,I,M,L;if(e=Mu,(t=Vu())!==u){for(a=[],l=Mu,c=ea(),(I=ra())!==u?(M=ea(),(L=Vu())!==u?l=c=[c,I,M,L]:(Mu=l,l=u)):(Mu=l,l=u);l!==u;)a.push(l),l=Mu,c=ea(),(I=ra())!==u?(M=ea(),(L=Vu())!==u?l=c=[c,I,M,L]:(Mu=l,l=u)):(Mu=l,l=u);Fu=e,e=tn2(t,a)}else Mu=e,e=u;return e}function Vu(){var e,t,a,l,c,I,M,L;if(e=Mu,(t=Wu())!==u){for(a=[],l=Mu,c=ea(),(I=Ai())!==u?(M=ea(),(L=Wu())!==u?l=c=[c,I,M,L]:(Mu=l,l=u)):(Mu=l,l=u);l!==u;)a.push(l),l=Mu,c=ea(),(I=Ai())!==u?(M=ea(),(L=Wu())!==u?l=c=[c,I,M,L]:(Mu=l,l=u)):(Mu=l,l=u);Fu=e,e=nn2(t,a)}else Mu=e,e=u;return e}function Wu(){var e,t,a,l,c,I,M,L;if(e=Mu,(t=Yu())!==u){for(a=[],l=Mu,c=ea(),(I=bi())!==u?(M=ea(),(L=Yu())!==u?l=c=[c,I,M,L]:(Mu=l,l=u)):(Mu=l,l=u);l!==u;)a.push(l),l=Mu,c=ea(),(I=bi())!==u?(M=ea(),(L=Yu())!==u?l=c=[c,I,M,L]:(Mu=l,l=u)):(Mu=l,l=u);Fu=e,e=en2(t,a)}else Mu=e,e=u;return e}function Yu(){var t,a,l,c,I;return t=Mu,(a=yi())===u&&(a=Mu,33===e.charCodeAt(Mu)?(l=M,Mu++):(l=u,0===ts&&Zu(gr)),l!==u?(c=Mu,ts++,61===e.charCodeAt(Mu)?(I=L,Mu++):(I=u,0===ts&&Zu(yr)),ts--,I===u?c=void 0:(Mu=c,c=u),c!==u?a=l=[l,c]:(Mu=a,a=u)):(Mu=a,a=u)),a!==u?(l=ea(),(c=Yu())!==u?(Fu=t,t=un(c)):(Mu=t,t=u)):(Mu=t,t=u),t===u&&(t=function ku(){var t,a,l;return t=Mu,(a=uo())!==u?(ea(),(l=function qu(){var t;return(t=function Ku(){var e,t,a,l,c,I,M;if(e=Mu,t=[],a=Mu,l=ea(),(c=Xu())!==u?(I=ea(),(M=uo())!==u?a=l=[l,c,I,M]:(Mu=a,a=u)):(Mu=a,a=u),a!==u)for(;a!==u;)t.push(a),a=Mu,l=ea(),(c=Xu())!==u?(I=ea(),(M=uo())!==u?a=l=[l,c,I,M]:(Mu=a,a=u)):(Mu=a,a=u);else t=u;return t!==u&&(Fu=e,t=an2(t)),t}())===u&&(t=function eo(){var e,t,a,l;return e=Mu,(t=to())!==u?(ea(),(a=ta())!==u?(ea(),(l=Gu())!==u?(ea(),na()!==u?(Fu=e,e=yn(t,l)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u),e===u&&(e=Mu,(t=to())!==u?(ea(),(a=ta())!==u?(ea(),(l=na())!==u?(Fu=e,e=bn(t)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u),e===u&&(e=Mu,(t=to())!==u?(ea(),(a=Lo())!==u?(Fu=e,e=An(t,a)):(Mu=e,e=u)):(Mu=e,e=u))),e}())===u&&(t=function Qu(){var e,t,a,l,c,I;return e=Mu,(t=yi())!==u?(ea(),(a=Ci())!==u?(ea(),(l=uo())!==u?(ea(),(c=bi())!==u?(ea(),(I=uo())!==u?(Fu=e,e=fn(a,l,I)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u),e===u&&(e=Mu,(t=Ci())!==u?(ea(),(a=uo())!==u?(ea(),(l=bi())!==u?(ea(),(c=uo())!==u?(Fu=e,e=ln2(t,a,c)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u)),e}())===u&&(t=function Ju(){var e,t,a,l;return e=Mu,(t=pi())!==u?(ea(),(a=yi())!==u?(ea(),(l=uo())!==u?(Fu=e,e=sn(t,l)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u),e===u&&(e=Mu,(t=pi())!==u?(ea(),(a=uo())!==u?(Fu=e,e=cn(t,a)):(Mu=e,e=u)):(Mu=e,e=u)),e}())===u&&(t=function no(){var t,a,l,c;return t=Mu,(a=ro())!==u?(ea(),(l=Yo())!==u?(ea(),function hi(){var t,a,l,c;return t=Mu,e.substr(Mu,6).toLowerCase()===yt?(a=e.substr(Mu,6),Mu+=6):(a=u,0===ts&&Zu(Kr)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=ze()):(Mu=t,t=u)):(Mu=t,t=u),t}()!==u?(ea(),(c=ko())!==u?(Fu=t,t=dn(a,l,c)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u),t===u&&(t=Mu,(a=ro())!==u?(ea(),(l=Yo())!==u?(Fu=t,t=hn(a,l)):(Mu=t,t=u)):(Mu=t,t=u)),t}()),t}())===u&&(l=null),Fu=t,t=on2(a,l)):(Mu=t,t=u),t}()),t}function Xu(){var t;return e.substr(Mu,2)===V?(t=V,Mu+=2):(t=u,0===ts&&Zu(Tr)),t===u&&(62===e.charCodeAt(Mu)?(t=et,Mu++):(t=u,0===ts&&Zu(Nr)),t===u&&(e.substr(Mu,2)===tt?(t=tt,Mu+=2):(t=u,0===ts&&Zu(Sr)),t===u&&(e.substr(Mu,2)===rt?(t=rt,Mu+=2):(t=u,0===ts&&Zu(Or)),t===u&&(60===e.charCodeAt(Mu)?(t=nt,Mu++):(t=u,0===ts&&Zu(xr)),t===u&&(61===e.charCodeAt(Mu)?(t=L,Mu++):(t=u,0===ts&&Zu(yr)),t===u&&(e.substr(Mu,2)===at?(t=at,Mu+=2):(t=u,0===ts&&Zu(br)))))))),t}function ro(){var e,t,a,l,c;return e=Mu,t=Mu,(a=yi())!==u?(l=ea(),(c=di())!==u?t=a=[a,l,c]:(Mu=t,t=u)):(Mu=t,t=u),t!==u&&(Fu=e,t=vn(t)),(e=t)===u&&(e=di()),e}function to(){var e,t,a,l,c;return e=Mu,t=Mu,(a=yi())!==u?(l=ea(),(c=vi())!==u?t=a=[a,l,c]:(Mu=t,t=u)):(Mu=t,t=u),t!==u&&(Fu=e,t=pn(t)),(e=t)===u&&(e=vi()),e}function uo(){var e,t,a,l,c,I,M,L;if(e=Mu,(t=io())!==u){for(a=[],l=Mu,c=ea(),(I=oo())!==u?(M=ea(),(L=io())!==u?l=c=[c,I,M,L]:(Mu=l,l=u)):(Mu=l,l=u);l!==u;)a.push(l),l=Mu,c=ea(),(I=oo())!==u?(M=ea(),(L=io())!==u?l=c=[c,I,M,L]:(Mu=l,l=u)):(Mu=l,l=u);Fu=e,e=Cn(t,a)}else Mu=e,e=u;return e}function oo(){var t;return 43===e.charCodeAt(Mu)?(t=it,Mu++):(t=u,0===ts&&Zu(Cr)),t===u&&(45===e.charCodeAt(Mu)?(t=ot,Mu++):(t=u,0===ts&&Zu(Ar)),t===u&&(e.substr(Mu,2)===ut?(t=ut,Mu+=2):(t=u,0===ts&&Zu(Dr)))),t}function io(){var e,t,a,l,c,I,M,L;if(e=Mu,(t=so())!==u){for(a=[],l=Mu,c=ea(),(I=ao())!==u?(M=ea(),(L=so())!==u?l=c=[c,I,M,L]:(Mu=l,l=u)):(Mu=l,l=u);l!==u;)a.push(l),l=Mu,c=ea(),(I=ao())!==u?(M=ea(),(L=so())!==u?l=c=[c,I,M,L]:(Mu=l,l=u)):(Mu=l,l=u);Fu=e,e=gn(t,a)}else Mu=e,e=u;return e}function ao(){var t;return 42===e.charCodeAt(Mu)?(t=st,Mu++):(t=u,0===ts&&Zu(Er)),t===u&&(47===e.charCodeAt(Mu)?(t=lt,Mu++):(t=u,0===ts&&Zu(Mr))),t}function so(){var t,a;return(t=function Mo(){var t;return(t=ko())===u&&(t=function ti(){var e,t,a,l;return e=Mu,(t=function ni(){var e,t,a,l;return e=Mu,(t=ei())!==u&&(a=ui())!==u&&(l=oi())!==u?(Fu=e,e=Oe(t,a,l)):(Mu=e,e=u),e===u&&(e=Mu,(t=ei())!==u&&(a=ui())!==u?(Fu=e,e=Re(t,a)):(Mu=e,e=u),e===u&&(e=Mu,(t=ei())!==u&&(a=oi())!==u?(Fu=e,e=Se(t,a)):(Mu=e,e=u),e===u&&(e=Mu,(t=ei())!==u&&(Fu=e,t=Fe(t)),e=t))),e}())!==u?(a=Mu,ts++,l=po(),ts--,l===u?a=void 0:(Mu=a,a=u),a!==u?(Fu=e,e=Ie(t)):(Mu=e,e=u)):(Mu=e,e=u),e}())===u&&(t=function Wo(){var t,a;return t=Mu,(a=function fi(){var t,a,l,c;return t=Mu,e.substr(Mu,4).toLowerCase()===mt?(a=e.substr(Mu,4),Mu+=4):(a=u,0===ts&&Zu(Yr)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?t=a=[a,l]:(Mu=t,t=u)):(Mu=t,t=u),t}())!==u&&(Fu=t,a=be()),(t=a)===u&&(t=Mu,(a=function li(){var t,a,l,c;return t=Mu,e.substr(Mu,5).toLowerCase()===wt?(a=e.substr(Mu,5),Mu+=5):(a=u,0===ts&&Zu(Br)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?t=a=[a,l]:(Mu=t,t=u)):(Mu=t,t=u),t}())!==u&&(Fu=t,a=Ae()),t=a),t}())===u&&(t=function Vo(){var t,a;return t=Mu,(a=function ci(){var t,a,l,c;return t=Mu,e.substr(Mu,4).toLowerCase()===vt?(a=e.substr(Mu,4),Mu+=4):(a=u,0===ts&&Zu(Hr)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?t=a=[a,l]:(Mu=t,t=u)):(Mu=t,t=u),t}())!==u&&(Fu=t,a=ye()),a}())===u&&(t=function Go(){var e,t;return e=Mu,Ni()!==u?(ea(),(t=Yo())!==u?(Fu=e,e=he(t)):(Mu=e,e=u)):(Mu=e,e=u),e}())===u&&(t=function Ho(){var e,t;return e=Mu,xi()!==u?(ea(),(t=Yo())!==u?(Fu=e,e=Wn(t)):(Mu=e,e=u)):(Mu=e,e=u),e}())===u&&(t=function $o(){var t,a,l,c;return t=Mu,Zi()!==u?(ea(),45===e.charCodeAt(Mu)?(a=ot,Mu++):(a=u,0===ts&&Zu(Ar)),a===u&&(43===e.charCodeAt(Mu)?(a=it,Mu++):(a=u,0===ts&&Zu(Cr))),a!==u?(ea(),(l=Yo())!==u?(ea(),(c=_o())!==u?(Fu=t,t=kn(a,l,c)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u),t===u&&(t=Mu,Zi()!==u?(ea(),(a=Yo())!==u?(ea(),(l=_o())!==u?(Fu=t,t=qn(a,l)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u)),t}())===u&&(t=function Uo(){var e,t;return e=Mu,Ii()!==u?(ea(),(t=Yo())!==u?(Fu=e,e=Yn(t)):(Mu=e,e=u)):(Mu=e,e=u),e}()),t}())===u&&(t=function To(){var t,a,l;return t=Mu,function Li(){var t,a,l,c;return t=Mu,e.substr(Mu,7).toLowerCase()===At?(a=e.substr(Mu,7),Mu+=7):(a=u,0===ts&&Zu(ga)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=qe()):(Mu=t,t=u)):(Mu=t,t=u),t}()!==u?(ea(),ta()!==u?(ea(),(a=function Fo(){var t;return(t=zi())===u&&(t=Gi())===u&&(t=Vi())===u&&(t=Wi())===u&&(t=Yi())===u&&(t=ki())===u&&(t=function Pi(){var t,a,l,c;return t=Mu,e.substr(Mu,13).toLowerCase()===Bt?(a=e.substr(Mu,13),Mu+=13):(a=u,0===ts&&Zu(Ra)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=du()):(Mu=t,t=u)):(Mu=t,t=u),t}())===u&&(t=function Bi(){var t,a,l,c;return t=Mu,e.substr(Mu,15).toLowerCase()===Qt?(a=e.substr(Mu,15),Mu+=15):(a=u,0===ts&&Zu(Va)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=hu()):(Mu=t,t=u)):(Mu=t,t=u),t}()),t}())!==u?(ea(),gi()!==u?(ea(),(l=Vu())!==u?(ea(),na()!==u?(Fu=t,t=Sn(a,l)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u),t}())===u&&(t=function wo(){var t,a,l,c,I,M,L;return t=Mu,function Ei(){var t,a,l,c;return t=Mu,e.substr(Mu,9).toLowerCase()===Ct?(a=e.substr(Mu,9),Mu+=9):(a=u,0===ts&&Zu($a)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=ke()):(Mu=t,t=u)):(Mu=t,t=u),t}()!==u?(ea(),ta()!==u?(ea(),(a=Vu())!==u?(ea(),gi()!==u?(ea(),(l=Vu())!==u?(ea(),c=Mu,(I=function mi(){var t,a,l,c;return t=Mu,e.substr(Mu,3).toLowerCase()===bt?(a=e.substr(Mu,3),Mu+=3):(a=u,0===ts&&Zu(Ia)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=Ye()):(Mu=t,t=u)):(Mu=t,t=u),t}())!==u?(M=ea(),(L=Vu())!==u?c=I=[I,M,L,ea()]:(Mu=c,c=u)):(Mu=c,c=u),c===u&&(c=null),(I=na())!==u?(Fu=t,t=Fn(a,l,c)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u),t}())===u&&(t=function Io(){var e,t,a,l;return e=Mu,Ti()!==u?(ea(),ta()!==u?(ea(),(t=Oo())===u&&(t=null),ea(),(a=Vu())!==u?(ea(),gi()!==u?(ea(),(l=Vu())!==u?(ea(),na()!==u?(Fu=e,e=Pn(t,a,l)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u),e===u&&(e=Mu,Ti()!==u?(ea(),ta()!==u?(ea(),(t=Oo())===u&&(t=null),ea(),(a=Vu())!==u?(ea(),na()!==u?(Fu=e,e=Bn(t,a)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u)),e}())===u&&(t=function Ro(){var t,a,l;return t=Mu,function wi(){var t,a,l,c;return t=Mu,e.substr(Mu,8).toLowerCase()===Et?(a=e.substr(Mu,8),Mu+=8):(a=u,0===ts&&Zu(Ta)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=Xe()):(Mu=t,t=u)):(Mu=t,t=u),t}()!==u?(ea(),ta()!==u?(ea(),(a=Vu())!==u?(ea(),vi()!==u?(ea(),(l=Vu())!==u?(ea(),na()!==u?(Fu=t,t=Gn(a,l)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u),t}())===u&&(t=function xo(){var t,a,l;return t=Mu,function Fi(){var t,a,l,c;return t=Mu,e.substr(Mu,4).toLowerCase()===Lt?(a=e.substr(Mu,4),Mu+=4):(a=u,0===ts&&Zu(Aa)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=uu()):(Mu=t,t=u)):(Mu=t,t=u),t}()!==u?(ea(),ta()!==u?(ea(),(a=Vu())!==u?(ea(),function Mi(){var t,a,l,c;return t=Mu,e.substr(Mu,2).toLowerCase()===Rt?(a=e.substr(Mu,2),Mu+=2):(a=u,0===ts&&Zu(Da)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=ou()):(Mu=t,t=u)):(Mu=t,t=u),t}()!==u?(ea(),(l=function No(){var t,a,l;return t=Mu,(a=function Hi(){var t,a,l,c;return t=Mu,e.substr(Mu,7).toLowerCase()===Vt?(a=e.substr(Mu,7),Mu+=7):(a=u,0===ts&&Zu(Ea)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=iu()):(Mu=t,t=u)):(Mu=t,t=u),t}())!==u&&(Fu=t,a=Hn()),(t=a)===u&&(t=Mu,(a=function Ui(){var t,a,l,c;return t=Mu,e.substr(Mu,8).toLowerCase()===zt?(a=e.substr(Mu,8),Mu+=8):(a=u,0===ts&&Zu(Ma)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=au()):(Mu=t,t=u)):(Mu=t,t=u),t}())!==u&&(Fu=t,a=Un()),(t=a)===u&&(t=Mu,(a=function $i(){var t,a,l,c;return t=Mu,e.substr(Mu,5).toLowerCase()===Jt?(a=e.substr(Mu,5),Mu+=5):(a=u,0===ts&&Zu(Fa)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=su()):(Mu=t,t=u)):(Mu=t,t=u),t}())!==u&&(Fu=t,a=$n()),(t=a)===u&&(t=Mu,(a=function _i(){var t,a,l,c;return t=Mu,e.substr(Mu,4).toLowerCase()===kt?(a=e.substr(Mu,4),Mu+=4):(a=u,0===ts&&Zu(Za)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=cu()):(Mu=t,t=u)):(Mu=t,t=u),t}())!==u&&(Fu=t,a=_n()),(t=a)===u&&(t=Mu,(a=Ni())!==u&&(Fu=t,a=Dn()),(t=a)===u&&(t=Mu,(a=xi())!==u&&(Fu=t,a=jn()),(t=a)===u&&(t=Mu,(a=Ii())!==u&&(Fu=t,a=Zn()),(t=a)===u&&(t=Mu,(a=function Di(){var t,a,l,c;return t=Mu,e.substr(Mu,7).toLowerCase()===jt?(a=e.substr(Mu,7),Mu+=7):(a=u,0===ts&&Zu(Ua)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=fu()):(Mu=t,t=u)):(Mu=t,t=u),t}())!==u?(ea(),ta()!==u?(ea(),(l=ii())!==u?(ea(),na()!==u?(Fu=t,t=zn(l)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u)))))))),t}())!==u?(ea(),na()!==u?(Fu=t,t=Mn(a,l)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u),t}())===u&&(t=function So(){var t,a,l;return t=Mu,(a=function oa(){var t,a,l,c;if(t=Mu,(a=vo())!==u&&(Fu=t,a=xu(a)),(t=a)===u)if(t=Mu,96===e.charCodeAt(Mu)?(a=lr,Mu++):(a=u,0===ts&&Zu(Su)),a!==u){if(l=[],$r.test(e.charAt(Mu))?(c=e.charAt(Mu),Mu++):(c=u,0===ts&&Zu(Ou)),c!==u)for(;c!==u;)l.push(c),$r.test(e.charAt(Mu))?(c=e.charAt(Mu),Mu++):(c=u,0===ts&&Zu(Ou));else l=u;l!==u?(96===e.charCodeAt(Mu)?(c=lr,Mu++):(c=u,0===ts&&Zu(Su)),c!==u?(Fu=t,t=Nu(l)):(Mu=t,t=u)):(Mu=t,t=u)}else Mu=t,t=u;return t}())!==u?(ea(),ta()!==u?(ea(),(l=Gu())===u&&(l=null),ea(),na()!==u?(Fu=t,t=Vn(a,l)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u),t}())===u&&(t=function qo(){var e;return(e=function Ko(){var e,t,a,l,c;if(e=Mu,qi()!==u)if(ea(),(t=Vu())!==u){for(ea(),a=[],l=Qo();l!==u;)a.push(l),l=Qo();l=ea(),(c=Ki())!==u?(Fu=e,e=me(t,a)):(Mu=e,e=u)}else Mu=e,e=u;else Mu=e,e=u;if(e===u)if(e=Mu,qi()!==u)if(ea(),(t=Vu())!==u){for(ea(),a=[],l=Qo();l!==u;)a.push(l),l=Qo();l=ea(),(c=ri())!==u?(ea(),Ki()!==u?(Fu=e,e=Ee(t,a,c)):(Mu=e,e=u)):(Mu=e,e=u)}else Mu=e,e=u;else Mu=e,e=u;return e}())===u&&(e=function Xo(){var e,t,a,l;if(e=Mu,qi()!==u){for(ea(),t=[],a=Jo();a!==u;)t.push(a),a=Jo();a=ea(),(l=Ki())!==u?(Fu=e,e=Le(t)):(Mu=e,e=u)}else Mu=e,e=u;if(e===u)if(e=Mu,qi()!==u){for(ea(),t=[],a=Jo();a!==u;)t.push(a),a=Jo();a=ea(),(l=ri())!==u?(ea(),Ki()!==u?(Fu=e,e=Te(t,l)):(Mu=e,e=u)):(Mu=e,e=u)}else Mu=e,e=u;return e}()),e}())===u&&(t=function co(){var e,t;return e=Mu,(t=function fo(){var e,t;return e=Mu,(t=function lo(){var e,t,a,l;if(e=Mu,(t=po())!==u){for(a=[],l=yo();l!==u;)a.push(l),l=yo();Fu=e,e=wn(t,a)}else Mu=e,e=u;return e}())!==u&&(Fu=e,t=Tn(t)),t}())!==u&&(Fu=e,t=En(t)),(e=t)===u&&(e=Mu,(t=function bo(){var e,t;return e=Mu,Eo()!==u?(t=function Ao(){var e,t,a;for(e=Mu,t=[],a=Co();a!==u;)t.push(a),a=Co();return Fu=e,In(t)}(),Eo()!==u?(Fu=e,e=Nn(t)):(Mu=e,e=u)):(Mu=e,e=u),e}())!==u&&(Fu=e,t=Ln(t)),e=t),e}())===u&&(t=Lo())===u&&(t=Mu,ta()!==u?(ea(),(a=Vu())!==u?(ea(),na()!==u?(Fu=t,t=mn(a)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u)),t}function vo(){var e,t,a,l;if(e=Mu,(t=po())!==u){for(a=[],l=ho();l!==u;)a.push(l),l=ho();Fu=e,e=xn(t,a)}else Mu=e,e=u;return e}function po(){var t;return cr.test(e.charAt(Mu))?(t=e.charAt(Mu),Mu++):(t=u,0===ts&&Zu(Fr)),t}function ho(){var t;return fr.test(e.charAt(Mu))?(t=e.charAt(Mu),Mu++):(t=u,0===ts&&Zu(Zr)),t}function yo(){var t;return dr.test(e.charAt(Mu))?(t=e.charAt(Mu),Mu++):(t=u,0===ts&&Zu(Ur)),t}function Co(){var t;return(t=function mo(){var t;return dr.test(e.charAt(Mu))?(t=e.charAt(Mu),Mu++):(t=u,0===ts&&Zu(Ur)),t}())===u&&(t=function go(){var e;return e=Mu,Eo()!==u&&Eo()!==u?(Fu=e,e=On()):(Mu=e,e=u),e}()),t}function Eo(){var t;return pr.test(e.charAt(Mu))?(t=e.charAt(Mu),Mu++):(t=u,0===ts&&Zu(Pr)),t}function Lo(){var t,a,l,c;return t=Mu,a=Mu,64===e.charCodeAt(Mu)?(l=ct,Mu++):(l=u,0===ts&&Zu(_r)),l!==u&&(c=vo())!==u?a=l=[l,c]:(Mu=a,a=u),a!==u&&(Fu=t,a=Rn(a)),a}function Oo(){var t;return(t=function Oi(){var t,a,l,c;return t=Mu,e.substr(Mu,7).toLowerCase()===Ut?(a=e.substr(Mu,7),Mu+=7):(a=u,0===ts&&Zu(xa)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=tu()):(Mu=t,t=u)):(Mu=t,t=u),t}())===u&&(t=function Ri(){var t,a,l,c;return t=Mu,e.substr(Mu,8).toLowerCase()===Pt?(a=e.substr(Mu,8),Mu+=8):(a=u,0===ts&&Zu(ba)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=nu()):(Mu=t,t=u)):(Mu=t,t=u),t}())===u&&(t=function Si(){var t,a,l,c;return t=Mu,e.substr(Mu,4).toLowerCase()===_t?(a=e.substr(Mu,4),Mu+=4):(a=u,0===ts&&Zu(Ca)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=eu()):(Mu=t,t=u)):(Mu=t,t=u),t}()),t}function _o(){var t,a,l;return t=Mu,(a=function Do(){var e,t,a;return e=Mu,(t=zo())!==u?(ea(),ta()!==u?(ea(),(a=Bo())!==u?(ea(),na()!==u?(Fu=e,e=Xn(t,a)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u),e===u&&(e=Mu,(t=zo())!==u&&(Fu=e,t=Jn(t)),e=t),e}())!==u?(ea(),function ji(){var t,a,l,c;return t=Mu,e.substr(Mu,2).toLowerCase()===qt?(a=e.substr(Mu,2),Mu+=2):(a=u,0===ts&&Zu(Pa)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=lu()):(Mu=t,t=u)):(Mu=t,t=u),t}()!==u?(ea(),(l=function jo(){var e,t,a,l;return e=Mu,(t=zo())!==u&&(Fu=e,t=Qn(t)),(e=t)===u&&(e=Mu,(t=ki())!==u?(ea(),ta()!==u?(ea(),(a=Bo())!==u?(ea(),ra()!==u?(ea(),(l=Po())!==u?(ea(),na()!==u?(Fu=e,e=re(a,l)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u),e===u&&(e=Mu,(t=ki())!==u?(ea(),ta()!==u?(ea(),(a=Bo())!==u?(ea(),na()!==u?(Fu=e,e=te(a)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u),e===u&&(e=Mu,(t=ki())!==u&&(Fu=e,t=ne()),e=t))),e}())!==u?(Fu=t,t=Kn(a,l)):(Mu=t,t=u)):(Mu=t,t=u)):(Mu=t,t=u),t===u&&(t=function Zo(){var e,t,a,l;return e=Mu,(t=zo())!==u?(ea(),ta()!==u?(ea(),(a=Po())!==u?(ea(),na()!==u?(Fu=e,e=ee(t,a)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u),e===u&&(e=Mu,(t=zo())!==u&&(Fu=e,t=ue(t)),(e=t)===u&&(e=Mu,(t=ki())!==u?(ea(),ta()!==u?(ea(),(a=Bo())!==u?(ea(),ra()!==u?(ea(),(l=Po())!==u?(ea(),na()!==u?(Fu=e,e=oe(a,l)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u),e===u&&(e=Mu,(t=ki())!==u?(ea(),ta()!==u?(ea(),(a=Po())!==u?(ea(),na()!==u?(Fu=e,e=ie(a)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u),e===u&&(e=Mu,(t=ki())!==u&&(Fu=e,t=ae()),e=t)))),e}()),t}function zo(){var e,t;return e=Mu,(t=Vi())!==u&&(Fu=e,t=se()),(e=t)===u&&(e=Mu,(t=Wi())!==u&&(Fu=e,t=ce()),(e=t)===u&&(e=Mu,(t=Yi())!==u&&(Fu=e,t=fe()),(e=t)===u&&(e=Mu,(t=Gi())!==u&&(Fu=e,t=le()),(e=t)===u&&(e=Mu,(t=zi())!==u&&(Fu=e,t=ve()),e=t)))),e}function Po(){var e,t;return e=Mu,(t=ii())!==u&&(Fu=e,t=pe(t)),t}function Bo(){var e,t;return e=Mu,(t=ii())!==u&&(Fu=e,t=de(t)),t}function Yo(){var e;return(e=ko())===u&&(e=Lo()),e}function ko(){var t,a,l,c,I;if(t=Mu,39===e.charCodeAt(Mu)?(a=ft,Mu++):(a=u,0===ts&&Zu(Lr)),a===u&&(e.substr(Mu,2)===dt?(a=dt,Mu+=2):(a=u,0===ts&&Zu(Rr))),a!==u){for(l=[],c=Mu,e.substr(Mu,2)===pt?(I=pt,Mu+=2):(I=u,0===ts&&Zu(Vr)),I!==u&&(Fu=c,I=Ce()),(c=I)===u&&(hr.test(e.charAt(Mu))?(c=e.charAt(Mu),Mu++):(c=u,0===ts&&Zu(zr)));c!==u;)l.push(c),c=Mu,e.substr(Mu,2)===pt?(I=pt,Mu+=2):(I=u,0===ts&&Zu(Vr)),I!==u&&(Fu=c,I=Ce()),(c=I)===u&&(hr.test(e.charAt(Mu))?(c=e.charAt(Mu),Mu++):(c=u,0===ts&&Zu(zr)));39===e.charCodeAt(Mu)?(c=ft,Mu++):(c=u,0===ts&&Zu(Lr)),c!==u?(Fu=t,t=ge(l)):(Mu=t,t=u)}else Mu=t,t=u;return t}function Jo(){var e,t,a;return e=Mu,Xi()!==u?(ea(),(t=Vu())!==u?(ea(),Ji()!==u?(ea(),(a=Vu())!==u?(Fu=e,e=we(t,a)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u),e}function Qo(){var e,t,a;return e=Mu,Xi()!==u?(ea(),(t=Vu())!==u?(ea(),Ji()!==u?(ea(),(a=Vu())!==u?(Fu=e,e=xe(t,a)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u)):(Mu=e,e=u),e}function ri(){var t,a;return t=Mu,function Qi(){var t,a,l,c;return t=Mu,e.substr(Mu,4).toLowerCase()===ir?(a=e.substr(Mu,4),Mu+=4):(a=u,0===ts&&Zu(Wa)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=wu()):(Mu=t,t=u)):(Mu=t,t=u),t}()!==u?(ea(),(a=Vu())!==u?(Fu=t,t=Ne(a)):(Mu=t,t=u)):(Mu=t,t=u),t}function ei(){var t,a,l;return(t=ii())===u&&(t=Mu,45===e.charCodeAt(Mu)?(a=ot,Mu++):(a=u,0===ts&&Zu(Ar)),a===u&&(43===e.charCodeAt(Mu)?(a=it,Mu++):(a=u,0===ts&&Zu(Cr))),a!==u&&(l=ii())!==u?(Fu=t,t=Me(a,l)):(Mu=t,t=u)),t}function ui(){var t,a,l;return t=Mu,46===e.charCodeAt(Mu)?(a=ht,Mu++):(a=u,0===ts&&Zu(Jr)),a!==u?((l=ii())===u&&(l=null),Fu=t,t=He(l)):(Mu=t,t=u),t}function oi(){var t,a,l;return t=Mu,(a=function si(){var t,a,l;return t=Mu,mr.test(e.charAt(Mu))?(a=e.charAt(Mu),Mu++):(a=u,0===ts&&Zu(jr)),a!==u?(wr.test(e.charAt(Mu))?(l=e.charAt(Mu),Mu++):(l=u,0===ts&&Zu(qr)),l===u&&(l=null),Fu=t,t=_e(a,l)):(Mu=t,t=u),t}())!==u&&(l=ii())!==u?(Fu=t,t=Ue(a,l)):(Mu=t,t=u),t}function ii(){var e,t,a;if(e=Mu,t=[],(a=ai())!==u)for(;a!==u;)t.push(a),a=ai();else t=u;return t!==u&&(Fu=e,t=$e(t)),t}function ai(){var t;return vr.test(e.charAt(Mu))?(t=e.charAt(Mu),Mu++):(t=u,0===ts&&Zu(kr)),t}function vi(){var t,a,l,c;return t=Mu,e.substr(Mu,2).toLowerCase()===It?(a=e.substr(Mu,2),Mu+=2):(a=u,0===ts&&Zu(Qr)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=De()):(Mu=t,t=u)):(Mu=t,t=u),t}function pi(){var t,a,l,c;return t=Mu,e.substr(Mu,2).toLowerCase()===$t?(a=e.substr(Mu,2),Mu+=2):(a=u,0===ts&&Zu(Wr)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=je()):(Mu=t,t=u)):(Mu=t,t=u),t}function di(){var t,a,l,c;return t=Mu,e.substr(Mu,4).toLowerCase()===gt?(a=e.substr(Mu,4),Mu+=4):(a=u,0===ts&&Zu(Gr)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=Ze()):(Mu=t,t=u)):(Mu=t,t=u),t}function yi(){var t,a,l,c;return t=Mu,e.substr(Mu,3).toLowerCase()===Tt?(a=e.substr(Mu,3),Mu+=3):(a=u,0===ts&&Zu(Xr)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=Pe()):(Mu=t,t=u)):(Mu=t,t=u),t}function bi(){var t,a,l,c;return t=Mu,e.substr(Mu,3).toLowerCase()===Nt?(a=e.substr(Mu,3),Mu+=3):(a=u,0===ts&&Zu(da)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=Be()):(Mu=t,t=u)):(Mu=t,t=u),t}function Ai(){var t,a,l,c;return t=Mu,e.substr(Mu,2).toLowerCase()===St?(a=e.substr(Mu,2),Mu+=2):(a=u,0===ts&&Zu(ha)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=Ge()):(Mu=t,t=u)):(Mu=t,t=u),t}function Ci(){var t,a,l,c;return t=Mu,e.substr(Mu,7).toLowerCase()===Ot?(a=e.substr(Mu,7),Mu+=7):(a=u,0===ts&&Zu(ma)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=Ve()):(Mu=t,t=u)):(Mu=t,t=u),t}function gi(){var t,a,l,c;return t=Mu,e.substr(Mu,4).toLowerCase()===xt?(a=e.substr(Mu,4),Mu+=4):(a=u,0===ts&&Zu(wa)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=We()):(Mu=t,t=u)):(Mu=t,t=u),t}function Ti(){var t,a,l,c;return t=Mu,e.substr(Mu,4).toLowerCase()===Dt?(a=e.substr(Mu,4),Mu+=4):(a=u,0===ts&&Zu(ya)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=Ke()):(Mu=t,t=u)):(Mu=t,t=u),t}function xi(){var t,a,l,c;return t=Mu,e.substr(Mu,9).toLowerCase()===Mt?(a=e.substr(Mu,9),Mu+=9):(a=u,0===ts&&Zu(Na)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=Je()):(Mu=t,t=u)):(Mu=t,t=u),t}function Ni(){var t,a,l,c;return t=Mu,e.substr(Mu,4).toLowerCase()===Ft?(a=e.substr(Mu,4),Mu+=4):(a=u,0===ts&&Zu(Sa)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=Qe()):(Mu=t,t=u)):(Mu=t,t=u),t}function Ii(){var t,a,l,c;return t=Mu,e.substr(Mu,4).toLowerCase()===Zt?(a=e.substr(Mu,4),Mu+=4):(a=u,0===ts&&Zu(Oa)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=ru()):(Mu=t,t=u)):(Mu=t,t=u),t}function Zi(){var t,a,l,c;return t=Mu,e.substr(Mu,8).toLowerCase()===Ht?(a=e.substr(Mu,8),Mu+=8):(a=u,0===ts&&Zu(_a)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=vu()):(Mu=t,t=u)):(Mu=t,t=u),t}function zi(){var t,a,l,c;return t=Mu,e.substr(Mu,4).toLowerCase()===Yt?(a=e.substr(Mu,4),Mu+=4):(a=u,0===ts&&Zu(La)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=pu()):(Mu=t,t=u)):(Mu=t,t=u),t}function Gi(){var t,a,l,c;return t=Mu,e.substr(Mu,5).toLowerCase()===Wt?(a=e.substr(Mu,5),Mu+=5):(a=u,0===ts&&Zu(za)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=yu()):(Mu=t,t=u)):(Mu=t,t=u),t}function Vi(){var t,a,l,c;return t=Mu,e.substr(Mu,3).toLowerCase()===Gt?(a=e.substr(Mu,3),Mu+=3):(a=u,0===ts&&Zu(Ja)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=bu()):(Mu=t,t=u)):(Mu=t,t=u),t}function Wi(){var t,a,l,c;return t=Mu,e.substr(Mu,4).toLowerCase()===Kt?(a=e.substr(Mu,4),Mu+=4):(a=u,0===ts&&Zu(ka)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=Au()):(Mu=t,t=u)):(Mu=t,t=u),t}function Yi(){var t,a,l,c;return t=Mu,e.substr(Mu,6).toLowerCase()===Xt?(a=e.substr(Mu,6),Mu+=6):(a=u,0===ts&&Zu(ja)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=Cu()):(Mu=t,t=u)):(Mu=t,t=u),t}function ki(){var t,a,l,c;return t=Mu,e.substr(Mu,6).toLowerCase()===er?(a=e.substr(Mu,6),Mu+=6):(a=u,0===ts&&Zu(qa)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=gu()):(Mu=t,t=u)):(Mu=t,t=u),t}function qi(){var t,a,l,c;return t=Mu,e.substr(Mu,4).toLowerCase()===tr?(a=e.substr(Mu,4),Mu+=4):(a=u,0===ts&&Zu(Ha)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=mu()):(Mu=t,t=u)):(Mu=t,t=u),t}function Ki(){var t,a,l,c;return t=Mu,e.substr(Mu,3).toLowerCase()===rr?(a=e.substr(Mu,3),Mu+=3):(a=u,0===ts&&Zu(Ya)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=Eu()):(Mu=t,t=u)):(Mu=t,t=u),t}function Xi(){var t,a,l,c;return t=Mu,e.substr(Mu,4).toLowerCase()===nr?(a=e.substr(Mu,4),Mu+=4):(a=u,0===ts&&Zu(Ba)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=Lu()):(Mu=t,t=u)):(Mu=t,t=u),t}function Ji(){var t,a,l,c;return t=Mu,e.substr(Mu,4).toLowerCase()===ar?(a=e.substr(Mu,4),Mu+=4):(a=u,0===ts&&Zu(Qa)),a!==u?(l=Mu,ts++,c=ho(),ts--,c===u?l=void 0:(Mu=l,l=u),l!==u?(Fu=t,t=Tu()):(Mu=t,t=u)):(Mu=t,t=u),t}function ra(){var t;return 44===e.charCodeAt(Mu)?(t=or,Mu++):(t=u,0===ts&&Zu(Ga)),t}function ta(){var t;return 40===e.charCodeAt(Mu)?(t=ur,Mu++):(t=u,0===ts&&Zu(Ka)),t}function na(){var t;return 41===e.charCodeAt(Mu)?(t=sr,Mu++):(t=u,0===ts&&Zu(Xa)),t}function ea(){var e,t;for(e=[],t=ua();t!==u;)e.push(t),t=ua();return e}function ua(){var t;return Ir.test(e.charAt(Mu))?(t=e.charAt(Mu),Mu++):(t=u,0===ts&&Zu(Iu)),t}function aa(e,t,a,u){var l={type:"binary-expression",operator:e,left:t,right:a};return void 0!==u&&(l.escape=u),l}function fa(e,t){for(var a=e,u=0;u<t.length;u++)a=aa(t[u][1],a,t[u][3]);return a}if((a=I())!==u&&Mu===e.length)return a;throw a!==u&&Mu<e.length&&Zu({type:"end"}),function Pu(e,t,a){return new t2(t2.buildMessage(e,t),e,t,a)}(es,Ru<e.length?e.charAt(Ru):null,Ru<e.length?ju(Ru,Ru+1):ju(Ru,Ru))}}},(St=xt).exports&&(St.exports=Ot());var bt=xt.exports;class o{static parse(e){return bt.parse(e)}}const Ct=new Set(["current_timestamp","current_date","current_time"]);class x{static makeBool(e){return F(e)}static featureValue(e,t,a,u){return U(e,t,a,u)}static equalsNull(e){return null===e}static applyLike(e,t,a){return q(e,t,a)}static ensureArray(e){return b(e)}static applyIn(e,t,a){return E(e,t)}static currentDate(t){return e.fromNow(t)}static makeSqlInterval(e,t,a){return s2.createFromValueAndQualifier(e,t,a)}static convertInterval(e){return e instanceof s2?e.valueInMilliseconds():e}static currentTimestamp(e){return T$3(new Date,e)}static compare(e,t,a,u){return I$2(t,a,e)}static calculate(e,t,a,u){return d(e,t,a,u)}static evaluateTime(e){return O$3(e)}static evaluateTimestamp(e,t,a){return P$1(e,t,a)}static evaluateDate(e,t){return V$2(e,t)}static evaluateFunction(e,t,a){return w$1(e,t,a)}static lookup(e,t){const a=t[e];return void 0===a?null:a}static between(e,t,a){return null==e||null==t[0]||null==t[1]?null:I$2(e,t[0],">=")&&I$2(e,t[1],"<=")}static notbetween(e,t,a){return null==e||null==t[0]||null==t[1]?null:I$2(e,t[0],"<")||I$2(e,t[1],">")}static ternaryNot(e){return D(e)}static ternaryAnd(e,t){return Z(e,t)}static ternaryOr(e,t){return k(e,t)}}let At=class O2{constructor(e,t,a="UTC"){this.fieldsIndex=t,this.timeZone=a,this.parameters={},this._hasDateFunctions=void 0,this.parseTree=o.parse(e);const{isStandardized:u,isAggregate:l,referencedFieldNames:c}=this._extractExpressionInfo(t);this._referencedFieldNames=c,this.isStandardized=u,this.isAggregate=l}static convertValueToStorageFormat(a,u=null){if(null===u)return x$4(a)?a.getTime():j$3(a)?a.toMillis():D$3(a)?a.toStorageFormat():z$2(a)?a.toStorageString():$$1(a)?a.toStorageFormat():a;switch(u){case"date":return x$4(a)?a.getTime():j$3(a)?a.toMillis():D$3(a)?a.toMilliseconds():$$1(a)?a.toNumber():a;case"date-only":return x$4(a)?e.fromDateJS(a).toString():D$3(a)?e.fromSqlTimeStampOffset(a).toString():j$3(a)?e.fromDateTime(a).toString():a;case"time-only":return x$4(a)?t.fromDateJS(a).toStorageString():j$3(a)?t.fromDateTime(a).toStorageString():D$3(a)?t.fromSqlTimeStampOffset(a).toStorageString():z$2(a)?a.toStorageString():a;case"timestamp-offset":if(x$4(a))return r.fromJSDate(a).toStorageFormat();if(j$3(a))return r.fromDateTime(a).toStorageFormat();if(D$3(a))return a.toStorageFormat()}return a}static create(e,t,a="UTC"){return new O2(e,t,a)}get fieldNames(){return this._referencedFieldNames}testSet(e,t=Mt){return!!this._evaluateNode(this.parseTree,null,t,e)}calculateValue(e,t=Mt){const a=this._evaluateNode(this.parseTree,e,t,null);return a instanceof s2?a.valueInMilliseconds()/864e5:a}calculateValueCompiled(e,t=Mt){return null!=this.parseTree._compiledVersion?this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone):et("esri-csp-restrictions")?this.calculateValue(e,t):(this._compileMe(),this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone))}testFeature(e,t=Mt){return!!this._evaluateNode(this.parseTree,e,t,null)}testFeatureCompiled(e,t=Mt){return null!=this.parseTree._compiledVersion?!!this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone):et("esri-csp-restrictions")?this.testFeature(e,t):(this._compileMe(),!!this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone))}get hasDateFunctions(){return null!=this._hasDateFunctions||(this._hasDateFunctions=!1,this._visitAll(this.parseTree,(e=>{"current-time"===e.type?this._hasDateFunctions=!0:"function"===e.type&&(this._hasDateFunctions=this._hasDateFunctions||Ct.has(e.name.toLowerCase()))}))),this._hasDateFunctions}getFunctions(){const e=new Set;return this._visitAll(this.parseTree,(t=>{"function"===t.type&&e.add(t.name.toLowerCase())})),Array.from(e)}getExpressions(){const e=new Map;return this._visitAll(this.parseTree,(t=>{if("function"===t.type){const a=t.name.toLowerCase(),u=t.args.value[0];if("column-reference"===u.type){const t=u.column,l=`${a}-${t}`;e.has(l)||e.set(l,{aggregateType:a,field:t})}}})),[...e.values()]}getVariables(){const e=new Set;return this._visitAll(this.parseTree,(t=>{"parameter"===t.type&&e.add(t.value.toLowerCase())})),Array.from(e)}_compileMe(){const e="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=new Function("feature","lookups","attributeAdapter","fieldsIndex","timeZone",e).bind(x)}_extractExpressionInfo(e){const t=[],a=new Set;let u=!0,l=!1;return this._visitAll(this.parseTree,(c=>{switch(c.type){case"column-reference":{const u=null==e?void 0:e.get(c.column);let l,I;u?l=I=u.name??"":(I=c.column,l=I.toLowerCase()),a.has(l)||(a.add(l),t.push(I)),c.column=I;break}case"function":{const{name:e,args:t}=c,a=t.value.length;u&&(u=function C$2(e,t){const a=Nt[e.toLowerCase()];return null!=a&&t>=a.minParams&&t<=a.maxParams}(e,a)),!1===l&&(l=o$1(e,a));break}}})),{referencedFieldNames:Array.from(t),isStandardized:u,isAggregate:l}}_visitAll(e,t){if(null!=e)switch(t(e),e.type){case"when-clause":this._visitAll(e.operand,t),this._visitAll(e.value,t);break;case"case-expression":for(const a of e.clauses)this._visitAll(a,t);"simple"===e.format&&this._visitAll(e.operand,t),null!==e.else&&this._visitAll(e.else,t);break;case"expression-list":for(const a of e.value)this._visitAll(a,t);break;case"unary-expression":this._visitAll(e.expr,t);break;case"binary-expression":this._visitAll(e.left,t),this._visitAll(e.right,t);break;case"function":this._visitAll(e.args,t)}}evaluateNodeToJavaScript(e){switch(e.type){case"interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(e.value)+", "+JSON.stringify(e.qualifier)+","+JSON.stringify(e.op)+")";case"case-expression":{let t="";if("simple"===e.format){const a=this.evaluateNodeToJavaScript(e.operand);t="( ";for(let u=0;u<e.clauses.length;u++)t+=" (this.compare('=',"+a+","+this.evaluateNodeToJavaScript(e.clauses[u].operand)+") ? ("+this.evaluateNodeToJavaScript(e.clauses[u].value)+") : ";null!==e.else?t+=this.evaluateNodeToJavaScript(e.else):t+="null",t+=" )"}else{t="( ";for(let a=0;a<e.clauses.length;a++)t+=" this.makeBool("+this.evaluateNodeToJavaScript(e.clauses[a].operand)+")===true ? ("+this.evaluateNodeToJavaScript(e.clauses[a].value)+") : ";null!==e.else?t+=this.evaluateNodeToJavaScript(e.else):t+="null",t+=" )"}return t}case"parameter":return"this.lookup("+JSON.stringify(e.value.toLowerCase())+",lookups)";case"expression-list":{let t="[";for(const a of e.value)"["!==t&&(t+=","),t+=this.evaluateNodeToJavaScript(a);return t+="]",t}case"unary-expression":return"this.ternaryNot("+this.evaluateNodeToJavaScript(e.expr)+")";case"binary-expression":switch(e.operator){case"AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+" )";case"OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+" )";case"IS":if("null"!==e.right.type)throw new it(rt.UnsupportedIsRhs);return"this.equalsNull("+this.evaluateNodeToJavaScript(e.left)+")";case"ISNOT":if("null"!==e.right.type)throw new it(rt.UnsupportedIsRhs);return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(e.left)+")))";case"IN":return"this.applyIn("+this.evaluateNodeToJavaScript(e.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(e.right)+"), timeZone)";case"NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(e.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(e.right)+"), timeZone))";case"BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";case"NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";case"LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+","+JSON.stringify(e.escape)+")";case"NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+","+JSON.stringify(e.escape)+"))";case"<>":case"<":case">":case">=":case"<=":case"=":return"this.compare("+JSON.stringify(e.operator)+","+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";case"*":case"-":case"+":case"/":case"||":return"this.calculate("+JSON.stringify(e.operator)+","+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)"}throw new it(rt.UnsupportedOperator,{operator:e.operator});case"null":case"boolean":case"string":case"number":return JSON.stringify(e.value);case"time":return"this.evaluateTime("+JSON.stringify(e.value)+")";case"date":return"this.evaluateDate("+JSON.stringify(e.value)+", 'unknown')";case"timestamp":return"this.evaluateTimestamp("+JSON.stringify(e.value)+", 'unknown')";case"current-time":return"date"===e.mode?"this.currentDate(timeZone)":"this.currentTimestamp(timeZone)";case"column-reference":return"this.featureValue(feature,"+JSON.stringify(e.column)+",fieldsIndex,attributeAdapter)";case"function":return"this.evaluateFunction("+JSON.stringify(e.name)+","+this.evaluateNodeToJavaScript(e.args)+", timeZone)"}throw new it(rt.UnsupportedSyntax,{node:e.type})}_evaluateNode(t,u,c,I){var M;let L;switch(t.type){case"interval":{const e=this._evaluateNode(t.value,u,c,I);return s2.createFromValueAndQualifier(e,t.qualifier,t.op)}case"case-expression":if("simple"===t.format){const e=this._evaluateNode(t.operand,u,c,I);for(let a=0;a<t.clauses.length;a++)if(I$2(e,this._evaluateNode(t.clauses[a].operand,u,c,I),"=",this.timeZone))return this._evaluateNode(t.clauses[a].value,u,c,I);if(null!==t.else)return this._evaluateNode(t.else,u,c,I)}else{for(let e=0;e<t.clauses.length;e++)if(F(this._evaluateNode(t.clauses[e].operand,u,c,I)))return this._evaluateNode(t.clauses[e].value,u,c,I);if(null!==t.else)return this._evaluateNode(t.else,u,c,I)}return null;case"parameter":return L=this.parameters[t.value.toLowerCase()],x$4(L)?l.fromJSDate(L):L instanceof a?L.toDateTime():L;case"expression-list":{const e=[];for(const a of t.value)e.push(this._evaluateNode(a,u,c,I));return e}case"unary-expression":return D(this._evaluateNode(t.expr,u,c,I));case"binary-expression":switch(t.operator){case"AND":return Z(this._evaluateNode(t.left,u,c,I),this._evaluateNode(t.right,u,c,I));case"OR":return k(this._evaluateNode(t.left,u,c,I),this._evaluateNode(t.right,u,c,I));case"IS":if("null"!==t.right.type)throw new it(rt.UnsupportedIsRhs);return null===this._evaluateNode(t.left,u,c,I);case"ISNOT":if("null"!==t.right.type)throw new it(rt.UnsupportedIsRhs);return null!==this._evaluateNode(t.left,u,c,I);case"IN":{const e=b(this._evaluateNode(t.right,u,c,I));return E(this._evaluateNode(t.left,u,c,I),e,this.timeZone)}case"NOT IN":{const e=b(this._evaluateNode(t.right,u,c,I));return D(E(this._evaluateNode(t.left,u,c,I),e,this.timeZone))}case"BETWEEN":{const e=this._evaluateNode(t.left,u,c,I),a=this._evaluateNode(t.right,u,c,I);return null==e||null==a[0]||null==a[1]?null:I$2(e,a[0],">=",this.timeZone)&&I$2(e,a[1],"<=",this.timeZone)}case"NOTBETWEEN":{const e=this._evaluateNode(t.left,u,c,I),a=this._evaluateNode(t.right,u,c,I);return null==e||null==a[0]||null==a[1]?null:I$2(e,a[0],"<",this.timeZone)||I$2(e,a[1],">",this.timeZone)}case"LIKE":return q(this._evaluateNode(t.left,u,c,I),this._evaluateNode(t.right,u,c,I),t.escape);case"NOT LIKE":return D(q(this._evaluateNode(t.left,u,c,I),this._evaluateNode(t.right,u,c,I),t.escape));case"<>":case"<":case">":case">=":case"<=":case"=":return I$2(this._evaluateNode(t.left,u,c,I),this._evaluateNode(t.right,u,c,I),t.operator,this.timeZone);case"-":case"+":case"*":case"/":case"||":return d(t.operator,this._evaluateNode(t.left,u,c,I),this._evaluateNode(t.right,u,c,I),this.timeZone)}case"null":case"boolean":case"string":case"number":return t.value;case"date":return t.parsedValue??(t.parsedValue=V$2(t.value,"unknown")),t.parsedValue;case"timestamp":return t.parsedValue??(t.parsedValue=P$1(t.value,"unknown")),t.parsedValue;case"time":return O$3(t.value);case"current-time":return"date"===t.mode?e.fromNow(this.timeZone):T$3(new Date,this.timeZone);case"column-reference":return U(u,t.column,this.fieldsIndex,c);case"data-type":return t.value;case"function":{if(this.isAggregate&&o$1(t.name,t.args.value.length)){const e=[];for(const a of(null==(M=t.args)?void 0:M.value)||[]){const t=[];for(const e of I||[])t.push(this._evaluateNode(a,e,c,null));e.push(t)}return function u$2(e,t){const a=lt[e.toLowerCase()];if(null==a)throw new it(rt.FunctionNotRecognized);if(t.length<a.minParams||t.length>a.maxParams)throw new it(rt.InvalidParameterCount,{name:e.toUpperCase()});return a.evaluate(t)}(t.name,e)}const e=this._evaluateNode(t.args,u,c,I);return w$1(t.name,e,this.timeZone)}}throw new it(rt.UnsupportedSyntax,{node:t.type})}};function F(e){return!0===e}function b(e){return Array.isArray(e)?e:[e]}function D(e){return null!==e?!0!==e:null}function Z(e,t){return null!=e&&null!=t?!0===e&&!0===t:!1!==e&&!1!==t&&null}function k(e,t){return null!=e&&null!=t?!0===e||!0===t:!0===e||!0===t||null}function E(e,t,a){if(null==e)return null;let u=!1;for(const l of t)if(null==l)u=null;else{if(e===l){u=!0;break}if(O$2(e)&&O$2(l)&&(u=I$2(e,l,"="),u))break}return u}const Dt="-[]/{}()*+?.\\^$|";var Et;function q(e,t,a){return null==e?null:function j(e,t){const a=t;let u="",l=Et.Normal;for(let c=0;c<e.length;c++){const t=e.charAt(c);switch(l){case Et.Normal:t===a?l=Et.Escaped:Dt.includes(t)?u+="\\"+t:u+="%"===t?".*":"_"===t?".":t;break;case Et.Escaped:Dt.includes(t)?u+="\\"+t:u+=t,l=Et.Normal}}return new RegExp("^"+u+"$","m")}(t,a).test(e)}function U(a,u,l,c){const I=c.getAttribute(a,u),M=null==l?void 0:l.get(u);return null==I||"esriFieldTypeDate"!==(null==M?void 0:M.type)&&"date"!==(null==M?void 0:M.type)?null==I||"esriFieldTypeDateOnly"!==(null==M?void 0:M.type)&&"date-only"!==(null==M?void 0:M.type)?null==I||"esriFieldTypeTimeOnly"!==(null==M?void 0:M.type)&&"time-only"!==(null==M?void 0:M.type)?null==I||"esriFieldTypeTimestampOffset"!==(null==M?void 0:M.type)&&"timestamp-offset"!==(null==M?void 0:M.type)?I:new r(I):t.fromReader(I):e.fromReader(I):T$3(new Date(I),(null==l?void 0:l.getLuxonTimeZone(M.name))??tt.utcInstance)}!function(e){e[e.Normal=0]="Normal",e[e.Escaped=1]="Escaped"}(Et||(Et={}));const Mt={getAttribute:(e,t)=>(function C(e){return e&&"object"==typeof e.attributes}(e)?e.attributes:e)[t]},Ft=Object.freeze(Object.defineProperty({__proto__:null,WhereClause:At,defaultAttributeAdapter:Mt},Symbol.toStringTag,{value:"Module"}));export{At as O,Ft as W,ot as a,it as n,r,st as s,rt as t};
