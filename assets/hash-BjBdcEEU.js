const t=2654435761,s=2246822519,n=3266489917,e=668265263,r=374761393;function h(t){const s=[];for(let n=0,e=t.length;n<e;n++){let e=t.charCodeAt(n);e<128?s.push(e):e<2048?s.push(192|e>>6,128|63&e):e<55296||e>=57344?s.push(224|e>>12,128|e>>6&63,128|63&e):(n++,e=65536+((1023&e)<<10|1023&t.charCodeAt(n)),s.push(240|e>>18,128|e>>12&63,128|e>>6&63,128|63&e))}return new Uint8Array(s)}class i{constructor(t){this._seed=t,this._totallen=0,this._bufs=[],this.init()}init(){return this._bufs=[],this._totallen=0,this}updateFloatArray(t){const s=[];for(const n of t)isNaN(n)?s.push("NaN"):n===1/0?s.push("Infinity"):n===-1/0?s.push("-Infinity"):0===n?s.push("0"):s.push(n.toString(16));this.update(h(s.join("")))}updateIntArray(t){const s=Int32Array.from(t);this.update(new Uint8Array(s.buffer))}updateUint8Array(t){this.update(Uint8Array.from(t))}updateWithString(t){return this.update(h(t))}update(t){return this._bufs.push(t),this._totallen+=t.length,this}digest(){const t=new Uint8Array(this._totallen);let s=0;for(const n of this._bufs)t.set(n,s),s+=n.length;return this.init(),this._xxHash32(t,this._seed)}_xxHash32(o,u=0){const a=o;let l=u+r&4294967295,f=0;if(a.length>=16){const n=[u+t+s&4294967295,u+s&4294967295,u+0&4294967295,u-t&4294967295],e=o,r=e.length-16;let a=0;for(f=0;(4294967280&f)<=r;f+=4){const r=f,o=e[r]+(e[r+1]<<8),u=e[r+2]+(e[r+3]<<8),l=o*s+(u*s<<16);let p=n[a]+l&4294967295;p=p<<13|p>>>19;const c=65535&p,d=p>>>16;n[a]=c*t+(d*t<<16)&4294967295,a=a+1&3}l=(n[0]<<1|n[0]>>>31)+(n[1]<<7|n[1]>>>25)+(n[2]<<12|n[2]>>>20)+(n[3]<<18|n[3]>>>14)&4294967295}l=l+o.length&4294967295;const p=o.length-4;for(;f<=p;f+=4){const t=f,s=a[t]+(a[t+1]<<8),r=a[t+2]+(a[t+3]<<8);l=l+(s*n+(r*n<<16))&4294967295,l=l<<17|l>>>15,l=(65535&l)*e+((l>>>16)*e<<16)&4294967295}for(;f<a.length;++f)l+=a[f]*r,l=l<<11|l>>>21,l=(65535&l)*t+((l>>>16)*t<<16)&4294967295;return l^=l>>>15,l=((65535&l)*s&4294967295)+((l>>>16)*s<<16),l^=l>>>13,l=((65535&l)*n&4294967295)+((l>>>16)*n<<16),l^=l>>>16,l<0?l+4294967296:l}}export{i};
