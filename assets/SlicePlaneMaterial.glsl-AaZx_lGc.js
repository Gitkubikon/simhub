import{g1 as i,bk as s,ku as r,e as n,y as a,aw as o,gH as d,aO as p,hT as b,a as _,br as w,pf as O,w5 as T,w6 as E,dW as C,w8 as A,xe as P,wc as R,wg as N,_ as L,wj as x,wk as y,wV as U,wl as V,xf as k,tf as D,kA as H,ws as G,wL as F,wy as B,kz as X,wf as q,xI as Y,wE as Z,wC as Q,xg as K,dJ as $,dN as ee,hg as te,pg as ie,dl as se,e3 as re,dC as ne,du as ae,xJ as oe,dB as ce,L as de,N as le,dD as ue,dt as ge,cx as he,mX as pe,dz as fe,mZ as be,v7 as me,xK as _e,xL as we,xM as Oe,bO as Te,O as Ie,oO as Ee,ci as ve,ch as Ce,oQ as Ae,hP as Pe,dh as Me,kG as Re,ge as Ne,xN as Se,mQ as Le,xO as xe,qN as ye,mV as Ue,ee as Ve,v9 as je,n as ke,dO as We,g as De,P as He,ak as Ge,dQ as Fe,oN as Be,bM as ze,oi as Xe,oI as qe,ea as Ye,eb as Ze,e7 as Qe,lf as Je,Q as Ke,qQ as $e,lp as et,bV as tt,gO as it,uy as st,xP as rt,oS as nt,v4 as at}from"./index-DSIPxOWi.js";import{e as ot,i as ct,u as dt,v as lt,C as ut,g as gt,j as ht,k as pt,q as ft,b as bt,d as mt,s as _t,n as wt,x as Ot,U as Tt,S as It,c as Et,l as vt,a as Ct}from"./sliceToolConfig-Doq59PhP.js";import{O as At,e as Pt,i as Mt,c as Rt,k as Nt}from"./ShadedColorMaterial.glsl-C-XXTK_B.js";import{g as St}from"./ImageMaterial.glsl-V3C9c4TG.js";import{j as Lt}from"./persistable-Bz3xp-b5.js";import{r as xt}from"./projectionUtils-B1mpMSec.js";import{a as yt,f as Ut}from"./LineVisualElement-EjMrPPob.js";let Vt=class c extends(i(s)){constructor(i){super(i),this.type="plane",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}equals(i){return this.heading===i.heading&&this.tilt===i.tilt&&r(this.position,i.position)&&this.width===i.width&&this.height===i.height}};n([a({readOnly:!0,json:{read:!1,write:!0}})],Vt.prototype,"type",void 0),n([a({type:o}),Lt()],Vt.prototype,"position",void 0),n([a({type:Number,nonNullable:!0,range:{min:0,max:360}}),Lt(),d((i=>p.normalize(b(i),0,!0)))],Vt.prototype,"heading",void 0),n([a({type:Number,nonNullable:!0,range:{min:0,max:360}}),Lt(),d((i=>p.normalize(b(i),0,!0)))],Vt.prototype,"tilt",void 0),n([a({type:Number,nonNullable:!0}),Lt()],Vt.prototype,"width",void 0),n([a({type:Number,nonNullable:!0}),Lt()],Vt.prototype,"height",void 0),Vt=n([_("esri.analysis.SlicePlane")],Vt);const jt=Vt,kt=w(0,0,0,.04);function c2({accentColor:i}){return O(i,.5)}function e({accentColor:i}){return O(i,.7)}function t(i){const s=new T,{vertex:r,fragment:n,attributes:a,varyings:o}=s;return E(r,i),a.add(C.POSITION,"vec3"),a.add(C.UV0,"vec2"),o.add("vUV","vec2"),r.code.add(A`void main(void) {
vUV = uv0;
gl_Position = proj * view * vec4(position, 1.0);
}`),n.uniforms.add(new P("backgroundColor",(i=>i.backgroundColor)),new P("gridColor",(i=>i.gridColor)),new R("gridWidth",(i=>i.gridWidth))),n.code.add(A`void main() {
const float LINE_WIDTH = 1.0;
vec2 uvScaled = vUV * gridWidth;
vec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));
vec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);
grid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);
grid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);
float gridFade = max(grid.x, grid.y);
float gridAlpha = gridColor.a * gridFade;
fragColor =
vec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +
vec4(gridColor.rgb, 1.0) * gridAlpha;
}`),s}const Wt=Object.freeze(Object.defineProperty({__proto__:null,build:t},Symbol.toStringTag,{value:"Module"}));class h extends F{constructor(){super(...arguments),this.backgroundColor=w(1,0,0,.5),this.gridColor=w(0,1,0,.5),this.gridWidth=4}}class u extends x{initializeProgram(i){return new y(i.rctx,u.shader.get().build(this.configuration),U)}initializePipeline(){return V({blending:k(D.ONE,D.ONE,D.ONE_MINUS_SRC_ALPHA,D.ONE_MINUS_SRC_ALPHA),depthTest:{func:H.LESS},colorWrite:G})}}u.shader=new N(Wt,(()=>L((()=>Promise.resolve().then((()=>$t))),void 0)));let Dt=class l extends B{constructor(i){super(i,new m),this.produces=new Map([[X.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,i=>i===q.Color]]),this._configuration=new Y}createBufferWriter(){return new Z(Q)}createGLMaterial(i){return new f(i)}getConfiguration(){return this._configuration}};class f extends K{constructor(i){super(i),this.ensureTechnique(u,null)}beginSlot(){return this.technique}}class m extends h{constructor(){super(...arguments),this.renderOccluded=$.Occlude,this.isDecoration=!1}}class l2 extends yt{constructor(i){super(i),this._material=null,this._renderOccluded=$.OccludeAndTransparent,this._gridWidth=1,this._gridColor=w(1,0,0,1),this._backgroundColor=w(1,0,0,1),this.applyProperties(i)}get renderOccluded(){return this._renderOccluded}set renderOccluded(i){i!==this._renderOccluded&&(this._renderOccluded=i,this._updateMaterial())}get gridWidth(){return this._gridWidth}set gridWidth(i){this._gridWidth!==i&&(this._gridWidth=i,this._updateMaterial())}get gridColor(){return this._gridColor}set gridColor(i){ee(this._gridColor,i),this._updateMaterial()}get backgroundColor(){return this._backgroundColor}set backgroundColor(i){ee(this._backgroundColor,i),this._updateMaterial()}createExternalResources(){this._material=new Dt(this._materialParameters)}destroyExternalResources(){this._material=null}forEachExternalMaterial(i){null!=this._material&&i(this._material)}createGeometries(i){if(null!=this._material){const s=te(this._material);i.addGeometry(s)}}get _materialParameters(){return{backgroundColor:this._backgroundColor,gridWidth:this._gridWidth,gridColor:this._gridColor,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateMaterial(){null!=this._material&&this._material.setParameters(this._materialParameters)}}function ei(i,s,r,n,a,o,d,p){return function ni(i,s,r,n,a,o){const d=ce(i,s),p=re.get(),b=re.get();switch(n===zt.HORIZONTAL_OR_VERTICAL?Math.abs(d)>ot?zt.HORIZONTAL:zt.VERTICAL:n){case zt.VERTICAL:{const n=Math.abs(d)<=ct?i:r.viewUp;de(p,n,s),ae(b,s);break}case zt.HORIZONTAL:de(p,r.viewUp,s),de(b,s,p);break;case zt.TILTED:{const n=Math.abs(d)<=ct?s:r.viewUp;de(p,n,i),de(b,i,p);break}}const _=de(re.get(),p,b);ce(_,r.viewForward)>0&&ne(b,b,-1),le(a,p),le(o,b)}(s,d.worldUpAtPosition(i,re.get()),a,o,p.basis1,p.basis2),ne(p.basis1,p.basis1,r),ne(p.basis2,p.basis2,n),ae(p.origin,i),oe(p.basis2,p.basis1,p.origin,p.plane),p}function ri(i,s,r,n,a,o){const d=ae(re.get(),a.origin);ue(d,d,ne(re.get(),a.basis1,i.direction[0]<0?1:-1)),ue(d,d,ne(re.get(),a.basis2,i.direction[1]<0?1:-1));const p=ge(a.basis1),b=ge(a.basis2),_=he(re.get(),r,d),w=he(re.get(),s,d);let O=0,T=0;if(Ei(i)){const s=hi(a),r=hi(o);O=p-.5*i.direction[0]*ce(a.basis1,w)/p,T=b-.5*i.direction[1]*ce(a.basis2,w)/b;const n=r/s;O*=n,T*=n}const E=O+.5*i.direction[0]*ce(a.basis1,_)/p,C=T+.5*i.direction[1]*ce(a.basis2,_)/b,A=ne(re.get(),a.basis1,E/p),P=ne(re.get(),a.basis2,C/b);(E<=0||Ti(o.origin,A,n)<=dt)&&ae(A,o.basis1),(C<=0||Ti(o.origin,P,n)<=dt)&&ae(P,o.basis2);const R=ae(re.get(),d);return ue(R,R,ne(re.get(),A,i.direction[0]<0?-1:1)),ue(R,R,ne(re.get(),P,i.direction[1]<0?-1:1)),pe(R,A,P,o)}function si(i,s){return lt*Math.min(s.width,s.height)*s.computeRenderPixelSizeAt(i)}function ai(i,s,r,n){const a=de(re.get(),s,r);return de(a,a,s),fe(i,a,n)}function ci(i,s){return At(i.basis1,i.basis2,i.origin,s)}function li(i,s,r,n){const a=s.worldUpAtPosition(i.origin,re.get()),o=re.get();switch(r){case Bt.HEADING:ae(o,a);break;case Bt.TILT:ae(o,i.basis1)}return fe(i.origin,o,n)}function ui(i,s,r,n){const a=bi(r,Ht.NEGATIVE_X),o=be.get();me(o,s,a.edge*Math.PI/2);const d=le(re.get(),a.basis);let p=ne(re.get(),d,a.direction*n.computeScreenPixelSizeAt(a.position)*ut);ue(p,p,a.position);const b=n.projectToRenderScreen(p,_e(re.get())),_=function di(i,s){const[r,n,a,o]=i.viewport,d=Math.min(a,o)/16;let p=!0;return s[0]<r+d?(s[0]=r+d,p=!1):s[0]>r+a-d&&(s[0]=r+a-d,p=!1),s[1]<n+d?(s[1]=n+d,p=!1):s[1]>n+o-d&&(s[1]=n+o-d,p=!1),p}(n,b);we(n,b,qt),le(qt.direction,qt.direction);const w=re.get();!_&&Oe(r,qt,w)&&(p=w),o[12]=0,o[13]=0,o[14]=0,i.modelTransform=o,i.renderLocation=Te(p),_?i.state|=Xt:i.state&=~Xt}function gi(i,s,r,n){const a=ge(n.basis1),o=ge(n.basis2),d=Ii(n),p=hi(n),b=Ie(re.get(),0,0,0);ue(b,ne(re.get(),n.basis1,s.direction[0]),ne(re.get(),n.basis2,s.direction[1])),ue(b,n.origin,b);let _=0,w=1;if(Ei(s))1===s.direction[0]&&-1===s.direction[1]?_=Yt:1===s.direction[0]&&1===s.direction[1]?_=Math.PI:-1===s.direction[0]&&1===s.direction[1]&&(_=3*Math.PI/2),w=p;else{const i=0!==s.direction[0]?1:2;_=1===i?Yt:0,w=(1===i?o:a)-d}const O=Ee(be.get(),_);ve(O,O,Ie(re.get(),w,w,w)),Ce(O,r,O),O[12]=0,O[13]=0,O[14]=0,i.modelTransform=O,i.renderLocation=b}function mi(i,s,r,n){const a=n.worldUpAtPosition(r.origin,re.get()),o=bi(r,Ht.POSITIVE_X),d=Ee(be.get(),o.edge*Math.PI/2);Ae(d,d,-Oi(r,a)),Ce(d,s,d),d[12]=0,d[13]=0,d[14]=0,i.modelTransform=d,i.renderLocation=o.position}function pi(i,s,r){const n=bi(r,Ht.POSITIVE_Y),a=Ee(be.get(),n.edge*Math.PI/2);Ae(a,a,Yt),Ce(a,s,a),a[12]=0,a[13]=0,a[14]=0,i.modelTransform=a,i.renderLocation=n.position}var Ht,Gt;function bi(i,s){switch(s){case Ht.POSITIVE_X:return{basis:i.basis1,direction:1,position:ue(re.get(),i.origin,i.basis1),edge:s};case Ht.POSITIVE_Y:return{basis:i.basis2,direction:1,position:ue(re.get(),i.origin,i.basis2),edge:s};case Ht.NEGATIVE_X:return{basis:i.basis1,direction:-1,position:he(re.get(),i.origin,i.basis1),edge:s};case Ht.NEGATIVE_Y:return{basis:i.basis2,direction:-1,position:he(re.get(),i.origin,i.basis2),edge:s}}}function Ti(i,s,r){const n=r.projectToRenderScreen(ue(re.get(),i,s),_e(re.get())),a=r.projectToRenderScreen(he(re.get(),i,s),_e(re.get()));return Pe(he(n,n,a))}function Ii(i){const s=ge(i.basis1),r=ge(i.basis2);return gt*Math.min(s,r)}function hi(i){return Ii(i)}function Ei(i){return 0!==i.direction[0]&&0!==i.direction[1]}function Ai(i){return new Ut({view:i,attached:!1,color:e(i.effectiveTheme),width:ht,renderOccluded:$.OccludeAndTransparent,geometry:[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]]],isDecoration:!0})}function ji(i){return new l2({view:i,attached:!1,backgroundColor:kt,gridColor:c2(i.effectiveTheme),gridWidth:4,renderOccluded:$.OccludeAndTransparent,isDecoration:!0})}function Ri(i,s,r,n=new jt){if(null==i)return null;const{renderCoordsHelper:a}=s,d=a.fromRenderCoords(i.origin,new o({spatialReference:s.spatialReference}));if(null==d)return null;const p=Me(d,r);if(null==p)return null;n.position=p;const b=2*ge(i.basis1),_=2*ge(i.basis2),w=Re.renderUnitScaleFactor(s.spatialReference,r);n.width=b*w,n.height=_*w;const O=a.worldUpAtPosition(i.origin,re.get());return n.tilt=Ne(Oi(i,O)),n.heading=a.headingAtPosition(i.origin,i.basis1)-90,n}function Oi(i,s){return Se(s,i.basis2,i.basis1)+Yt}function Li(i,s){if(null==(null==i?void 0:i.position))return null;const r=xt(i.position,s.spatialReference,s.elevationProvider);if(null==r)return null;const n=Re.renderUnitScaleFactor(i.position.spatialReference,s.spatialReference),a=i.width*n,o=i.height*n;return{position:r,heading:i.heading,tilt:i.tilt,renderWidth:a,renderHeight:o}}function Vi(i,s,r,n=Le()){if(null==i)return null;const a=function Pi(i,s,r,n,a,o,d=Le()){return o.toRenderCoords(i,d.origin)?(o.worldBasisAtPosition(d.origin,ye.X,d.basis1),o.worldBasisAtPosition(d.origin,ye.Y,d.basis2),oe(d.basis2,d.basis1,d.origin,d.plane),xe(d,-Ve(s),Ue(d),d),xe(d,Ve(r),d.basis1,d),ne(d.basis1,d.basis1,n/2),ne(d.basis2,d.basis2,a/2),je(d),d):(ke.getLogger("esri.views.3d.analysis.Slice.sliceToolUtils").error(`Failed to project slice plane position, projection from ${i.spatialReference.wkid} is not supported`),null)}(i.position,i.heading,i.tilt,i.renderWidth,i.renderHeight,s.renderCoordsHelper,n);return r.tiltEnabled||null==a||function oi(i,s,r){const n=s.worldUpAtPosition(i.origin,re.get()),a=i.basis1,o=Oi(i,n),d=Math.round(o/Yt)*Yt;return xe(i,d-o,a,r)}(a,s.renderCoordsHelper,a),a}(Gt=Ht||(Ht={}))[Gt.POSITIVE_X=0]="POSITIVE_X",Gt[Gt.POSITIVE_Y=1]="POSITIVE_Y",Gt[Gt.NEGATIVE_X=2]="NEGATIVE_X",Gt[Gt.NEGATIVE_Y=3]="NEGATIVE_Y";const Ft=ie.Custom1;var Bt,zt;!function(i){i[i.HEADING=1]="HEADING",i[i.TILT=2]="TILT"}(Bt||(Bt={})),function(i){i[i.HORIZONTAL_OR_VERTICAL=0]="HORIZONTAL_OR_VERTICAL",i[i.HORIZONTAL=1]="HORIZONTAL",i[i.VERTICAL=2]="VERTICAL",i[i.TILTED=3]="TILTED"}(zt||(zt={}));const Xt=ie.Custom2,qt=se(),Yt=Math.PI/2,Zt=ie.Custom1,Qt=ie.Custom2;function xi(i){return null!=("building-scene-3d"===i.type?i:null)}class v extends Pt{constructor(i,s){const r=Ei(s),n=r?bt:mt,a=n*_t,o=mt,d={renderOccluded:$.OccludeAndTransparent,isDecoration:!0},p=new We({...d,width:n}),b=new We({...d,width:a}),_=new We({...d,width:o});super({view:i,...Mt,...M({isCorner:r,unfocusedMaterial:p,focusedMaterial:b,outlineMaterial:_})}),this._themeHandle=De((()=>i.effectiveTheme.accentColor),(i=>{const s=Ge.toUnitRGBA(i);p.setParameters({color:s}),b.setParameters({color:s}),_.setParameters({color:s})}),He)}destroy(){this._themeHandle.remove(),super.destroy()}}function M({isCorner:i,unfocusedMaterial:s,focusedMaterial:r,outlineMaterial:n}){const a=i?[ze(1,0,0),ze(0,0,0),ze(0,1,0)]:[ze(1,0,0),ze(-1,0,0)];return{renderObjects:[new Rt(Fe(s,a),Be.Unfocused|Zt),new Rt(Fe(r,a),Be.Focused|Zt),new Rt(Fe(n,a),Qt)],collisionType:{type:"line",paths:[a]},radius:i?pt:ft,state:Zt}}class g extends Pt{constructor(i,s){const r=new St({transparent:!0,writeDepth:!1,renderOccluded:$.Opaque,isDecoration:!0}),n=Nt.calloutWidth,a=new We({width:n,renderOccluded:$.OccludeAndTransparent,isDecoration:!0});super({view:i,...j({imageMaterial:r,calloutMaterial:a})}),this._currentTexture=null,this._themeHandle=De((()=>i.effectiveTheme.accentColor),(i=>{const n=Xe(i,.5),o=qe(i),d=this._currentTexture,p=s(n,o);r.setParameters({textureId:p.texture.id}),a.setParameters({color:Ge.toUnitRGBA(i)}),this._currentTexture=p,null==d||d.release()}),He)}destroy(){var i;this._themeHandle.remove(),null==(i=this._currentTexture)||i.release(),super.destroy()}}function j({imageMaterial:i,calloutMaterial:s}){const{focusMultiplier:r,calloutLength:n,discRadius:a}=Nt,o=a*r,d2=(i,s)=>{const r=[0,1,2,2,3,0];return new Ye(s,[[C.POSITION,new Ze([n-i,-i,0,n+i,-i,0,n+i,i,0,n-i,i,0],r,3,!0)],[C.UV0,new Ze([0,0,1,0,1,1,0,1],r,2,!0)]])},d=Fe(s,[[0,0,0],[n-a,0,0]]),p=Fe(s,[[0,0,0],[n-o,0,0]]),b=Ft;return{autoScaleRenderObjects:!1,collisionPriority:1,collisionType:{type:"disc",direction:[0,0,1],offset:[n,0,0]},focusMultiplier:r,radius:a,renderObjects:[new Rt(d2(a,i),Be.Unfocused|b),new Rt(d,Be.Unfocused|b),new Rt(d2(o,i),Be.Focused|b),new Rt(p,Be.Focused|b)],state:b}}var Jt,Kt;(Kt=Jt||(Jt={}))[Kt.CENTER_ON_CALLOUT=0]="CENTER_ON_CALLOUT",Kt[Kt.CENTER_ON_ARROW=1]="CENTER_ON_ARROW";class I extends Pt{constructor(i,s){const r=new We({width:1,renderOccluded:$.OccludeAndTransparent,isDecoration:!0}),n=new Qe({cullFace:Je.Back,renderOccluded:$.Opaque,isDecoration:!0}),a=new Qe({cullFace:Je.Back,renderOccluded:$.Opaque,isDecoration:!0}),o=new Qe({cullFace:Je.Back,renderOccluded:$.Opaque,isDecoration:!0}),d=new Qe({writeDepth:!1,cullFace:Je.Front,renderOccluded:$.Transparent,isDecoration:!0});super({view:i,...S({offsetMode:s,tubeMaterial:n,tipMaterial:a,capMaterial:o,outlineMaterial:d,calloutMaterial:r})}),this._themeHandle=De((()=>i.effectiveTheme.accentColor),(i=>{const s=qe(i),p=Ge.toUnitRGBA(i),b=Ge.toUnitRGBA(s),_=Ge.toUnitRGBA(Ge.blendColors(s,i,.4)),w=Ge.toUnitRGBA(Ge.blendColors(s,i,.14));r.setParameters({color:p}),n.setParameters({color:w}),a.setParameters({color:b}),o.setParameters({color:_}),d.setParameters({color:p})}),He)}destroy(){this._themeHandle.remove(),super.destroy()}}function S({offsetMode:i,tubeMaterial:s,tipMaterial:r,capMaterial:n,outlineMaterial:a,calloutMaterial:o}){const d=i===Jt.CENTER_ON_CALLOUT?ut:0,p=[ze(d,0,-It/2),ze(d,0,It/2)],b=function J(i,s){const r=he(Ke(),i[i.length-1],i[i.length-2]);le(r,r),ne(r,r,Ot),ue(r,r,i[i.length-1]);{const s=he(Ke(),i[0],i[1]);return le(s,s),ne(s,s,Ot),ue(s,s,i[0]),[s,...i,r]}}(p),_=W({vertices:p,padding:0,materials:{tube:s,tip:r,cap:n}}),w=W({vertices:p,padding:Tt,materials:{tube:a,tip:a,cap:a}}),O=Fe(o,[[d,0,0],[d-ut,0,0]]),T=Fe(o,[[d,0,0],[d-ut,0,0]]);return{renderObjects:[..._.normal.map((i=>new Rt(i,Be.Unfocused|Ft))),...w.normal.map((i=>new Rt(i,Be.Unfocused|Ft))),new Rt(O,Be.Unfocused|Ft|Xt),..._.focused.map((i=>new Rt(i,Be.Focused|Ft))),...w.focused.map((i=>new Rt(i,Be.Focused|Ft))),new Rt(T,Be.Focused|Ft|Xt)],autoScaleRenderObjects:!1,collisionType:{type:"line",paths:[b]},collisionPriority:1,radius:wt,state:Ft}}function W({vertices:i,padding:s,materials:r}){const o2=n=>{const a=i.slice(0),o=he(re.get(),a[0],a[1]);le(o,o);const d=he(re.get(),a[a.length-1],a[a.length-2]);if(le(d,d),s>0){const i=ne(Ke(),d,-s);a[a.length-1]=ue(i,i,a[a.length-1]);const r=ne(Ke(),o,-s);a[0]=ue(r,r,a[0])}const p=n?Et:1,b=Ot*p,_=wt*p,w=$e(be.get());if(s>0){const i=b/4,r=Ie(re.get(),0,i,0),n=1+s/i;et(w,w,r),ve(w,w,Ie(re.get(),n,n,n)),et(w,w,ne(r,r,-1/n))}const O=$e(tt()),T=ze(0,1,0),E=it(tt(),st(rt.get(),T,d));E[12]=a[a.length-1][0],E[13]=a[a.length-1][1],E[14]=a[a.length-1][2],Ce(E,E,w);const C=r.tube,A=function z(i,s,r){const n=[],a=12;for(let o=0;o<a;o++){const s=o/a*2*Math.PI;n.push([Math.cos(s)*i,Math.sin(s)*i])}return at(r,n,s,[],[],!1)}(vt*(n?Ct:1)+s,a,C);A.transformation=O;const P=[A],R=r.tip,N=nt(R,b,_,24,!1,!1,!0);N.transformation=E,P.push(N);const L=r.cap,x=nt(L,b,_,24,!1,!0,!1);x.transformation=E,P.push(x);const y=it(tt(),st(rt.get(),T,o));return y[12]=a[0][0],y[13]=a[0][1],y[14]=a[0][2],Ce(y,y,w),P.push(N.instantiate({transformation:y})),P.push(x.instantiate({transformation:y})),P};return{normal:o2(!1),focused:o2(!0)}}const $t=Object.freeze(Object.defineProperty({__proto__:null,build:t},Symbol.toStringTag,{value:"Module"}));export{Ai as A,Ft as C,Ei as E,Jt as H,I,Li as L,zt as M,Ri as R,Xt as S,Qt as U,Vi as V,Bt as _,gi as a,e as b,ci as c,ai as d,ei as e,c2 as f,g,jt as h,hi as i,ji as j,Zt as k,li as l,mi as m,pi as p,ri as r,si as s,kt as t,ui as u,v,xi as x};
