import{c7 as e,sA as n,ak as d,e as M,y,kQ as h,c8 as w,sB as I,o_ as S,a as j,bk as N,gw as C,sC as T,et as x,sD as k,bn as R,bj as H,sE as V,sF as F,aw as K,v as Q,gb as X,g9 as $,sG as ee,sH as ie,sI as ne,sJ as re,jr as ae,ga as oe,sK as se,jq as le,bl as ue,sL as ce,oZ as de,gH as pe,sw as me,n as ge,gM as Me,g_ as ye,az as he,j as we,bf as Ie,b as fe,cD as ve,sM as Ae,sN as De,aj as be,fP as Se,mD as je,gs as Ne,fk as Ce,a$ as Te,fX as Le,fW as xe,bZ as Be,I as Ue,a_ as ze}from"./index-DSIPxOWi.js";import{t as ke,v as Re,w as He,x as Ze,y as Ee,f as Pe,z as Ge,g as Ve,A as Oe,C as Fe,G as Je,H as We,I as _e,J as Ke,K as Qe,c as Xe}from"./dataUtils-DNEwlV4z.js";import{R as Ye}from"./normalizeUtils-BrH-PrZy.js";import"./ClassBreaksDefinition-Dt1HCCB7.js";var qe;const $e=new e({flow_from:"flow-from",flow_to:"flow-to"});let et=qe=class extends(n(N)){constructor(e){super(e),this.density=.8,this.color=new d([255,255,255,1]),this.maxPathLength=200,this.trailWidth=1.5,this.flowSpeed=10,this.trailLength=100,this.smoothing=0,this.flowRepresentation="flow-from",this.type="flow",this.authoringInfo=null,this.legendOptions=null,this.trailCap="butt",this.background="none"}clone(){var e,n;const{density:d,maxPathLength:M,trailWidth:y,flowSpeed:h,trailLength:w,smoothing:I,flowRepresentation:S,trailCap:j,background:N}=this,C=this.color.clone(),T=(this.visualVariables||[]).map((e=>e.clone())),x=null==(e=this.authoringInfo)?void 0:e.clone(),k=null==(n=this.legendOptions)?void 0:n.clone();return new qe({density:d,color:C,maxPathLength:M,trailWidth:y,flowSpeed:h,trailLength:w,trailCap:j,background:N,smoothing:I,flowRepresentation:S,visualVariables:T,authoringInfo:x,legendOptions:k})}getSymbol(e,n){}async getSymbolAsync(e,n){}getSymbols(){return[]}};M([y({type:Number,json:{write:!0}})],et.prototype,"density",void 0),M([y({type:d,json:{write:{allowNull:!0}}})],et.prototype,"color",void 0),M([y({type:Number,cast:h,json:{write:!0}})],et.prototype,"maxPathLength",void 0),M([y({type:Number,cast:h,json:{write:!0}})],et.prototype,"trailWidth",void 0),M([y({type:Number,json:{write:!0}})],et.prototype,"flowSpeed",void 0),M([y({type:Number,json:{write:!0}})],et.prototype,"trailLength",void 0),M([y({type:Number,cast:h,json:{write:!1}})],et.prototype,"smoothing",void 0),M([y({type:$e.apiValues,json:{type:$e.jsonValues,read:{reader:$e.read},write:{writer:$e.write}}})],et.prototype,"flowRepresentation",void 0),M([w({flowRenderer:"flow"})],et.prototype,"type",void 0),M([y({type:I,json:{write:!0}})],et.prototype,"authoringInfo",void 0),M([y({type:S,json:{write:!0}})],et.prototype,"legendOptions",void 0),M([y({type:String,json:{write:!0}})],et.prototype,"trailCap",void 0),M([y({type:String,json:{write:!0}})],et.prototype,"background",void 0),et=qe=M([j("esri.renderers.FlowRenderer")],et);const tt=et;let it=class c extends N{constructor(){super(...arguments),this.value=null,this.label=null,this.color=null}};M([y({type:Number,json:{write:!0}})],it.prototype,"value",void 0),M([y({type:String,json:{write:!0}})],it.prototype,"label",void 0),M([y({type:d,json:{type:[C],write:!0}})],it.prototype,"color",void 0),it=M([j("esri.renderers.support.ColormapInfo")],it);const nt=it;var rt;let at=rt=class extends N{constructor(e){super(e),this.colormapInfos=null,this.type="raster-colormap"}static createFromColormap(e,n){if(!e)return null;const d=5===e[0].length,M=[...e].sort(((e,n)=>e[0]-n[0])).map((e=>nt.fromJSON({value:e[0],color:d?e.slice(1,5):e.slice(1,4).concat([255]),label:n?n[e[0]]??"":e[0]})));return new rt({colormapInfos:M})}static createFromColorramp(e){const n=ke(e);return rt.createFromColormap(n)}clone(){return new rt({colormapInfos:this.colormapInfos.map((e=>e.toJSON()))})}extractColormap(){return this.colormapInfos.map((({value:e,color:n})=>[e,n.r,n.g,n.b,n.a>1?n.a:255*n.a&255])).sort(((e,n)=>e[0]-n[0]))}};M([y({type:[nt],json:{write:!0}})],at.prototype,"colormapInfos",void 0),M([w({rasterColormap:"raster-colormap"})],at.prototype,"type",void 0),at=rt=M([j("esri.renderers.RasterColormapRenderer")],at);const ot=at;var st;let lt=st=class extends N{constructor(e){super(e),this.altitude=45,this.azimuth=315,this.colorRamp=null,this.hillshadeType="traditional",this.pixelSizePower=.664,this.pixelSizeFactor=.024,this.scalingType="none",this.type="raster-shaded-relief",this.zFactor=1}readColorRamp(e){return k(e)}clone(){return new st({hillshadeType:this.hillshadeType,altitude:this.altitude,azimuth:this.azimuth,zFactor:this.zFactor,scalingType:this.scalingType,pixelSizeFactor:this.pixelSizeFactor,pixelSizePower:this.pixelSizePower,colorRamp:R(this.colorRamp)})}};M([y({type:Number,json:{write:!0}})],lt.prototype,"altitude",void 0),M([y({type:Number,json:{write:!0}})],lt.prototype,"azimuth",void 0),M([y({types:T,json:{write:!0}})],lt.prototype,"colorRamp",void 0),M([x("colorRamp")],lt.prototype,"readColorRamp",null),M([y({type:["traditional","multi-directional"],json:{write:!0}})],lt.prototype,"hillshadeType",void 0),M([y({type:Number,json:{write:!0}})],lt.prototype,"pixelSizePower",void 0),M([y({type:Number,json:{write:!0}})],lt.prototype,"pixelSizeFactor",void 0),M([y({type:["none","adjusted"],json:{write:!0}})],lt.prototype,"scalingType",void 0),M([w({rasterShadedRelief:"raster-shaded-relief"})],lt.prototype,"type",void 0),M([y({type:Number,json:{write:!0}})],lt.prototype,"zFactor",void 0),lt=st=M([j("esri.renderers.RasterShadedReliefRenderer")],lt);const ut=lt;var ct;let dt=ct=class extends N{constructor(e){super(e),this.colorRamp=null,this.computeGamma=!1,this.dynamicRangeAdjustment=!1,this.gamma=[],this.maxPercent=null,this.minPercent=null,this.numberOfStandardDeviations=null,this.outputMax=null,this.outputMin=null,this.sigmoidStrengthLevel=null,this.statistics=[],this.histograms=null,this.useGamma=!1,this.stretchType="none",this.type="raster-stretch"}readColorRamp(e){if(e)return k(e)}writeStatistics(e,n,d){(null==e?void 0:e.length)&&(Array.isArray(e[0])||(e=e.map((e=>[e.min,e.max,e.avg,e.stddev]))),n[d]=e)}readStretchType(e,n){let d=n.stretchType;return"number"==typeof d&&(d=He[d]),Re.read(d)}clone(){return new ct({stretchType:this.stretchType,outputMin:this.outputMin,outputMax:this.outputMax,useGamma:this.useGamma,computeGamma:this.computeGamma,statistics:R(this.statistics),gamma:R(this.gamma),sigmoidStrengthLevel:this.sigmoidStrengthLevel,numberOfStandardDeviations:this.numberOfStandardDeviations,minPercent:this.minPercent,maxPercent:this.maxPercent,colorRamp:R(this.colorRamp),histograms:R(this.histograms),dynamicRangeAdjustment:this.dynamicRangeAdjustment})}};M([y({types:T,json:{write:!0}})],dt.prototype,"colorRamp",void 0),M([x("colorRamp")],dt.prototype,"readColorRamp",null),M([y({type:Boolean,json:{write:!0}})],dt.prototype,"computeGamma",void 0),M([y({type:Boolean,json:{write:{target:"dra"},read:{source:"dra"}}})],dt.prototype,"dynamicRangeAdjustment",void 0),M([y({type:[Number],json:{write:!0}})],dt.prototype,"gamma",void 0),M([y({type:Number,json:{write:!0}})],dt.prototype,"maxPercent",void 0),M([y({type:Number,json:{write:!0}})],dt.prototype,"minPercent",void 0),M([y({type:Number,json:{write:!0}})],dt.prototype,"numberOfStandardDeviations",void 0),M([y({type:Number,json:{read:{source:"max"},write:{target:"max"}}})],dt.prototype,"outputMax",void 0),M([y({type:Number,json:{read:{source:"min"},write:{target:"min"}}})],dt.prototype,"outputMin",void 0),M([y({type:Number,json:{write:!0}})],dt.prototype,"sigmoidStrengthLevel",void 0),M([y({json:{type:[[Number]],write:!0}})],dt.prototype,"statistics",void 0),M([y()],dt.prototype,"histograms",void 0),M([H("statistics")],dt.prototype,"writeStatistics",null),M([y({type:Boolean,json:{write:!0}})],dt.prototype,"useGamma",void 0),M([y({type:Re.apiValues,json:{type:Re.jsonValues,write:Re.write}})],dt.prototype,"stretchType",void 0),M([x("stretchType",["stretchType"])],dt.prototype,"readStretchType",null),M([w({rasterStretch:"raster-stretch"})],dt.prototype,"type",void 0),dt=ct=M([j("esri.renderers.RasterStretchRenderer")],dt);const pt=dt;var mt;const gt=new Set(["esriMetersPerSecond","esriKilometersPerHour","esriKnots","esriFeetPerSecond","esriMilesPerHour"]),Mt=new e({beaufort_ft:"beaufort-ft",beaufort_km:"beaufort-km",beaufort_kn:"beaufort-kn",beaufort_m:"beaufort-m",beaufort_mi:"beaufort-mi",classified_arrow:"classified-arrow",ocean_current_kn:"ocean-current-kn",ocean_current_m:"ocean-current-m",simple_scalar:"simple-scalar",single_arrow:"single-arrow",wind_speed:"wind-barb"}),yt=new e({flow_from:"flow-from",flow_to:"flow-to"});let ht=mt=class extends(n(N)){constructor(e){super(e),this.attributeField="Magnitude",this.flowRepresentation="flow-from",this.rotationType="arithmetic",this.style="single-arrow",this.symbolTileSize=50,this.type="vector-field"}readInputUnit(e,n){return gt.has(e)?Ze.fromJSON(e):null}readOutputUnit(e,n){return gt.has(e)?Ze.fromJSON(e):null}get styleRenderer(){const e=this.style,n=this.attributeField,d=this._createStyleRenderer(e);return d.field=n,d}get sizeVariables(){const e=[];if(this.visualVariables)for(const n of this.visualVariables)"size"===n.type&&e.push(n);if(0===e.length){const n=new V({field:"Magnitude",minSize:.2*this.symbolTileSize,maxSize:.8*this.symbolTileSize});this.visualVariables?this.visualVariables.push(n):this._set("visualVariables",[n]),e.push(n)}return e}get rotationVariables(){const e=[];if(this.visualVariables)for(const n of this.visualVariables)"rotation"===n.type&&e.push(n);if(0===e.length){const n=new F({field:"Direction",rotationType:this.rotationType});this.visualVariables?this.visualVariables.push(n):this._set("visualVariables",[n]),e.push(n)}return e}clone(){return new mt({attributeField:this.attributeField,flowRepresentation:this.flowRepresentation,rotationType:this.rotationType,symbolTileSize:this.symbolTileSize,style:this.style,visualVariables:R(this.visualVariables),inputUnit:this.inputUnit,outputUnit:this.outputUnit})}async getGraphicsFromPixelData(e,n=!1,d=[]){var M;const y=new Array,h=Ee(this.inputUnit,this.outputUnit),w=(null==(M=this.rotationVariables[0])?void 0:M.rotationType)||this.rotationType,I=n?Pe(e.pixelBlock,"vector-uv",w,h):Ge(e.pixelBlock,"vector-magdir",h);if(null==I)return y;const S=e.extent,j=null!=I.mask&&I.mask.length>0;let N=0;const C=(S.xmax-S.xmin)/I.width,T=(S.ymax-S.ymin)/I.height;for(let x=0;x<I.height;x++)for(let e=0;e<I.width;e++,N++){let n=new K({x:S.xmin+e*C+C/2,y:S.ymax-x*T-T/2,spatialReference:S.spatialReference});n=(await Ye(n))[0];const M=d.some((e=>e.intersects(n)));if((!j||I.mask[N])&&!M){const e={Magnitude:I.pixels[0][N],Direction:I.pixels[1][N]},d=new Q({geometry:new K({x:n.x,y:n.y,spatialReference:S.spatialReference}),attributes:e});d.symbol=this._getVisualVariablesAppliedSymbol(d),y.push(d)}}return y}getSymbol(e,n){}async getSymbolAsync(e,n){}getSymbols(){return[]}getClassBreakInfos(){var e;return null==(e=this.styleRenderer)?void 0:e.classBreakInfos}getDefaultSymbol(){var e;return null==(e=this.styleRenderer)?void 0:e.defaultSymbol}_getDefaultSymbol(e){return new X({path:"M14,32 14,18 9,23 16,3 22,23 17,18 17,32 z",outline:new $({width:0}),size:20,color:e||new d([0,92,230])})}_getVisualVariablesAppliedSymbol(e){var n,d;if(!e)return;const M=null==(d=null==(n=this.styleRenderer)?void 0:n.getSymbol(e))?void 0:d.clone(),y=this.sizeVariables,h=this.rotationVariables;if(y&&y.length&&this.sizeVariables.forEach((n=>ee(M,ie([n],e)))),h&&h.length){const n="flow-to"===this.flowRepresentation==("ocean-current-kn"===this.style||"ocean-current-m"===this.style)?0:180;e.attributes.Direction=e.attributes.Direction+n,this.rotationVariables.forEach((n=>ne(M,re(n,e),n.axis)))}return M}_createStyleRenderer(e){let n={defaultSymbol:this._getDefaultSymbol(),classBreakInfos:[]};switch(e){case"single-arrow":n=this._createSingleArrowRenderer();break;case"beaufort-kn":n=this._createBeaufortKnotsRenderer();break;case"beaufort-m":n=this._createBeaufortMeterRenderer();break;case"beaufort-ft":n=this._createBeaufortFeetRenderer();break;case"beaufort-mi":n=this._createBeaufortMilesRenderer();break;case"beaufort-km":n=this._createBeaufortKilometersRenderer();break;case"ocean-current-m":n=this._createCurrentMeterRenderer();break;case"ocean-current-kn":n=this._createCurrentKnotsRenderer();break;case"simple-scalar":n=this._createSimpleScalarRenderer();break;case"wind-barb":n=this._createWindBarbsRenderer();break;case"classified-arrow":n=this._createClassifiedArrowRenderer()}return new ae(n)}_createSingleArrowRenderer(){return{defaultSymbol:this._getDefaultSymbol()}}_createBeaufortKnotsRenderer(){return{defaultSymbol:this._getDefaultSymbol(new d([214,47,39])),classBreakInfos:this._getClassBreaks([0,1,3,6,10,16,21,27,33,40,47,55,63],[[40,146,199],[89,162,186],[129,179,171],[160,194,155],[191,212,138],[218,230,119],[250,250,100],[252,213,83],[252,179,102],[250,141,52],[247,110,42],[240,71,29]])}}_createBeaufortMeterRenderer(){return{defaultSymbol:this._getDefaultSymbol(new d([214,47,39])),classBreakInfos:this._getClassBreaks([0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7],[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])}}_createBeaufortFeetRenderer(){const e=this._getDefaultSymbol(new d([214,47,39]));let n=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];return n=n.map((e=>3.28084*e)),{defaultSymbol:e,classBreakInfos:this._getClassBreaks(n,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])}}_createBeaufortMilesRenderer(){const e=this._getDefaultSymbol(new d([214,47,39]));let n=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];return n=n.map((e=>2.23694*e)),{defaultSymbol:e,classBreakInfos:this._getClassBreaks(n,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])}}_createBeaufortKilometersRenderer(){const e=this._getDefaultSymbol(new d([214,47,39]));let n=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];return n=n.map((e=>3.6*e)),{defaultSymbol:e,classBreakInfos:this._getClassBreaks(n,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])}}_createCurrentMeterRenderer(){return{defaultSymbol:this._getDefaultSymbol(new d([177,177,177])),classBreakInfos:this._getClassBreaks([0,.5,1,1.5,2],[[78,26,153],[179,27,26],[202,128,26],[177,177,177]])}}_createCurrentKnotsRenderer(){return{defaultSymbol:this._getDefaultSymbol(new d([177,177,177])),classBreakInfos:this._getClassBreaks([0,.25,.5,1,1.5,2,2.5,3,3.5,4],[[0,0,0],[0,37,100],[78,26,153],[151,0,100],[179,27,26],[177,78,26],[202,128,26],[177,179,52],[177,177,177]])}}_createClassifiedArrowRenderer(){var e;const n=this._getDefaultSymbol(new d([56,168,0]));let M=[0,1e-6,3.5,7,10.5,14];if(null==(e=this.sizeVariables)?void 0:e.length){const e=this.sizeVariables[0].minDataValue,n=this.sizeVariables[0].maxDataValue;if(e&&n){const d=(n-e)/5;M=Array.from(Array(6).keys()).map((n=>e+d*n))}}return{defaultSymbol:n,classBreakInfos:this._getClassBreaks(M,[[56,168,0],[139,309,0],[255,255,0],[255,128,0],[255,0,0]])}}_createSimpleScalarRenderer(){return{defaultSymbol:oe.fromJSON({imageData:"iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAQAAABLVLlLAAAABGdBTUEAAYagMeiWXwAAAAJiS0dEAACqjSMyAAAACXBIWXMAAABIAAAASABGyWs+AAAC3ElEQVRIx9XXvW4cVRQH8N982btpsIREJECyiCXsxX4DKh6AliqGKCBBE2SlwlHgAbBD/AKmyEYUeQ1KahPZSZQvBCkQLTHZ7KGY8Xodz4w3a1NwbzVzz/znfJ//zbStVC5q3icKak9GAs2QIdDx3PtW/S011NW3p+M5Eomh11ipTIKe6+4LQzHaQ+G+63pIZNJJQXMpljwTwj1brpgx5w1zZlyx5Z4QnllEIm2xeeSUHBf0hV0bejo1Uh09G3aFvgXk7cCJFBc9EdaRVuHJJaOdKyTV2TVhYLMduNR0Q9gxL5GaaTDw8GzejrDRBpxWoGsySRW0dttKuattwNkIlFw2YXgzOdYq4Ox49PlM+JrKd5OusjTWhBuVxUfMX/KXXZ3WEmkuqa67wspR4BTbwtKr/5u4fFgStse/T7EifFPnnYl9zPq4vmUOPrRndgoHjDti1gOPqlyXoifcRNGQzUd31lDyfHmob1Gp35vSr+P6vilcQ5Egtyd8YF/ySg9NhPM+9M/IOaHwp5+PSZayXTvCogEUwlatC3J8LLwYtcWB8EuDXQVuCkV5/B4eNHb7wGBs87LBDS+xjdVSn09wq1G8dFM+9tSUhIGneLvUdniKxKpTYljCpu3j7rVWlHj/P23v4NPGUEyeCQnexe9lJjzEQqMjJs+EzNAX6B98dBZVRmroJx95x/A/6gln18EyfCUsl+qdXb/tjvfbw+mwforpUOBz4XLVoBwAn3aWnfeH246NyBXhrq7TTN5lNSP9RkU+puUJm3W2Tsdq0nZWM07srk7MwQrZSRysjjGWBLRJNsNbfj2JMR4AbxpU1XLAb9Mxfpsq5EjMuuiR8L0JiHOOBX3hiUvOmavN0nMueSzcceFk0BK4pMqLo7vDD1Z0qrtDx7Itt4Xwm9UqbMmk8S0Dtuzb2pvOU99Z1nLTOfleNmvfZfP2pYZmPfajwosKdDBNpacNpVGGsWX9CyDI8Xq/Sj6QAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE0LTExLTEwVDAzOjE3OjU4LTA1OjAwF+tHyQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNC0xMS0xMFQwMzoxNzo1OC0wNTowMGa2/3UAAAAASUVORK5CYII=",height:20,width:20,type:"esriPMS",angle:0})}}_createWindBarbsRenderer(){const e=Array.from(Array(31).keys()).map((e=>5*e)),n=[{range:"0-5",path:"M20 20 M5 20 A15 15 0 1 0 35 20 A15 15 0 1 0 5 20 M20 20 M10 20 A10 10 0 1 0 30 20 A10 10 0 1 0 10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTIwIDIwIE01IDIwIEExNSAxNSAwIDEgMCAzNSAyMCBBMTUgMTUgMCAxIDAgNSAyMCBNMjAgMjAgTTEwIDIwIEExMCAxMCAwIDEgMCAzMCAyMCBBMTAgMTAgMCAxIDAgMTAgMjAiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"5-10",path:"M25 0 L25 40 M25 35 L17.5 37.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNyA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTTI1IDM1IEwxNy41IDM3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"10-15",path:"M25 0 L25 40 L10 45 L25 40",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNyA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"15-20",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L17.5 37.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjEyIDAgMTUgNDUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxNy41IDM3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"20-25",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNiA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCBNMjUgMzUgTDEwIDQwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"25-30",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L17.5 32.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNiA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCBNMjUgMzUgTDEwIDQwIEwyNSAzNSBNMjUgMzAgTDE3LjUgMzIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"30-35",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"35-40",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxNy41IDI3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"40-45",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"45-50",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxNy41IDIyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"50-55",path:"M25 0 L25 40 L10 40 L25 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"55-60",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L17.5 32.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxNy41IDMyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"60-65",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"65-70",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxNy41IDI3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"70-75",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"75-80",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxNy41IDIyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"80-85",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"85-90",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L17.5 17.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxNy41IDE3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"90-95",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxMCAyMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"95-100",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20 L25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxMCAyMCBMMjUgMTUgTTI1IDEwIEwxNy41IDEyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"100-105",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"105-110",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDE3LjUgMjcuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"110-115",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"115-120",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDE3LjUgMjIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"120-125",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"125-130",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L17.5 17.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDE3LjUgMTcuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"130-135",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"135-140",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDE3LjUgMTIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"140-145",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDEwIDE1IiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"145-150",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDEwIDE1IE0yNSAxMCBNMjUgNSBMMTcuNSA3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="}],d=oe.fromJSON({imageData:"iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAQAAADtq6NDAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAJiS0dEAP+Hj8y/AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEY0lEQVRIx5XXWWxWRRQH8N+d+31tUdGAVjGglYJABFEBY91jfDAg7piYaFTccA++uMQEFRcSXlATtxiXqMQt4G4iisYl0ai4sIQYtVFZ1KIFKdTS0l4f7vRCS5fPebozc+bM/2z/Mzcx0AgSiUxXnKfIdMn875FIhX53U2n/B/s+kKM4UINTjTBZImixxnrv+9a2iL6zEoUBXcoudrWj/OtHm3wt02lfU9Qao9OnHvIhgmww84MEl1qnxfNmGrqHxAizLdPpC6chGcAxKGGcL+30gOERf1BSpUqVslQSV8d5ReZFe8VQ9avufJn31cWwlJV7iafKStGOE/1qvfH9qUxxu8ydUdmuSKbGO8YUdT2inKLG69pM70tliktl5qIkCAJGmusDG7Vqsc0WjZa4UBlBiA5YZIcjYzB7qDtH5kaUJFLs7RGZTZ42W4PRRmtwvbdt1+wGiaS4drEtDttdZYIDNVuAclR3vA3+dI3qHqmVSy7U6Tv1MScCPvPR7nIpFlsdCy3FdTLPGhK92e2CUITjMJ9ocwKxnsZqc3O3JwMma3d6UVLnyVxB4aXemZqvPqLdpJhW3KVVbY4yYImPo6M5Urv50fj+0z/FG9YaEiENs8UtMfXUaTeTePNHlhXfA1UU+2lyD1Il3Gtt9+adfpNG7dNlpg2U/T3KYLZ2dUWFdTgp3/rQ4sK973qnInV5TIf40x3dhvrJPBiqyWUo4wAtLqhQYS71qK+QKOFRywmGK/kpikzV6WMKhh58vGWs4TIJNjiEYLIuP8Tt4/zmLyqk+AyrJSbF+Qq1DgqRUPMxyl+9q3IQhX/rMCJ6tEunriDs1oSyQZKlr9AkhT2ZIARbJfaJS1vtVbHB+Rgi0RK/y1q1BWsEEyLoz40xtGKcARPVWB1BTPO7f4LNtpkUl1aoMbViLyZo0GRjPD3BxnxjqXeLYlvhqYrzMMG3HoyJXa3JjfnGlbYYFlP7Jh3qKsKY4hQ7TY0nG+xwRL61n63mxHtqNHosigyMLmClNwvuecFnOZB88nNBDzNkzhxEZaKMBVoKapggMzvHHXBEpNSSFAvtcFRsVn0bW8LlMmcXs+c0Kne3gRR32+zg4uXwjC6zit6Wt4a8LXVfcp/MtQXHn2ynGbuCmb8GvvFeJLEE82ReU9/n6+dkq2x3buG9Wn94smcgAw631RPR7BTH+kbmHReZoEpOdEe7zWqZl40s0JWs9Hmv7hjBHqPDwsjGKVJnWWqjbdZp1KhJi0aPmxYZsIRhlttgeF+Jlke41QcOQKoqilSb6HJzSvNG3G/UoWnxwsmt+sVaYwd63dRbqdnMyCPVeyRPvpYgdavM22oGKoMUVRbJfOWMwidJ8Zzb1UvmWK/VVUXzHaTjjrVYh1897HT7xxYEVUaa5SWb/WO+YUWa9SrwvigzM8YlzlYv2GSdVCYxxlBtVnnFq5olwp5/BEk/OLsf5LUmG2+inRJdVvjZ97ZH9/zP34ug1O91pf4p+D+JYBpvrKxfbwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNC0xMS0xMFQwMzoxMjowOS0wNTowMB9ViV0AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTQtMTEtMTBUMDM6MTI6MDktMDU6MDBuCDHhAAAAAElFTkSuQmCC",height:20,width:20,type:"esriPMS",angle:0}),M=e.map(((M,y)=>{let h;if(y!==e.length-1)if(0===y)h={minValue:M,maxValue:e[y+1],symbol:d};else{const d=oe.fromJSON({type:"esriPMS",imageData:n[y].imageData,contentType:"image/svg+xml",height:32,width:32,angle:0});h={minValue:M,maxValue:e[y+1],symbol:d}}return new se(h)}));return{defaultSymbol:d,classBreakInfos:M}}_getClassBreaks(e,n){return n.map(((n,M)=>new se({minValue:e[M],maxValue:e[M+1],symbol:this._getDefaultSymbol(new d(n))})))}};M([y({type:["Magnitude"],json:{write:!0}})],ht.prototype,"attributeField",void 0),M([y({type:yt.apiValues,json:{type:yt.jsonValues,read:{reader:yt.read},write:{writer:yt.write}}})],ht.prototype,"flowRepresentation",void 0),M([y({type:["geographic","arithmetic"],json:{write:!0}})],ht.prototype,"rotationType",void 0),M([y({type:Mt.apiValues,json:{type:Mt.jsonValues,read:{reader:Mt.read},write:{writer:Mt.write}}})],ht.prototype,"style",void 0),M([y({json:{write:!0}})],ht.prototype,"symbolTileSize",void 0),M([y({type:Ze.apiValues,json:{type:Ze.jsonValues,write:{writer:Ze.write}}})],ht.prototype,"inputUnit",void 0),M([x("inputUnit")],ht.prototype,"readInputUnit",null),M([y({type:Ze.apiValues,json:{type:Ze.jsonValues,read:{reader:Ze.read},write:{writer:Ze.write}}})],ht.prototype,"outputUnit",void 0),M([x("outputUnit")],ht.prototype,"readOutputUnit",null),M([w({vectorField:"vector-field"})],ht.prototype,"type",void 0),M([y({type:ae})],ht.prototype,"styleRenderer",null),M([y({type:V})],ht.prototype,"sizeVariables",null),M([y({type:F})],ht.prototype,"rotationVariables",null),ht=mt=M([j("esri.renderers.VectorFieldRenderer")],ht);const wt=ht,It={key:"type",base:null,typeMap:{"unique-value":le,"class-breaks":ae,"raster-colormap":ot,"raster-stretch":pt,"vector-field":wt,"raster-shaded-relief":ut,flow:tt}},ft={...It,typeMap:{...It.typeMap}};delete ft.typeMap["vector-field"],delete ft.typeMap.flow;const vt={uniqueValue:le,classBreaks:ae,rasterStretch:pt,rasterColormap:ot,vectorField:wt,rasterShadedRelief:ut,flowRenderer:tt};function c$4(e,n){if(!e)return null;if("classBreaks"===e.type&&e.classificationMethod){const n=e.authoringInfo||{classificationMethod:""};n.classificationMethod=e.classificationMethod,e.authoringInfo=n}"vectorField"===e.type&&e.visualVariables&&!Array.isArray(e.visualVariables)&&(e.visualVariables=[e.visualVariables]);const d=function u$3(e){return e&&vt[e.type]||null}(e);if(d){const M=new d;return M.read(e,n),M}return(null==n?void 0:n.messages)&&e&&n.messages.push(new ue("renderer:unsupported","Renderers of type '"+(e.type||"unknown")+"' are not supported",{definition:e,context:n})),null}var At;let Dt=At=class extends N{constructor(e){super(e),this.variableName=null,this.dimensionName=null,this.values=[],this.isSlice=!1}clone(){return new At({variableName:this.variableName,dimensionName:this.dimensionName,values:R(this.values),isSlice:this.isSlice})}};M([y({type:String,json:{write:!0}})],Dt.prototype,"variableName",void 0),M([y({type:String,json:{write:!0}})],Dt.prototype,"dimensionName",void 0),M([y({type:ce.array(ce.oneOf([ce.native(Number),ce.array(ce.native(Number))])),json:{write:!0}})],Dt.prototype,"values",void 0),M([y({type:Boolean,json:{write:!0}})],Dt.prototype,"isSlice",void 0),Dt=At=M([j("esri.layers.support.DimensionalDefinition")],Dt);const bt=Dt,St=de()({RSP_NearestNeighbor:"nearest",RSP_BilinearInterpolation:"bilinear",RSP_CubicConvolution:"cubic",RSP_Majority:"majority"}),jt=de()({esriNoDataMatchAny:"any",esriNoDataMatchAll:"all"}),Nt=de()({U1:"u1",U2:"u2",U4:"u4",U8:"u8",S8:"s8",U16:"u16",S16:"s16",U32:"u32",S32:"s32",F32:"f32",F64:"f64",C64:"c64",C128:"c128",UNKNOWN:"unknown"});let Ct=class i extends N{constructor(){super(...arguments),this.pixelType="unknown"}};M([y({type:String,json:{write:!0}})],Ct.prototype,"name",void 0),M([y({type:String,json:{write:!0}})],Ct.prototype,"description",void 0),M([y({type:C,json:{type:C,write:!0,name:"_object_id"}})],Ct.prototype,"id",void 0),M([y({type:String,json:{type:Nt.jsonValues,read:Nt.read,write:Nt.write}})],Ct.prototype,"pixelType",void 0),M([y({type:String,json:{write:!0}})],Ct.prototype,"type",void 0),Ct=M([j("esri.layers.support.RasterFunctionInfo")],Ct);const Tt=Ct;let Lt=class p extends N{constructor(){super(...arguments),this.isDataset=!1,this.isPublic=!1,this.type="RasterFunctionVariable"}};M([y({type:String,json:{write:!0}})],Lt.prototype,"name",void 0),M([y({type:Number,json:{type:C,write:!0,name:"_object_id"}})],Lt.prototype,"id",void 0),M([y({type:Boolean,json:{write:!0}})],Lt.prototype,"isDataset",void 0),M([y({type:Boolean,json:{write:!0}})],Lt.prototype,"isPublic",void 0),M([y({json:{write:!0}})],Lt.prototype,"value",void 0),M([y({type:String,json:{write:!0}})],Lt.prototype,"type",void 0),Lt=M([j("esri.layers.support.RasterFunctionVariable")],Lt);const xt={key:"type",base:null,typeMap:{RasterFunctionVariable:Lt}};let Bt=class a extends N{};M([y({types:xt,json:{types:xt,name:"MatchVariable"}})],Bt.prototype,"matchVariable",void 0),M([y({types:xt,json:{types:xt,name:"UnionDimension"}})],Bt.prototype,"unionDimension",void 0),M([y({type:Number,json:{type:C,write:!0,name:"_object_id"}})],Bt.prototype,"id",void 0),M([y({type:String,json:{write:!0}})],Bt.prototype,"type",void 0),Bt=M([j("esri.layers.support.RasterFunctionProperties")],Bt);const Ut=Bt,zt=new e({0:"mosaic",1:"item",2:"item-group"},{useNumericKeys:!0});let kt=class a2 extends N{constructor(){super(...arguments),this.functionType="mosaic",this.type="RasterFunctionTemplate"}};M([y({type:[String],json:{write:!0}})],kt.prototype,"aliases",void 0),M([y({type:Object,json:{write:!0}})],kt.prototype,"arguments",void 0),M([y({type:String,json:{write:!0}})],kt.prototype,"description",void 0),M([y({type:Tt,json:{write:!0,name:"function"}})],kt.prototype,"functionInfo",void 0),M([y({type:zt.apiValues,json:{type:[0,1,2],read:zt.read,write:zt.write}})],kt.prototype,"functionType",void 0),M([y({type:String,json:{write:!0}})],kt.prototype,"group",void 0),M([y({type:String,json:{write:!0}})],kt.prototype,"help",void 0),M([y({type:Number,json:{type:C,write:!0,name:"_object_id"}})],kt.prototype,"id",void 0),M([y({type:String,json:{write:!0}})],kt.prototype,"name",void 0),M([y({type:String,json:{write:!0,name:"definition"}})],kt.prototype,"queryDefinition",void 0),M([y({type:String,json:{write:!0}})],kt.prototype,"tag",void 0),M([y({type:Ut,json:{write:!0}})],kt.prototype,"properties",void 0),M([y({type:String,json:{write:!0}})],kt.prototype,"thumbnail",void 0),M([y({type:String,json:{write:!0}})],kt.prototype,"thumbnailEx",void 0),M([y({json:{type:["RasterFunctionTemplate"],write:!0}})],kt.prototype,"type",void 0),kt=M([j("esri.layers.support.RasterFunctionTemplate")],kt);const Rt=kt;var Ht;const Zt=new Set(["raster","raster2","dem","fillraster"]),Et=new Set(["rasters"]),m$2=e=>(null==e?void 0:e.rasterFunction)?Gt.fromJSON(e):e,l$2=e=>e&&e instanceof Gt?e.toJSON():e,y$1=e=>(null==e?void 0:e.functionName)&&!e.declaredClass,F$1=e=>y$1(e)?new Gt(e):e,Pt={types:{key:"type",base:null,typeMap:{RasterFunctionTemplate:Rt}},json:{write:!0,name:"rasterFunctionDefinition"}};let Gt=Ht=class extends N{constructor(e){super(e),this.functionName=null,this.outputPixelType="unknown",this.variableName=null,this.functionDefinition=null}set functionArguments(e){if(e){const n=Object.keys(e);if(n.some((n=>Zt.has(n.toLowerCase())&&y$1(e[n])))||n.some((n=>Et.has(n.toLowerCase())&&Array.isArray(e[n])&&e[n].some((e=>y$1(e)))))){e=R(e);for(const d of n)Zt.has(d.toLowerCase())?e[d]=F$1(e[d]):Et.has(d.toLowerCase())&&Array.isArray(e[d])&&(e[d]=e[d].map((e=>F$1(e))))}}this._set("functionArguments",e)}readFunctionArguments(e){return(e=>{if(null==e)return null;e=R(e);const n={};for(const d of Object.keys(e))Zt.has(d.toLowerCase())?n[d]=m$2(e[d]):Et.has(d.toLowerCase())&&Array.isArray(e[d])?n[d]=e[d].map(m$2):n[d]=e[d];return n})(e)}writeFunctionArguments(e,n,d){const M={};for(const y of Object.keys(e))Zt.has(y.toLowerCase())?M[y]=l$2(e[y]):Et.has(y.toLowerCase())&&Array.isArray(e[y])?M[y]=e[y].map(l$2):M[y]=l$2(e[y]);n[d]=M}readFunctionName(e,n){const d=n.rasterFunctionInfos;return n.name||((null==d?void 0:d.length)&&"None"!==d[0].name?d[0].name:n.rasterFunctionDefinition?n.rasterFunctionDefinition.name:n.rasterFunction)}get rasterFunctionDefinition(){var e;return null==(e=this.functionDefinition)?void 0:e.toJSON()}set rasterFunctionDefinition(e){this.functionDefinition=e?Rt.fromJSON(e):null}get hasClipFunction(){return this.rasterFunctionDefinition?JSON.stringify(this.rasterFunctionDefinition).includes('"type":"ClipFunction"'):JSON.stringify(this).includes('"rasterFunction":"Clip"')}clone(){return new Ht({functionName:this.functionName,functionArguments:R(this.functionArguments),outputPixelType:this.outputPixelType,variableName:this.variableName,rasterFunctionDefinition:R(this.rasterFunctionDefinition)})}};M([y({json:{type:Object,name:"rasterFunctionArguments"}})],Gt.prototype,"functionArguments",null),M([x("functionArguments")],Gt.prototype,"readFunctionArguments",null),M([H("functionArguments")],Gt.prototype,"writeFunctionArguments",null),M([y({json:{type:String,write:{target:"rasterFunction"}}})],Gt.prototype,"functionName",void 0),M([x("functionName",["rasterFunction","rasterFunctionInfos","rasterFunctionDefinition"])],Gt.prototype,"readFunctionName",null),M([w({C128:"c128",C64:"c64",F32:"f32",F64:"f64",S16:"s16",S32:"s32",S8:"s8",U1:"u1",U16:"u16",U2:"u2",U32:"u32",U4:"u4",U8:"u8",UNKNOWN:"unknown"},{ignoreUnknown:!1}),y({json:{default:"unknown"}})],Gt.prototype,"outputPixelType",void 0),M([y({type:String,json:{read:!0,write:!0}})],Gt.prototype,"variableName",void 0),M([y()],Gt.prototype,"rasterFunctionDefinition",null),M([y(Pt)],Gt.prototype,"functionDefinition",void 0),M([y()],Gt.prototype,"hasClipFunction",null),Gt=Ht=M([j("esri.layers.support.RasterFunction")],Gt);const Vt=Gt;var Ot;const Ft=de()({MT_FIRST:"first",MT_LAST:"last",MT_MIN:"min",MT_MAX:"max",MT_MEAN:"mean",MT_BLEND:"blend",MT_SUM:"sum"}),Jt=de()({esriMosaicNone:"none",esriMosaicCenter:"center",esriMosaicNadir:"nadir",esriMosaicViewpoint:"viewpoint",esriMosaicAttribute:"attribute",esriMosaicLockRaster:"lock-raster",esriMosaicNorthwest:"northwest",esriMosaicSeamline:"seamline"});let Wt=Ot=class extends N{constructor(e){super(e),this.ascending=!0,this.itemRasterFunction=null,this.lockRasterIds=null,this.method=null,this.multidimensionalDefinition=null,this.objectIds=null,this.operation=null,this.sortField=null,this.sortValue=null,this.viewpoint=null,this.where=null}readAscending(e,n){return null!=n.ascending?n.ascending:null==n.sortAscending||n.sortAscending}get itemRenderingRule(){return me(ge.getLogger(this),"itemRenderingRule",{replacement:"itemRasterFunction",version:"4.27",warnOnce:!0}),this._get("itemRasterFunction")}set itemRenderingRule(e){me(ge.getLogger(this),"itemRenderingRule",{replacement:"itemRasterFunction",version:"4.27",warnOnce:!0}),this._set("itemRasterFunction",e)}readMethod(e,n){return function g(e){let n;switch(e?e.toLowerCase().replace("esrimosaic",""):""){case"byattribute":case"attribute":n="esriMosaicAttribute";break;case"lockraster":n="esriMosaicLockRaster";break;case"center":n="esriMosaicCenter";break;case"northwest":n="esriMosaicNorthwest";break;case"nadir":n="esriMosaicNadir";break;case"viewpoint":n="esriMosaicViewpoint";break;case"seamline":n="esriMosaicSeamline";break;default:n="esriMosaicNone"}return Jt.fromJSON(n)}(n.mosaicMethod||n.defaultMosaicMethod)}writeMultidimensionalDefinition(e,n,d){null!=e&&(e=e.filter((({variableName:e,dimensionName:n})=>e&&"*"!==e||n))).length&&(n[d]=e.map((e=>e.toJSON())))}readOperation(e,n){var d;const M=n.mosaicOperation,y=null==(d=n.mosaicOperator)?void 0:d.toLowerCase(),h=M||(y?Ft.toJSON(y):null);return Ft.fromJSON(h)||"first"}castSortValue(e){return null==e||"string"==typeof e||"number"==typeof e?e:`${e}`}clone(){return new Ot({ascending:this.ascending,itemRasterFunction:R(this.itemRasterFunction),lockRasterIds:R(this.lockRasterIds),method:this.method,multidimensionalDefinition:R(this.multidimensionalDefinition),objectIds:R(this.objectIds),operation:this.operation,sortField:this.sortField,sortValue:this.sortValue,viewpoint:R(this.viewpoint),where:this.where})}};M([y({type:Boolean,json:{write:!0}})],Wt.prototype,"ascending",void 0),M([x("ascending",["ascending","sortAscending"])],Wt.prototype,"readAscending",null),M([y({type:Vt,json:{name:"itemRenderingRule",write:!0}})],Wt.prototype,"itemRasterFunction",void 0),M([y({type:Vt})],Wt.prototype,"itemRenderingRule",null),M([y({type:[C],json:{write:{overridePolicy(){return{enabled:"lock-raster"===this.method}}}}})],Wt.prototype,"lockRasterIds",void 0),M([y({type:String,json:{type:Jt.jsonValues,write:{target:"mosaicMethod",writer:Jt.write}}})],Wt.prototype,"method",void 0),M([x("method",["mosaicMethod","defaultMosaicMethod"])],Wt.prototype,"readMethod",null),M([y({type:[bt],json:{write:!0}})],Wt.prototype,"multidimensionalDefinition",void 0),M([H("multidimensionalDefinition")],Wt.prototype,"writeMultidimensionalDefinition",null),M([y({type:[C],json:{name:"fids",write:!0}})],Wt.prototype,"objectIds",void 0),M([y({json:{type:Ft.jsonValues,read:{reader:Ft.read},write:{target:"mosaicOperation",writer:Ft.write}}})],Wt.prototype,"operation",void 0),M([x("operation",["mosaicOperation","mosaicOperator"])],Wt.prototype,"readOperation",null),M([y({type:String,json:{write:{overridePolicy(){return{enabled:"attribute"===this.method}}}}})],Wt.prototype,"sortField",void 0),M([y({type:[String,Number],json:{write:{allowNull:!0,overridePolicy(){return{enabled:"attribute"===this.method,allowNull:!0}}}}})],Wt.prototype,"sortValue",void 0),M([pe("sortValue")],Wt.prototype,"castSortValue",null),M([y({type:K,json:{write:!0}})],Wt.prototype,"viewpoint",void 0),M([y({type:String,json:{write:!0}})],Wt.prototype,"where",void 0),Wt=Ot=M([j("esri.layers.support.MosaicRule")],Wt);const _t=Wt;var Kt;const Qt={base:ye,key:"type",typeMap:{extent:he,polygon:we}};let Xt=Kt=class extends N{constructor(e){super(e),this.areaOfInterest=null,this.subsetDefinitions=null}get dimensions(){const{subsetDefinitions:e}=this;if(null==e||0===e.length)return[];const n=new Map;e.forEach((e=>{if(!e.dimensionName)return;let d,M;if(Array.isArray(e.values[0])){const n=e.values;d=n[0][0],M=n[e.values.length-1][1]}else{const n=e.values;d=n[0],M=n[e.values.length-1]}if(n.has(e.dimensionName)){const y=n.get(e.dimensionName);y[0]=Math.min(d,y[0]),y[1]=Math.max(M,y[1])}else n.set(e.dimensionName,[d,M])}));const d=[];for(const M of n)d.push({name:M[0],extent:M[1]});return d}get variables(){const{subsetDefinitions:e}=this;if(null==e||0===e.length)return[];const n=new Set;return e.forEach((e=>{e.variableName&&n.add(e.variableName)})),[...n]}clone(){var e;const n=null==(e=this.subsetDefinitions)?void 0:e.map((e=>e.clone())),d=this.areaOfInterest?this.areaOfInterest.clone():this.areaOfInterest;return new Kt({areaOfInterest:d,subsetDefinitions:n})}};M([y({types:Qt,json:{read:Me,write:!0}})],Xt.prototype,"areaOfInterest",void 0),M([y({readOnly:!0})],Xt.prototype,"dimensions",null),M([y({readOnly:!0})],Xt.prototype,"variables",null),M([y({type:[bt],json:{write:!0}})],Xt.prototype,"subsetDefinitions",void 0),Xt=Kt=M([j("esri.layers.support.MultidimensionalSubset")],Xt);const Yt=Xt;let qt=class t{constructor(){this._workerThread=null,this._destroyed=!1}async initialize(){const e=await Ie("RasterWorker");this._destroyed?e.close():this._workerThread=e}destroy(){this._destroyed=!0,this._workerThread&&(this._workerThread.close(),this._workerThread=null)}async convertVectorFieldData(e,n){if(!this._workerThread)throw new fe("raster-jobhandler:no-connection","no available worker connection");const d=await this._workerThread.invoke("convertVectorFieldData",{pixelBlock:e.pixelBlock.toJSON(),type:e.dataType},n);return d?new Ve(d):null}computeStatisticsHistograms(e,n){if(!this._workerThread)throw new fe("raster-jobhandler:no-connection","no available worker connection");return this._workerThread.invoke("computeStatisticsHistograms",{pixelBlock:e.pixelBlock.toJSON()},n)}async decode(e,n){if(!this._workerThread)throw new fe("raster-jobhandler:no-connection","no available worker connection");const d=await this._workerThread.invoke("decode",e,n);return d?new Ve(d):null}async symbolize(e,n){var d,M;if(!this._workerThread)throw new fe("raster-jobhandler:no-connection","no available worker connection");const y={extent:null==(d=e.extent)?void 0:d.toJSON(),pixelBlock:null==(M=e.pixelBlock)?void 0:M.toJSON(),simpleStretchParams:e.simpleStretchParams,bandIds:e.bandIds},h=await this._workerThread.invoke("symbolize",y,n);return h?new Ve(h):null}async updateSymbolizer(e,n){var d;if(!this._workerThread)throw new fe("raster-jobhandler:no-connection","no available worker connection");const M=null==(d=null==e?void 0:e.rendererJSON)?void 0:d.histograms;await Promise.all(this._workerThread.broadcast("updateSymbolizer",{symbolizerJSON:e.toJSON(),histograms:M},n))}async updateRasterFunction(e,n){if(!this._workerThread)throw new fe("raster-jobhandler:no-connection","no available worker connection");await Promise.all(this._workerThread.broadcast("updateRasterFunction",{rasterFunctionJSON:e.toJSON()},n))}async process(e,n){var d,M;if(!this._workerThread)throw new fe("raster-jobhandler:no-connection","no available worker connection");const y=await this._workerThread.invoke("process",{extent:null==(d=e.extent)?void 0:d.toJSON(),primaryPixelSizes:null==(M=e.primaryPixelSizes)?void 0:M.map((e=>null!=e?e.toJSON():null)),primaryPixelBlocks:e.primaryPixelBlocks.map((e=>null!=e?e.toJSON():null)),primaryRasterIds:e.primaryRasterIds},n);return y?new Ve(y):null}async stretch(e,n){if(!this._workerThread)throw new fe("raster-jobhandler:no-connection","no available worker connection");if(!(null==e?void 0:e.pixelBlock))return null;const d={srcPixelBlock:e.pixelBlock.toJSON(),stretchParams:e.stretchParams},M=await this._workerThread.invoke("stretch",d,n);return M?new Ve(M):null}async split(e,n){if(!this._workerThread)throw new fe("raster-jobhandler:no-connection","no available worker connection");if(!(null==e?void 0:e.pixelBlock))return null;const d={srcPixelBlock:e.pixelBlock.toJSON(),tileSize:e.tileSize,maximumPyramidLevel:e.maximumPyramidLevel,useBilinear:e.useBilinear},M=await this._workerThread.invoke("split",d,n);return M&&M.forEach(((e,n)=>{M.set(n,e?Ve.fromJSON(e):null)})),M}async clipTile(e,n){if(!this._workerThread)throw new fe("raster-jobhandler:no-connection","no available worker connection");if(!(null==e?void 0:e.pixelBlock))return null;const d={...e,pixelBlock:e.pixelBlock.toJSON()},M=await this._workerThread.invoke("clipTile",d,n);return M?Ve.fromJSON(M):null}async estimateStatisticsHistograms(e,n){if(!this._workerThread)throw new fe("raster-jobhandler:no-connection","no available worker connection");if(!(null==e?void 0:e.pixelBlock))return null;const d={srcPixelBlock:e.pixelBlock.toJSON()};return await this._workerThread.invoke("estimateStatisticsHistograms",d,n)}async mosaicAndTransform(e,n){var d;if(!this._workerThread)throw new fe("raster-jobhandler:no-connection","no available worker connection");if(!(null==(d=null==e?void 0:e.srcPixelBlocks)?void 0:d.length))return{pixelBlock:null};const M={...e,srcPixelBlocks:e.srcPixelBlocks.map((e=>null!=e?e.toJSON():null))},y=await this._workerThread.invoke("mosaicAndTransform",M,n);return{pixelBlock:y.pixelBlock?new Ve(y.pixelBlock):null,localNorthDirections:y.localNorthDirections}}async createFlowMesh(e,n){if(!this._workerThread)throw new fe("raster-jobhandler:no-connection","no available worker connection");const d={buffer:e.flowData.data.buffer,maskBuffer:e.flowData.mask.buffer,width:e.flowData.width,height:e.flowData.height},{meshType:M,simulationSettings:y}=e,h=await this._workerThread.invoke("createFlowMesh",{meshType:M,flowData:d,simulationSettings:y},{...n,transferList:[d.buffer,d.maskBuffer]});return{vertexData:new Float32Array(h.vertexBuffer),indexData:new Uint32Array(h.indexBuffer)}}getProjectionOffsetGrid(e,n){if(!this._workerThread)throw new fe("raster-jobhandler:no-connection","no available worker connection");const d=null!=e.datumTransformation?e.datumTransformation.steps.map((e=>({wkid:e.wkid,wkt:e.wkt,isInverse:e.isInverse}))):null,M=null!=e.rasterTransform?e.rasterTransform.toJSON():null,y={projectedExtent:e.projectedExtent.toJSON(),srcBufferExtent:e.srcBufferExtent.toJSON(),pixelSize:e.pixelSize,hasWrapAround:e.hasWrapAround,spacing:e.spacing,datumTransformationSteps:d,rasterTransform:M,isAdaptive:e.isAdaptive,includeGCSGrid:e.includeGCSGrid};return this._workerThread.invoke("getProjectionOffsetGrid",y,n)}};function t2(e,n,d){var M;const y=n.shift();if(0===d.length){const e=[];d.push({sliceId:-1,multidimensionalDefinition:e})}const h=d.length;for(let w=0;w<h;w++){const n=d.shift().multidimensionalDefinition;null==(M=y.values)||M.forEach((M=>{d.push({sliceId:-1,multidimensionalDefinition:[...n,{variableName:e,dimensionName:y.name,values:[M]}]})}))}n.length&&t2(e,n,d)}function i2(e,n){const d=[];let M=0;return(n?e.variables.filter((e=>e.name.toLowerCase()===n.toLowerCase())):[...e.variables].sort(((e,n)=>e.name>n.name?1:-1))).forEach((e=>{const n=[],y=[...e.dimensions].sort(((e,n)=>e.name>n.name?-1:1));t2(e.name,y,n),n.forEach((e=>{d.push({...e,sliceId:M++})}))})),d}function a3(e,n,d){let M=e;if(n&&(n=[...n].sort(((e,n)=>e.dimensionName<n.dimensionName?-1:1))).forEach((({dimensionName:e,values:n,isSlice:d})=>{n.length&&(M=M.filter((M=>{const y=M.multidimensionalDefinition.find((n=>n.dimensionName===e));if(null==y)return!1;const h=y.values[0];return"number"==typeof h?"number"==typeof n[0]?n.includes(h):n.some((e=>e[0]<=h&&e[1]>=h)):"number"==typeof n[0]?n.some((e=>h[0]<=e&&h[1]>=e)):d?n.some((e=>e[0]===h[0]&&e[0]===h[1])):n.some((e=>e[0]>=h[0]&&e[0]<=h[1]||e[1]>=h[0]&&e[1]<=h[1]||e[0]<h[0]&&e[1]>h[1]))})))})),M.length&&null!=(null==d?void 0:d.start)&&null!=d.end){const e=d.start.getTime(),n=d.end.getTime(),y=M[0].multidimensionalDefinition.findIndex((e=>"StdTime"===e.dimensionName));y>-1&&(M=M.filter((d=>{const M=d.multidimensionalDefinition[y].values[0];return e<=M&&n>=M})))}return M.map((e=>e.sliceId))}function s(e,n){return Array.isArray(e)?n[0]===n[1]?e[0]===n[0]||e[1]===n[0]:e[0]>=n[0]&&e[0]<=n[1]&&e[1]>=n[0]&&e[1]<=n[1]:e>=n[0]&&e<=n[1]}function r(e,n){return e[0]<=n[0]&&e[1]>=n[0]||e[0]<=n[1]&&e[1]>=n[1]||e[0]>=n[0]&&e[1]<=n[1]}function l(e){return 1===e.length?[e[0],e[0]]:[e[0],e[e.length-1]]}function u$1(e,n,d){var M,y;if(!(null==(M=null==n?void 0:n.subsetDefinitions)?void 0:M.length))return e;let h;if(d){const{variables:M}=n;if(M.length&&!M.includes(d))return null;const w=n.subsetDefinitions.find((n=>n.dimensionName===e.name&&n.variableName===d));if(!(null==(y=null==w?void 0:w.values)?void 0:y.length))return e;h=l(w.values)}else{const d=n.dimensions.find((({name:n})=>n===e.name));h=null==d?void 0:d.extent}const w=h;if(!(null==w?void 0:w.length))return e;const I=e.values.filter((e=>s(e,w)));return{...e,extent:[...w],values:I}}function o(e,n,d){var M;if(!(null==(M=null==n?void 0:n.subsetDefinitions)?void 0:M.length))return!1;const{variables:y}=n;if(y.length&&e.some((({variableName:e})=>e&&!y.includes(e))))return!0;for(let h=0;h<e.length;h++){const M=e[h],y=n.subsetDefinitions.find((e=>(""===M.variableName||e.variableName===M.variableName)&&e.dimensionName===M.dimensionName));if(null==y?void 0:y.values.length){const e=l(y.values);if(M.isSlice||2!==M.values.length||Array.isArray(M.values[0])||M.values[0]===M.values[1]||!d){if(M.values.some((n=>!s(n,e))))return!0}else if(!r(M.values,e))return!0}}return!1}function m$1(e,n){if(null==e)return{isOutside:!1};const{geometry:d,timeExtent:M,multidimensionalDefinition:y}=n;let h=null;if(null!=M&&(h=function c2(e,n){const d=e.dimensions.find((({name:e})=>"StdTime"===e));if(null==d||null==n.start&&null==n.end)return n;n=n.clone();const{start:M,end:y}=n.toJSON(),h=M===y?[M]:null!=M&&null!=y?[M,y]:[M??y];return 2===h.length&&(null==d?void 0:d.extent.length)&&(h[0]=Math.max(h[0],d.extent[0]),h[1]=Math.min(h[1],d.extent[1]??d.extent[0]),h[1]<h[0])||o([new bt({variableName:"",dimensionName:"StdTime",isSlice:1===h.length,values:h})],e,!0)?null:(n.start=new Date(h[0]),n.end=new Date(h[1]??h[0]),n)}(e,M),null==h))return{isOutside:!0};const{areaOfInterest:w}=e;if(w&&d){const e="point"===d.type?d:"extent"===d.type?d.center:"polygon"===d.type?d.centroid:null;if(e&&!w.contains(e))return{isOutside:!0}}return null!=y&&y.length&&o(y,e,!0)?{isOutside:!0}:{isOutside:!1,intersection:{geometry:d,timeExtent:h,multidimensionalDefinition:y}}}function f$1(e,n={}){var d,M;const{multidimensionalInfo:y,keyProperties:h}=e;if(null==y)return null;const{variableName:w,multidimensionalSubset:I,multidimensionalDefinition:S}=n,j=null!=S?null==(d=S[0])?void 0:d.variableName:null,N=w||j||(null==h?void 0:h.DefaultVariable);let{variables:C}=y;return(null==(M=null==I?void 0:I.variables)?void 0:M.length)&&(C=C.filter((({name:e})=>I.variables.includes(e)))),N?C.find((({name:e})=>e===N))??C[0]:C[0]}function d$1(e,n={}){const d=f$1(e,n);if(!d)return null;const M=[],{dimensions:y,name:h}=d;if(0===y.length)return[new bt({variableName:h,dimensionName:"",values:[],isSlice:!0})];for(let w=0;w<y.length;w++){const e=u$1(y[w],n.multidimensionalSubset,h);if(!e)return null;const{values:d,extent:I}=e;let S=(null==d?void 0:d[0])??(null==I?void 0:I[0]);"stdz"===e.name.toLowerCase()&&!e.hasRanges&&I&&Math.abs(I[1])<=Math.abs(I[0])&&(S=(null==d?void 0:d.length)?d[d.length-1]:I[1]),M.push(new bt({variableName:h,dimensionName:e.name,values:[S],isSlice:!n.useRangeForRangedDimensionInfo||!!e.hasRanges}))}return M}function h$1(e){return!!(null==e?void 0:e.length)&&e.some((e=>{if(null==e.values)return!0;const n=e.values.length;return 0===n||n>1||!e.isSlice&&Array.isArray(e.values[0])}))}function g$1(e,n){var d;if(null==n||null==e)return null;let M=n.variables.map((e=>({...e})));return(null==(d=null==e?void 0:e.variables)?void 0:d.length)&&(M=M.filter((({name:n})=>e.variables.includes(n))),M.forEach((n=>{n.dimensions=n.dimensions.map((d=>u$1(d,e,n.name))).filter(ve)}))),M}function v(e,n){var d;const{values:M}=n;if(null==M?void 0:M.length){const n=Array.isArray(M[0]),d=Array.isArray(e);return n!==d?-1:n&&d?M.findIndex((n=>n[0]===e[0]&&n[1]===e[1])):M.indexOf(e)}const{extent:y}=n;if(Array.isArray(e)||!y||e<y[0]||e>y[1])return-1;const h=n.interval||1;if("ISO8601"!==n.unit)return Math.round((e-y[0])/h);const w=y[0];let I=-1;switch((null==(d=n.intervalUnit)?void 0:d.toLowerCase())||"seconds"){case"seconds":I=Math.round((e-w)/1e3/h);break;case"minutes":I=Math.round((e-w)/6e4/h);break;case"hours":I=Math.round((e-w)/36e5/h);break;case"days":I=Math.round((e-w)/864e5/h);break;case"months":{const n=new Date(e).getUTCFullYear()-new Date(w).getUTCFullYear(),d=new Date(w).getUTCMonth(),M=new Date(e).getUTCMonth();I=0===n?M-d:M+11-d+12*(n-1)}break;case"years":I=Math.round((new Date(e).getUTCFullYear()-new Date(w).getUTCFullYear())/h);break;case"decades":I=Math.round((new Date(e).getUTCFullYear()-new Date(w).getUTCFullYear())/10/h)}return I}function b(e){var n,d;let M=null==(n=e.values)?void 0:n.length;if(M)return M;const{extent:y,unit:h}=e,w=e.interval||1,I=y?y[1]-y[0]:0;if("ISO8601"!==h)return Math.round(I/w);switch((null==(d=e.intervalUnit)?void 0:d.toLowerCase())??"seconds"){case"seconds":M=Math.round(I/1e3/w);break;case"minutes":M=Math.round(I/6e4/w);break;case"hours":M=Math.round(I/36e5/w);break;case"days":M=Math.round(I/864e5/w);break;case"months":if(y){const e=new Date(y[1]).getUTCFullYear()-new Date(y[0]).getUTCFullYear(),n=new Date(y[0]).getUTCMonth(),d=new Date(y[1]).getUTCMonth();M=0===e?d-n+1:d+11-n+12*(e-1)+1}else M=0;break;case"years":M=y?Math.round((new Date(y[1]).getUTCFullYear()-new Date(y[0]).getUTCFullYear())/w):0;break;case"decades":M=y?Math.round((new Date(y[1]).getUTCFullYear()-new Date(y[0]).getUTCFullYear())/10/w):0;break;default:M=0}return M}function D$1(e,n){let d=0;const M=e[0].variableName,y=[...n.variables].sort(((e,n)=>e.name>n.name?1:-1));for(let h=0;h<y.length;h++){const n=y[h],w=[...n.dimensions].sort(((e,n)=>e.name>n.name?-1:1));if(n.name!==M){d+=w.map((e=>b(e))).reduce(((e,n)=>e*n));continue}const I=w.map((e=>b(e))),S=w.length;for(let M=0;M<S;M++){const n=e.find((e=>e.dimensionName===w[M].name));if(null==n)return null;const y=v(n.values[0],w[M]);if(-1===y)return null;I.shift(),d+=M===S-1?y:y*I.reduce(((e,n)=>e*n))}break}return d}const $t=.25,ei=Ae.fromJSON({type:"multipart",colorRamps:[{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]}),ti=Ae.fromJSON(Oe[0]),ii=new Set(["scientific","standard-time","vector-uv","vector-magdir","vector-u","vector-v","vector-magnitude","vector-direction"]);function L(e,n){const{attributeTable:M,colormap:y}=e;if(Fe(e)){const n=function Y(e){if(!Fe(e))return null;let n;if(null!=e.statistics&&e.statistics.length&&("vector-magdir"===e.dataType||"vector-uv"===e.dataType)){const{minMagnitude:d,maxMagnitude:M}=function te(e,n){let d,M;if("vector-magdir"===e)d=n[0].min,M=n[0].max;else{const e=n[0].min,y=n[0].max,h=n[1].min,w=n[1].max;d=0,M=Math.max(Math.abs(e),Math.abs(h),Math.abs(y),Math.abs(w))}return{minMagnitude:d,maxMagnitude:M}}(e.dataType,e.statistics);n=[new V({field:"Magnitude",minSize:10,maxSize:40,minDataValue:d,maxDataValue:M})]}const d=null!=e.multidimensionalInfo?ni.get(e.multidimensionalInfo.variables[0].unit):void 0,M=new wt({visualVariables:n,inputUnit:d,rotationType:"geographic"});return M.visualVariables=[...M.sizeVariables,...M.rotationVariables],M}(e);if(null!=n)return n}if(null==n?void 0:n.rasterFunctionColorRamp){const d=z(e,n);return d.colorRamp=n.rasterFunctionColorRamp,d}if(null!=y){const n=function _(e){if(!Je(e))return null;let n;const{attributeTable:d,colormap:M}=e;if(null!=d){const e=G(d,"value"),M=J(d,null,!0);"string"===M.type&&(n={},d.features.forEach((d=>{const y=d.attributes;n[y[e.name]]=M?y[M.name]:y[e.name]})))}return ot.createFromColormap(M,n)}(e);if(null!=n)return n}if(null!=M){const n=function A(e,n,M,y){if(!We(e,n))return null;const{attributeTable:h,statistics:w}=e,S=J(h,n),j=G(h,"red"),N=G(h,"green"),C=G(h,"blue"),T=new I,x=[],k=new Set,R=!!(j&&N&&C);if(null!=h)h.features.forEach((e=>{const n=e.attributes[S.name];if(!k.has(e.attributes[S.name])&&null!=n){k.add(n);const M=R&&("single"===j.type||"double"===j.type)&&("single"===N.type||"double"===N.type)&&("single"===C.type||"double"===C.type)&&!h.features.some((e=>e.attributes[j.name]>1||e.attributes[N.name]>1||e.attributes[C.name]>1)),y=M?255:1;x.push(new De({value:e.attributes[S.name],label:e.attributes[S.name]+"",symbol:new be({style:"solid",outline:null,color:new d(R?[e.attributes[j.name]*y,e.attributes[N.name]*y,e.attributes[C.name]*y,1]:[0,0,0,0])})}))}}));else if(null==w?void 0:w[0])for(let I=w[0].min;I<=w[0].max;I++)x.push(new De({value:I,label:I.toString(),symbol:new be({style:"solid",outline:null,color:new d([0,0,0,0])})}));if(x.sort(((e,n)=>e.value&&"string"==typeof e.value.valueOf()?0:e.value>n.value?1:-1)),!R){const e=ke(ti,{numColors:x.length});x.forEach(((n,M)=>n.symbol.color=new d(e[M].slice(1,4)))),T.colorRamp=ti}return new le({field:S.name,uniqueValueInfos:x,authoringInfo:T})}(e);if(null!=n)return n}return z(e,n)}function B(e,n=!1){const d=["raster-stretch"];return Je(e,n)&&d.push("raster-colormap"),We(e)&&d.push("unique-value"),_e(e,n)&&d.push("class-breaks"),Ke(e)&&d.push("raster-shaded-relief"),Fe(e)&&d.push("vector-field"),Qe(e)&&d.push("flow"),d}function E(e){return"Function"===e.datasetFormat&&"Colormap"===e.rasterFunction.functionName?e.rasterFunction.colorRamp:void 0}function q(e,n,d){const M=null==d?void 0:d.toLowerCase().replace("bicubic","cubic"),y=["nearest","bilinear","cubic","majority"].find((e=>e===M));return"Map"===n?y??"bilinear":"standard-time"===e.dataType?y??"nearest":"thematic"===e.dataType||e.attributeTable||e.colormap?"nearest"===y||"majority"===y?y:"nearest":y??"bilinear"}function z(e,n){e=W(e,null==n?void 0:n.variableName);const{bandCount:d}=e;let{bandIds:M,stretchType:y}=n||{};(null==M?void 0:M.some((e=>e>=d)))&&(M=null);let h=e.statistics,w=e.histograms;d>1?(M=(null==M?void 0:M.length)?M:U(e),h=null==h?null:null==M?void 0:M.map((e=>h[e])),w=null==w?null:null==M?void 0:M.map((e=>w[e]))):M=[0],null==y&&(y=function O(e){let n="percent-clip";const{pixelType:d,dataType:M,histograms:y,statistics:h,multidimensionalInfo:w}=e,I=ii.has(M)||"generic"===M&&null!=w;return"u8"!==d||"processed"!==M&&null!=y&&null!=h?"u8"===d||"elevation"===M||I?n="min-max":null!=y?n="percent-clip":null!=h&&(n="min-max"):n="none",n}(e));let I=!1;switch(y){case"none":I=!1;break;case"percent-clip":I=!(null==w?void 0:w.length);break;default:I=!(null==h?void 0:h.length)}const{dataType:S}=e,j=1===(null==M?void 0:M.length)&&ii.has(S)?ei:null,N=new pt({stretchType:y,dynamicRangeAdjustment:I,colorRamp:j,outputMin:0,outputMax:255,gamma:1===(null==M?void 0:M.length)?[1]:[1,1,1],useGamma:!1});return"percent-clip"===y?N.maxPercent=N.minPercent=$t:"standard-deviation"===y&&(N.numberOfStandardDeviations=2),I||null==e.multidimensionalInfo&&!(null==n?void 0:n.includeStatisticsInStretch)||("percent-clip"===y?N.histograms=w:"min-max"!==y&&"standard-deviation"!==y||(N.statistics=h)),N}function W(e,n){const{multidimensionalInfo:d}=e;if(!n||!d)return e;const M=d.variables.find((e=>e.name===n));if(!M)return e;if(e=e.clone(),M){const{statistics:n,histograms:d}=M;(null==n?void 0:n.length)&&(e.statistics=n.map((e=>({min:e.min,max:e.max,avg:e.avg,stddev:e.stddev})))),(null==d?void 0:d.length)&&(e.histograms=d)}return e}function U(e){const n=e.bandCount;if(1===n)return null;if(2===n)return[0];const{bandInfos:d}=e;let M;if(d.length===n){const{red:e,green:n,blue:y,nir:h}=function D(e){const n={};for(let d=0;d<e.length;d++){const M=e[d],y=M.name.toLowerCase();if("red"===y)n.red=d;else if("green"===y)n.green=d;else if("blue"===y)n.blue=d;else if("nearinfrared"===y||"nearinfrared_1"===y||"nir"===y)n.nir=d;else if(M.maxWavelength&&M.minWavelength){const e=M.minWavelength,y=M.maxWavelength;null==n.blue&&e>=410&&e<=480&&y>=480&&y<=540?n.blue=d:null==n.green&&e>=490&&e<=560&&y>=560&&y<=610?n.green=d:null==n.red&&e>=595&&e<=670&&y>=660&&y<=730?n.red=d:null==n.nir&&e>=700&&e<=860&&y>=800&&y<=950&&(n.nir=d)}}return n}(d);null!=e&&null!=n&&null!=y?M=[e,n,y]:null!=h&&null!=e&&null!=n&&(M=[h,e,n])}return!M&&n>=3&&(M=[0,1,2]),M}function J(e,n,d){let M;return null!=e?(M=n?e.fields.find((e=>n.toLowerCase()===e.name.toLowerCase())):function P(e){let n;for(let d=0;d<e.length;d++){const M=e[d].name.toLowerCase();if("string"===e[d].type){if(M.startsWith("class")){n=e[d];break}null==n&&(M.endsWith("name")||M.endsWith("type"))&&(n=e[d])}}return n}(e.fields),M||(d||(M=e.fields.find((e=>"string"===e.type))),M||(M=G(e,"value")))):M=new Se({name:"value"}),M}function G(e,n){return null==e?null:e.fields.find((e=>e.name.toLowerCase()===n))}const ni=new Map([["m/s","meter-per-second"],["km/h","kilometer-per-hour"],["knots","knots"],["ft/s","feet-per-second"],["mph","mile-per-hour"]]);function Z(e){var n;return{color:null==(n=e.symbolLayers[0].material)?void 0:n.color,type:"esriSFS",style:"esriSFSSolid"}}function $$1(e){var n,d;if("uniqueValue"===e.type){const d=e.uniqueValueInfos,M=null==d?void 0:d[0].symbol;return(null==(n=null==M?void 0:M.symbolLayers)?void 0:n.length)&&(e.uniqueValueInfos=null==d?void 0:d.map((e=>({value:e.value,label:e.label,symbol:e.symbol?Z(e.symbol):null})))),e}if("classBreaks"===e.type){const n=e.classBreakInfos,M=n[0].symbol;return(null==(d=null==M?void 0:M.symbolLayers)?void 0:d.length)&&(e.classBreakInfos=n.map((e=>({classMinValue:e.classMinValue,classMaxValue:e.classMaxValue,label:e.label,symbol:e.symbol?Z(e.symbol):null})))),e}return e}var ri;let ai=ri=class extends N{constructor(){super(...arguments),this.geometry=null,this.mosaicRule=null,this.rasterFunction=null,this.pixelSize=null,this.raster=void 0,this.timeExtent=null}writeGeometry(e,n,d){null!=e&&(n.geometryType=Ce(e),n[d]=e.toJSON())}get renderingRule(){return me(ge.getLogger(this),"renderingRule",{replacement:"rasterFunction",version:"4.27",warnOnce:!0}),this._get("rasterFunction")}set renderingRule(e){me(ge.getLogger(this),"renderingRule",{replacement:"rasterFunction",version:"4.27",warnOnce:!0}),this._set("rasterFunction",e)}clone(){return new ri(R({geometry:this.geometry,mosaicRule:this.mosaicRule,rasterFunction:this.rasterFunction,pixelSize:this.pixelSize,raster:this.raster,timeExtent:this.timeExtent}))}};M([y({types:je,json:{read:Me}})],ai.prototype,"geometry",void 0),M([H("geometry")],ai.prototype,"writeGeometry",null),M([y({type:_t,json:{write:!0}})],ai.prototype,"mosaicRule",void 0),M([y({type:Vt})],ai.prototype,"renderingRule",null),M([y({type:Vt,json:{write:!0,name:"renderingRule"}})],ai.prototype,"rasterFunction",void 0),M([y({type:K,json:{write:!0}})],ai.prototype,"pixelSize",void 0),M([y({json:{write:!0}})],ai.prototype,"raster",void 0),M([y({type:Ne,json:{read:{source:"time"},write:{target:"time"}}})],ai.prototype,"timeExtent",void 0),ai=ri=M([j("esri.rest.support.ImageHistogramParameters")],ai);const oi=ai;async function u(e,n,d){var M,y,h,w,I,S,j,N,C,T;const x=Te(e),{rasterFunction:k,sourceJSON:R}=n||{},H=k?JSON.stringify(k.rasterFunctionDefinition||k):null,V=Le({...x.query,renderingRule:H,f:"json"}),F=xe(V,d);e=x.path;const Q=R||await Be(e,F).then((e=>e.data)),X=Q.hasRasterAttributeTable?Be(`${e}/rasterAttributeTable`,F):null,$=Q.hasColormap?Be(`${e}/colormap`,F):null,ee=Q.hasHistograms?Be(`${e}/histograms`,F):null,ie=Q.currentVersion>=10.3?Be(`${e}/keyProperties`,F):null,ne=Q.hasMultidimensions?Be(`${e}/multidimensionalInfo`,F):null,re=await Promise.allSettled([X,$,ee,ie,ne]);let ae=null;if(Q.minValues&&Q.minValues.length===Q.bandCount){ae=[];for(let e=0;e<Q.minValues.length;e++)ae.push({min:Q.minValues[e],max:Q.maxValues[e],avg:Q.meanValues[e],stddev:Q.stdvValues[e]})}const oe=he.fromJSON(Q.extent),se=Math.ceil(oe.width/Q.pixelSizeX-.1),le=Math.ceil(oe.height/Q.pixelSizeY-.1),ue=Ue.fromJSON(Q.spatialReference||Q.extent.spatialReference),ce="fulfilled"===re[0].status?null==(M=re[0].value)?void 0:M.data:null,de=(null==(y=null==ce?void 0:ce.features)?void 0:y.length)?ze.fromJSON(ce):null,pe="fulfilled"===re[1].status?null==(h=re[1].value)?void 0:h.data.colormap:null,me=(null==pe?void 0:pe.length)?pe:null,ge="fulfilled"===re[2].status?null==(w=re[2].value)?void 0:w.data.histograms:null,Me=(null==(S=null==(I=null==ge?void 0:ge[0])?void 0:I.counts)?void 0:S.length)?ge:null,ye="fulfilled"===re[3].status?(null==(j=re[3].value)?void 0:j.data)??{}:{},we="fulfilled"===re[4].status?null==(N=re[4].value)?void 0:N.data.multidimensionalInfo:null,Ie=(null==(C=null==we?void 0:we.variables)?void 0:C.length)?we:null;Ie&&Ie.variables.forEach((e=>{var n;(null==(n=e.statistics)?void 0:n.length)&&e.statistics.forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation}))}));const{defaultVariable:fe,serviceDataType:ve}=Q;fe&&fe!==ye.DefaultVariable&&(ye.DefaultVariable=fe),(null==ve?void 0:ve.includes("esriImageServiceDataTypeVector"))&&!ve.includes(ye.DataType)&&(ye.DataType=ve.replace("esriImageServiceDataType",""));let Ae=Q.noDataValue;return(null==(T=Q.noDataValues)?void 0:T.length)&&Q.noDataValues.some((e=>e!==Ae))&&(Ae=Q.noDataValues),new Xe({width:se,height:le,bandCount:Q.bandCount,extent:he.fromJSON(Q.extent),spatialReference:ue,pixelSize:new K({x:Q.pixelSizeX,y:Q.pixelSizeY,spatialReference:ue}),pixelType:Q.pixelType.toLowerCase(),statistics:ae,attributeTable:de,colormap:me,histograms:Me,keyProperties:ye,noDataValue:Ae,multidimensionalInfo:Ie})}function m(e,n,d){return u(e,{sourceJSON:n},d)}function f(e,n,d){return u(e,{rasterFunction:n},d)}function p2(e,n){e.attributeTable||(n.hasRasterAttributeTable=!1),e.histograms||(n.hasHistograms=!1),e.colormap||(n.hasColormap=!1),e.multidimensionalInfo||(n.hasMultidimensions=!1)}export{$$1 as $,B,D$1 as D,E,L,Vt as N,U,W,a3 as a,c$4 as b,Yt as c,ft as d,oi as e,d$1 as f,f$1 as g,h$1 as h,i2 as i,g$1 as j,p2 as k,It as l,m,St as n,o,bt as p,q,jt as r,_t as s,qt as t,Nt as u,f as v,m$1 as w};
