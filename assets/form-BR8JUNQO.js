import{eA as e}from"./index-DSIPxOWi.js";import{q as t,c as n}from"./dom-CG95YN3b.js";
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.10.1
 */const i=["calcite-input","calcite-input-number","calcite-input-text","calcite-text-area"];const a="hidden-form-input";function isCheckable(e){return"checked"in e}const o=new WeakMap,s=new WeakSet;function getValidationComponent(e){return"CALCITE-RADIO-BUTTON"===e.nodeName?n(e,"calcite-radio-button-group"):e}const l=new CustomEvent("calciteInvalid",{bubbles:!0,composed:!0});function invalidHandler(e){var t;const n=null==e?void 0:e.target,a=null==n?void 0:n.validationMessage,o=getValidationComponent(null==n?void 0:n.parentElement);if(!o)return;const s=null==(t=null==o?void 0:o.nodeName)?void 0:t.toLowerCase(),d=null==s?void 0:s.split("-");if(d.length<2||"calcite"!==d[0])return;null==e||e.preventDefault(),"validity"in o&&(o.validity=null==n?void 0:n.validity),o.dispatchEvent(l),function displayValidationMessage(e,{status:t,message:n,icon:i}){"status"in e&&(e.status=t),"validationIcon"in e&&"string"!=typeof e.validationIcon&&(e.validationIcon=i),"validationMessage"in e&&!e.validationMessage&&(e.validationMessage=n)}(o,{message:a,icon:!0,status:"invalid"});const r=function getClearValidationEventName(e){return`${e.split("-").map(((e,t)=>0===t?e:`${e[0].toUpperCase()}${e.slice(1)}`)).join("")}${i.includes(e)?"Input":"Change"}`}(s);o.addEventListener(r,(()=>{"status"in o&&(o.status="idle"),"validationIcon"in o&&!o.validationIcon&&(o.validationIcon=!1),"validationMessage"in o&&o.validationMessage===a&&(o.validationMessage=""),"validity"in o&&(o.validity=null==n?void 0:n.validity)}),{once:!0})}function submitForm(e){const{formEl:t}=e;return!!t&&(t.addEventListener("invalid",invalidHandler,!0),t.requestSubmit(),t.removeEventListener("invalid",invalidHandler,!0),requestAnimationFrame((()=>{const e=t.querySelectorAll("[status=invalid]");for(const t of e)if(null==t?void 0:t.validationMessage){null==t||t.setFocus();break}})),!0)}function resetForm(e){var t;null==(t=e.formEl)||t.reset()}function connectForm(e){const{el:t,value:i}=e,a=findAssociatedForm(e);if(!a||function hasRegisteredFormComponentParent(e,t){if(n(t.parentElement,"[form]"))return!0;const i="calciteInternalFormComponentRegister";let a=!1;return e.addEventListener(i,(e=>{a=e.composedPath().some((e=>s.has(e))),e.stopPropagation()}),{once:!0}),t.dispatchEvent(new CustomEvent(i,{bubbles:!0,composed:!0})),a}(a,t))return;e.formEl=a,e.defaultValue=i,isCheckable(e)&&(e.defaultChecked=e.checked);const l=(e.onFormReset||onFormReset).bind(e);a.addEventListener("reset",l),o.set(e.el,l),s.add(t)}function findAssociatedForm(e){const{el:i,form:a}=e;return a?t(i,{id:a}):n(i,"form")}function onFormReset(){"status"in this&&(this.status="idle"),"validationIcon"in this&&(this.validationIcon=!1),"validationMessage"in this&&(this.validationMessage=""),isCheckable(this)?this.checked=this.defaultChecked:this.value=this.defaultValue}function disconnectForm(e){const{el:t,formEl:n}=e;if(!n)return;const i=o.get(t);n.removeEventListener("reset",i),o.delete(t),e.formEl=null,s.delete(t)}const d="calciteInternalHiddenInputInput",hiddenInputInputHandler=e=>{e.target.dispatchEvent(new CustomEvent(d,{bubbles:!0}))},removeHiddenInputChangeEventListener=e=>e.removeEventListener("input",hiddenInputInputHandler);function defaultSyncHiddenFormInput(e,t,n){var i;const{defaultValue:a,disabled:o,form:s,name:l,required:d}=e;t.defaultValue=a,t.disabled=o,t.name=l,t.required=d,t.tabIndex=-1,s?t.setAttribute("form",s):t.removeAttribute("form"),isCheckable(e)?(t.checked=e.checked,t.defaultChecked=e.defaultChecked,t.value=e.checked?n||"on":""):t.value=n||"",null==(i=e.syncHiddenFormInput)||i.call(e,t);const r=getValidationComponent(e.el);if(r&&"validity"in r)for(const c in{...null==t?void 0:t.validity})r.validity[c]=t.validity[c]}const HiddenFormInputSlot=({component:t})=>(function syncHiddenFormInput(e){const{el:t,formEl:n,name:i,value:o}=e,{ownerDocument:s}=t,l=t.querySelectorAll(`input[slot="${a}"]`);if(!n||!i)return void l.forEach((e=>{removeHiddenInputChangeEventListener(e),e.remove()}));const d=Array.isArray(o)?o:[o],r=[],c=new Set;let u;l.forEach((t=>{const n=d.find((e=>e==t.value));null!=n?(c.add(n),defaultSyncHiddenFormInput(e,t,n)):r.push(t)})),d.forEach((t=>{if(c.has(t))return;let n=r.pop();n||(n=s.createElement("input"),n.slot=a),u||(u=s.createDocumentFragment()),u.append(n),n.addEventListener("input",hiddenInputInputHandler),defaultSyncHiddenFormInput(e,n,t)})),u&&t.append(u),r.forEach((e=>{removeHiddenInputChangeEventListener(e),e.remove()}))}(t),e("slot",{name:a}));export{HiddenFormInputSlot as H,connectForm as c,disconnectForm as d,findAssociatedForm as f,d as i,resetForm as r,submitForm as s};
