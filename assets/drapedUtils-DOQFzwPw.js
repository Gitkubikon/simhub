import{az as a,d9 as s}from"./index-DSIPxOWi.js";function t(a,s){return s?"xoffset"in s&&s.xoffset?Math.max(a,Math.abs(s.xoffset)):"yoffset"in s&&s.yoffset?Math.max(a,Math.abs(s.yoffset||0)):a:a}function n(a,s){var l;return"number"==typeof a?a:(null==(l=null==a?void 0:a.stops)?void 0:l.length)?function e(a){let s=0,l=0;for(let f=0;f<a.length;f++){const u=a[f].size;"number"==typeof u&&(s+=u,l++)}return s/l}(a.stops):s}function o(a){var s;const l=null==a?void 0:a.renderer,f="touch"===(null==a?void 0:a.pointerType)?9:6;if(!l)return f;const u="visualVariables"in l?function r$1(a,s){if(!s)return a;const l=s.filter((a=>"size"===a.type)).map((s=>{const{maxSize:l,minSize:f}=s;return(n(l,a)+n(f,a))/2}));let f=0;const u=l.length;if(0===u)return a;for(let p=0;p<u;p++)f+=l[p];const c=Math.floor(f/u);return Math.max(c,a)}(f,l.visualVariables):f;if("simple"===l.type)return t(u,l.symbol);if("unique-value"===l.type){let a=u;return null==(s=l.uniqueValueInfos)||s.forEach((s=>{a=t(a,s.symbol)})),a}if("class-breaks"===l.type){let a=u;return l.classBreakInfos.forEach((s=>{a=t(a,s.symbol)})),a}return"dot-density"===l.type||l.type,u}function r(l,f,u,c=new a){let p=0;if("2d"===u.type)p=f*(u.resolution??0);else if("3d"===u.type){const a=u.overlayPixelSizeInMapUnits(l),c=u.basemapSpatialReference;p=null==c||c.equals(u.spatialReference)?f*a:s(c)/s(u.spatialReference)}const m=l.x-p,y=l.y-p,x=l.x+p,h=l.y+p,{spatialReference:M}=u;return c.xmin=Math.min(m,x),c.ymin=Math.min(y,h),c.xmax=Math.max(m,x),c.ymax=Math.max(y,h),c.spatialReference=M,c}function i(a,s,f){const u=f.toMap(a);return null!=u&&r(u,o(),f,l).intersects(s)}const l=new a;export{i,o,r};
